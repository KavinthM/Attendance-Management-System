{"ast":null,"code":"// @ts-check\nimport { NetworkError, UploadError } from '@uploadcare/upload-client';\n\n/** @type {import('../../../abstract/ValidationManager.js').FuncFileValidator} */\nexport const validateUploadError = (outputEntry, api) => {\n  const {\n    internalId\n  } = outputEntry;\n\n  // @ts-expect-error Use private API that is not exposed in the types\n  const internalEntry = api._uploadCollection.read(internalId);\n\n  /** @type {unknown} */\n  const cause = internalEntry?.getValue('uploadError');\n  if (!cause) {\n    return;\n  }\n  if (cause instanceof UploadError) {\n    return {\n      type: 'UPLOAD_ERROR',\n      message: cause.message,\n      payload: {\n        entry: outputEntry,\n        error: cause\n      }\n    };\n  }\n  if (cause instanceof NetworkError) {\n    return {\n      type: 'NETWORK_ERROR',\n      message: cause.message,\n      payload: {\n        entry: outputEntry,\n        error: cause\n      }\n    };\n  }\n  const error = cause instanceof Error ? cause : new Error('Unknown error', {\n    cause\n  });\n  return {\n    type: 'UNKNOWN_ERROR',\n    message: error.message,\n    payload: {\n      entry: outputEntry,\n      error\n    }\n  };\n};","map":{"version":3,"names":["NetworkError","UploadError","validateUploadError","outputEntry","api","internalId","internalEntry","_uploadCollection","read","cause","getValue","type","message","payload","entry","error","Error"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/utils/validators/file/validateUploadError.js"],"sourcesContent":["// @ts-check\nimport { NetworkError, UploadError } from '@uploadcare/upload-client';\n\n/** @type {import('../../../abstract/ValidationManager.js').FuncFileValidator} */\nexport const validateUploadError = (outputEntry, api) => {\n  const { internalId } = outputEntry;\n\n  // @ts-expect-error Use private API that is not exposed in the types\n  const internalEntry = api._uploadCollection.read(internalId);\n\n  /** @type {unknown} */\n  const cause = internalEntry?.getValue('uploadError');\n  if (!cause) {\n    return;\n  }\n\n  if (cause instanceof UploadError) {\n    return {\n      type: 'UPLOAD_ERROR',\n      message: cause.message,\n      payload: {\n        entry: outputEntry,\n        error: cause,\n      },\n    };\n  }\n\n  if (cause instanceof NetworkError) {\n    return {\n      type: 'NETWORK_ERROR',\n      message: cause.message,\n      payload: {\n        entry: outputEntry,\n        error: cause,\n      },\n    };\n  }\n\n  const error = cause instanceof Error ? cause : new Error('Unknown error', { cause });\n  return {\n    type: 'UNKNOWN_ERROR',\n    message: error.message,\n    payload: {\n      entry: outputEntry,\n      error,\n    },\n  };\n};\n"],"mappings":"AAAA;AACA,SAASA,YAAY,EAAEC,WAAW,QAAQ,2BAA2B;;AAErE;AACA,OAAO,MAAMC,mBAAmB,GAAGA,CAACC,WAAW,EAAEC,GAAG,KAAK;EACvD,MAAM;IAAEC;EAAW,CAAC,GAAGF,WAAW;;EAElC;EACA,MAAMG,aAAa,GAAGF,GAAG,CAACG,iBAAiB,CAACC,IAAI,CAACH,UAAU,CAAC;;EAE5D;EACA,MAAMI,KAAK,GAAGH,aAAa,EAAEI,QAAQ,CAAC,aAAa,CAAC;EACpD,IAAI,CAACD,KAAK,EAAE;IACV;EACF;EAEA,IAAIA,KAAK,YAAYR,WAAW,EAAE;IAChC,OAAO;MACLU,IAAI,EAAE,cAAc;MACpBC,OAAO,EAAEH,KAAK,CAACG,OAAO;MACtBC,OAAO,EAAE;QACPC,KAAK,EAAEX,WAAW;QAClBY,KAAK,EAAEN;MACT;IACF,CAAC;EACH;EAEA,IAAIA,KAAK,YAAYT,YAAY,EAAE;IACjC,OAAO;MACLW,IAAI,EAAE,eAAe;MACrBC,OAAO,EAAEH,KAAK,CAACG,OAAO;MACtBC,OAAO,EAAE;QACPC,KAAK,EAAEX,WAAW;QAClBY,KAAK,EAAEN;MACT;IACF,CAAC;EACH;EAEA,MAAMM,KAAK,GAAGN,KAAK,YAAYO,KAAK,GAAGP,KAAK,GAAG,IAAIO,KAAK,CAAC,eAAe,EAAE;IAAEP;EAAM,CAAC,CAAC;EACpF,OAAO;IACLE,IAAI,EAAE,eAAe;IACrBC,OAAO,EAAEG,KAAK,CAACH,OAAO;IACtBC,OAAO,EAAE;MACPC,KAAK,EAAEX,WAAW;MAClBY;IACF;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}