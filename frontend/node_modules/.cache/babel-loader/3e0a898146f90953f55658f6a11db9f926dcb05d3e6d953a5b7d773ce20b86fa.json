{"ast":null,"code":"// @ts-check\n\n/**\n * @template {{ (...args: any[]): void }} T\n * @param {T} fn\n * @param {number} wait\n * @returns {T & { readonly cancel: () => void }} }\n */\nexport const throttle = (fn, wait) => {\n  /** @type {boolean} */\n  let inThrottle;\n  /** @type {ReturnType<typeof setTimeout>} */\n  let lastFn;\n  /** @type {number} */\n  let lastTime;\n  /** @param {...any} args */\n  const throttled = (...args) => {\n    if (!inThrottle) {\n      fn(...args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(() => {\n        if (Date.now() - lastTime >= wait) {\n          fn(...args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n  Object.defineProperty(throttled, 'cancel', {\n    configurable: false,\n    writable: false,\n    enumerable: false,\n    value: () => {\n      clearTimeout(lastFn);\n    }\n  });\n  return /** @type {T & { readonly cancel: () => void }} */ /** @type {unknown} */throttled;\n};","map":{"version":3,"names":["throttle","fn","wait","inThrottle","lastFn","lastTime","throttled","args","Date","now","clearTimeout","setTimeout","Math","max","Object","defineProperty","configurable","writable","enumerable","value"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/utils/throttle.js"],"sourcesContent":["// @ts-check\n\n/**\n * @template {{ (...args: any[]): void }} T\n * @param {T} fn\n * @param {number} wait\n * @returns {T & { readonly cancel: () => void }} }\n */\nexport const throttle = (fn, wait) => {\n  /** @type {boolean} */\n  let inThrottle;\n  /** @type {ReturnType<typeof setTimeout>} */\n  let lastFn;\n  /** @type {number} */\n  let lastTime;\n  /** @param {...any} args */\n  const throttled = (...args) => {\n    if (!inThrottle) {\n      fn(...args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(\n        () => {\n          if (Date.now() - lastTime >= wait) {\n            fn(...args);\n            lastTime = Date.now();\n          }\n        },\n        Math.max(wait - (Date.now() - lastTime), 0),\n      );\n    }\n  };\n  Object.defineProperty(throttled, 'cancel', {\n    configurable: false,\n    writable: false,\n    enumerable: false,\n    value: () => {\n      clearTimeout(lastFn);\n    },\n  });\n\n  return /** @type {T & { readonly cancel: () => void }} */ (/** @type {unknown} */ (throttled));\n};\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,QAAQ,GAAGA,CAACC,EAAE,EAAEC,IAAI,KAAK;EACpC;EACA,IAAIC,UAAU;EACd;EACA,IAAIC,MAAM;EACV;EACA,IAAIC,QAAQ;EACZ;EACA,MAAMC,SAAS,GAAGA,CAAC,GAAGC,IAAI,KAAK;IAC7B,IAAI,CAACJ,UAAU,EAAE;MACfF,EAAE,CAAC,GAAGM,IAAI,CAAC;MACXF,QAAQ,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBN,UAAU,GAAG,IAAI;IACnB,CAAC,MAAM;MACLO,YAAY,CAACN,MAAM,CAAC;MACpBA,MAAM,GAAGO,UAAU,CACjB,MAAM;QACJ,IAAIH,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGJ,QAAQ,IAAIH,IAAI,EAAE;UACjCD,EAAE,CAAC,GAAGM,IAAI,CAAC;UACXF,QAAQ,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC;QACvB;MACF,CAAC,EACDG,IAAI,CAACC,GAAG,CAACX,IAAI,IAAIM,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC,CAC5C,CAAC;IACH;EACF,CAAC;EACDS,MAAM,CAACC,cAAc,CAACT,SAAS,EAAE,QAAQ,EAAE;IACzCU,YAAY,EAAE,KAAK;IACnBC,QAAQ,EAAE,KAAK;IACfC,UAAU,EAAE,KAAK;IACjBC,KAAK,EAAEA,CAAA,KAAM;MACXT,YAAY,CAACN,MAAM,CAAC;IACtB;EACF,CAAC,CAAC;EAEF,OAAO,mDAAoD,sBAAwBE,SAAS;AAC9F,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}