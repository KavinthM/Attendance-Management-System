{"ast":null,"code":"// @ts-check\n\nimport { Data } from '@symbiotejs/symbiote';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { asBoolean } from '../Config/validatorsType.js';\nimport { UploadSource } from '../utils/UploadSource.js';\nimport { DropzoneState, addDropzone } from './addDropzone.js';\nconst GLOBAL_CTX_NAME = 'uc-drop-area';\nconst REGISTRY_KEY = `${GLOBAL_CTX_NAME}/registry`;\nexport class DropArea extends UploaderBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-drop-area'];\n  constructor() {\n    super();\n    this.init$ = {\n      ...this.init$,\n      state: DropzoneState.INACTIVE,\n      withIcon: false,\n      isClickable: false,\n      isFullscreen: false,\n      isEnabled: true,\n      isVisible: true,\n      isInitFlow: false,\n      text: '',\n      [REGISTRY_KEY]: null\n    };\n  }\n  isActive() {\n    if (!this.$.isEnabled) {\n      return false;\n    }\n    const bounds = this.getBoundingClientRect();\n    const hasSize = bounds.width > 0 && bounds.height > 0;\n    const isInViewport = bounds.top >= 0 && bounds.left >= 0 && bounds.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bounds.right <= (window.innerWidth || document.documentElement.clientWidth);\n    const style = window.getComputedStyle(this);\n    const visible = style.visibility !== 'hidden' && style.display !== 'none';\n    return hasSize && visible && isInViewport;\n  }\n  initCallback() {\n    super.initCallback();\n    this.bindL10n('text', () => this.l10n('drop-files-here'));\n    if (!this.$[REGISTRY_KEY]) {\n      this.$[REGISTRY_KEY] = new Set();\n    }\n    this.$[REGISTRY_KEY].add(this);\n    this.defineAccessor('disabled', /** @param {unknown} value */value => {\n      this.set$({\n        isEnabled: !asBoolean(value)\n      });\n    });\n    this.defineAccessor('clickable', /** @param {unknown} value */value => {\n      this.set$({\n        isClickable: asBoolean(value)\n      });\n    });\n    this.defineAccessor('initflow', /** @param {unknown} value */value => {\n      this.set$({\n        isInitFlow: asBoolean(value)\n      });\n    });\n    this.defineAccessor('with-icon', /** @param {unknown} value */value => {\n      this.set$({\n        withIcon: asBoolean(value)\n      });\n    });\n    this.defineAccessor('fullscreen', /** @param {unknown} value */value => {\n      this.set$({\n        isFullscreen: asBoolean(value)\n      });\n    });\n    this.defineAccessor('text', /** @param {unknown} value */value => {\n      if (typeof value === 'string') {\n        this.bindL10n('text', () => this.l10n(value) || value);\n      } else {\n        this.bindL10n('text', () => this.l10n('drop-files-here'));\n      }\n    });\n\n    /** @private */\n    this._destroyDropzone = addDropzone({\n      element: this,\n      shouldIgnore: () => this._shouldIgnore(),\n      /** @param {DropzoneState} state */\n      onChange: state => {\n        this.$.state = state;\n      },\n      /** @param {import('./getDropItems.js').DropItem[]} items */\n      onItems: items => {\n        if (!items.length) {\n          return;\n        }\n        items.forEach((/** @type {import('./getDropItems.js').DropItem} */item) => {\n          if (item.type === 'url') {\n            this.api.addFileFromUrl(item.url, {\n              source: UploadSource.DROP_AREA\n            });\n          } else if (item.type === 'file') {\n            this.api.addFileFromObject(item.file, {\n              source: UploadSource.DROP_AREA,\n              fullPath: item.fullPath\n            });\n          }\n        });\n        if (this.uploadCollection.size) {\n          this.modalManager.open(ActivityBlock.activities.UPLOAD_LIST);\n          this.set$({\n            '*currentActivity': ActivityBlock.activities.UPLOAD_LIST\n          });\n        }\n      }\n    });\n    let contentWrapperEl = this.ref['content-wrapper'];\n    if (contentWrapperEl) {\n      this._destroyContentWrapperDropzone = addDropzone({\n        element: contentWrapperEl,\n        /** @param {DropzoneState} state */\n        onChange: state => {\n          const stateText = Object.entries(DropzoneState).find(([, value]) => value === state)?.[0].toLowerCase();\n          stateText && contentWrapperEl.setAttribute('drag-state', stateText);\n        },\n        onItems: () => {},\n        shouldIgnore: () => this._shouldIgnore()\n      });\n    }\n    this.sub('state', state => {\n      const stateText = Object.entries(DropzoneState).find(([, value]) => value === state)?.[0].toLowerCase();\n      if (stateText) {\n        this.setAttribute('drag-state', stateText);\n      }\n    });\n    this.subConfigValue('sourceList', value => {\n      const list = stringToArray(value);\n      // Enable drop area if local files are allowed\n      this.$.isEnabled = list.includes(UploadSource.LOCAL);\n      // Show drop area if it's enabled or default slot is overrided\n      this.$.isVisible = this.$.isEnabled || !this.querySelector('[data-default-slot]');\n    });\n    this.sub('isVisible', value => {\n      this.toggleAttribute('hidden', !value);\n    });\n    this.sub('isClickable', value => {\n      this.toggleAttribute('clickable', value);\n    });\n    if (this.$.isClickable) {\n      /**\n       * @private\n       * @param {KeyboardEvent | Event} event\n       */\n      this._onAreaClicked = event => {\n        if (event.type === 'keydown') {\n          // @ts-ignore\n          if (event.code === 'Space' || event.code === 'Enter') {\n            if (this.$.isInitFlow) {\n              this.api.initFlow();\n              return;\n            }\n            this.api.openSystemDialog();\n          }\n        } else if (event.type === 'click') {\n          if (this.$.isInitFlow) {\n            this.api.initFlow();\n            return;\n          }\n          this.api.openSystemDialog();\n        }\n      };\n      this.addEventListener('keydown', this._onAreaClicked);\n      this.addEventListener('click', this._onAreaClicked);\n    }\n  }\n\n  /**\n   * Ignore drop events if there are other visible drop areas on the page\n   *\n   * @private\n   * @returns {Boolean}\n   */\n  _shouldIgnore() {\n    if (!this.$.isEnabled) {\n      return true;\n    }\n    if (!this._couldHandleFiles()) {\n      return true;\n    }\n    if (!this.$.isFullscreen) {\n      return false;\n    }\n    const otherTargets = [...this.$[REGISTRY_KEY]].filter(el => el !== this);\n    const activeTargets = otherTargets.filter((/** @type {typeof this} */el) => {\n      return el.isActive();\n    });\n    return activeTargets.length > 0;\n  }\n\n  /** @private */\n  _couldHandleFiles() {\n    let isMultiple = this.cfg.multiple;\n    let multipleMax = this.cfg.multipleMax;\n    let currentFilesCount = this.uploadCollection.size;\n    if (isMultiple && multipleMax && currentFilesCount >= multipleMax) {\n      return false;\n    }\n    if (!isMultiple && currentFilesCount > 0) {\n      return false;\n    }\n    return true;\n  }\n  destroyCallback() {\n    super.destroyCallback();\n\n    /** @type {Set<DropArea>} */\n    const registry = this.$[REGISTRY_KEY];\n    if (registry) {\n      registry.delete(this);\n      if (registry.size === 0) {\n        Data.deleteCtx(GLOBAL_CTX_NAME);\n      }\n    }\n    this._destroyDropzone?.();\n    this._destroyContentWrapperDropzone?.();\n    if (this._onAreaClicked) {\n      this.removeEventListener('keydown', this._onAreaClicked);\n      this.removeEventListener('click', this._onAreaClicked);\n    }\n  }\n}\nDropArea.template = /* HTML */`\n  <slot>\n    <div data-default-slot hidden></div>\n    <div ref=\"content-wrapper\" class=\"uc-content-wrapper\" set=\"@hidden: !isVisible\">\n      <div class=\"uc-icon-container\" set=\"@hidden: !withIcon\">\n        <uc-icon name=\"default\"></uc-icon>\n        <uc-icon name=\"arrow-down\"></uc-icon>\n      </div>\n      <span class=\"uc-text\">{{text}}</span>\n    </div>\n  </slot>\n`;\nDropArea.bindAttributes({\n  // @ts-expect-error TODO: fix types inside symbiote\n  'with-icon': null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  clickable: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  text: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  fullscreen: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  disabled: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  initflow: null\n});","map":{"version":3,"names":["Data","ActivityBlock","UploaderBlock","stringToArray","asBoolean","UploadSource","DropzoneState","addDropzone","GLOBAL_CTX_NAME","REGISTRY_KEY","DropArea","styleAttrs","constructor","init$","state","INACTIVE","withIcon","isClickable","isFullscreen","isEnabled","isVisible","isInitFlow","text","isActive","$","bounds","getBoundingClientRect","hasSize","width","height","isInViewport","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","style","getComputedStyle","visible","visibility","display","initCallback","bindL10n","l10n","Set","add","defineAccessor","value","set$","_destroyDropzone","element","shouldIgnore","_shouldIgnore","onChange","onItems","items","length","forEach","item","type","api","addFileFromUrl","url","source","DROP_AREA","addFileFromObject","file","fullPath","uploadCollection","size","modalManager","open","activities","UPLOAD_LIST","contentWrapperEl","ref","_destroyContentWrapperDropzone","stateText","Object","entries","find","toLowerCase","setAttribute","sub","subConfigValue","list","includes","LOCAL","querySelector","toggleAttribute","_onAreaClicked","event","code","initFlow","openSystemDialog","addEventListener","_couldHandleFiles","otherTargets","filter","el","activeTargets","isMultiple","cfg","multiple","multipleMax","currentFilesCount","destroyCallback","registry","delete","deleteCtx","removeEventListener","template","bindAttributes","clickable","fullscreen","disabled","initflow"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/DropArea/DropArea.js"],"sourcesContent":["// @ts-check\n\nimport { Data } from '@symbiotejs/symbiote';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { asBoolean } from '../Config/validatorsType.js';\nimport { UploadSource } from '../utils/UploadSource.js';\nimport { DropzoneState, addDropzone } from './addDropzone.js';\n\nconst GLOBAL_CTX_NAME = 'uc-drop-area';\nconst REGISTRY_KEY = `${GLOBAL_CTX_NAME}/registry`;\n\nexport class DropArea extends UploaderBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-drop-area'];\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      state: DropzoneState.INACTIVE,\n      withIcon: false,\n      isClickable: false,\n      isFullscreen: false,\n      isEnabled: true,\n      isVisible: true,\n      isInitFlow: false,\n      text: '',\n      [REGISTRY_KEY]: null,\n    };\n  }\n\n  isActive() {\n    if (!this.$.isEnabled) {\n      return false;\n    }\n    const bounds = this.getBoundingClientRect();\n    const hasSize = bounds.width > 0 && bounds.height > 0;\n    const isInViewport =\n      bounds.top >= 0 &&\n      bounds.left >= 0 &&\n      bounds.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      bounds.right <= (window.innerWidth || document.documentElement.clientWidth);\n\n    const style = window.getComputedStyle(this);\n    const visible = style.visibility !== 'hidden' && style.display !== 'none';\n\n    return hasSize && visible && isInViewport;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.bindL10n('text', () => this.l10n('drop-files-here'));\n\n    if (!this.$[REGISTRY_KEY]) {\n      this.$[REGISTRY_KEY] = new Set();\n    }\n    this.$[REGISTRY_KEY].add(this);\n\n    this.defineAccessor(\n      'disabled',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isEnabled: !asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'clickable',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isClickable: asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'initflow',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isInitFlow: asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'with-icon',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ withIcon: asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'fullscreen',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isFullscreen: asBoolean(value) });\n      },\n    );\n\n    this.defineAccessor(\n      'text',\n      /** @param {unknown} value */ (value) => {\n        if (typeof value === 'string') {\n          this.bindL10n('text', () => this.l10n(value) || value);\n        } else {\n          this.bindL10n('text', () => this.l10n('drop-files-here'));\n        }\n      },\n    );\n\n    /** @private */\n    this._destroyDropzone = addDropzone({\n      element: this,\n      shouldIgnore: () => this._shouldIgnore(),\n      /** @param {DropzoneState} state */\n      onChange: (state) => {\n        this.$.state = state;\n      },\n      /** @param {import('./getDropItems.js').DropItem[]} items */\n      onItems: (items) => {\n        if (!items.length) {\n          return;\n        }\n\n        items.forEach((/** @type {import('./getDropItems.js').DropItem} */ item) => {\n          if (item.type === 'url') {\n            this.api.addFileFromUrl(item.url, { source: UploadSource.DROP_AREA });\n          } else if (item.type === 'file') {\n            this.api.addFileFromObject(item.file, { source: UploadSource.DROP_AREA, fullPath: item.fullPath });\n          }\n        });\n        if (this.uploadCollection.size) {\n          this.modalManager.open(ActivityBlock.activities.UPLOAD_LIST);\n          this.set$({\n            '*currentActivity': ActivityBlock.activities.UPLOAD_LIST,\n          });\n        }\n      },\n    });\n\n    let contentWrapperEl = this.ref['content-wrapper'];\n    if (contentWrapperEl) {\n      this._destroyContentWrapperDropzone = addDropzone({\n        element: contentWrapperEl,\n        /** @param {DropzoneState} state */\n        onChange: (state) => {\n          const stateText = Object.entries(DropzoneState)\n            .find(([, value]) => value === state)?.[0]\n            .toLowerCase();\n          stateText && contentWrapperEl.setAttribute('drag-state', stateText);\n        },\n        onItems: () => {},\n        shouldIgnore: () => this._shouldIgnore(),\n      });\n    }\n\n    this.sub('state', (state) => {\n      const stateText = Object.entries(DropzoneState)\n        .find(([, value]) => value === state)?.[0]\n        .toLowerCase();\n      if (stateText) {\n        this.setAttribute('drag-state', stateText);\n      }\n    });\n\n    this.subConfigValue('sourceList', (value) => {\n      const list = stringToArray(value);\n      // Enable drop area if local files are allowed\n      this.$.isEnabled = list.includes(UploadSource.LOCAL);\n      // Show drop area if it's enabled or default slot is overrided\n      this.$.isVisible = this.$.isEnabled || !this.querySelector('[data-default-slot]');\n    });\n\n    this.sub('isVisible', (value) => {\n      this.toggleAttribute('hidden', !value);\n    });\n\n    this.sub('isClickable', (value) => {\n      this.toggleAttribute('clickable', value);\n    });\n\n    if (this.$.isClickable) {\n      /**\n       * @private\n       * @param {KeyboardEvent | Event} event\n       */\n      this._onAreaClicked = (event) => {\n        if (event.type === 'keydown') {\n          // @ts-ignore\n          if (event.code === 'Space' || event.code === 'Enter') {\n            if (this.$.isInitFlow) {\n              this.api.initFlow();\n              return;\n            }\n\n            this.api.openSystemDialog();\n          }\n        } else if (event.type === 'click') {\n          if (this.$.isInitFlow) {\n            this.api.initFlow();\n            return;\n          }\n\n          this.api.openSystemDialog();\n        }\n      };\n\n      this.addEventListener('keydown', this._onAreaClicked);\n      this.addEventListener('click', this._onAreaClicked);\n    }\n  }\n\n  /**\n   * Ignore drop events if there are other visible drop areas on the page\n   *\n   * @private\n   * @returns {Boolean}\n   */\n  _shouldIgnore() {\n    if (!this.$.isEnabled) {\n      return true;\n    }\n    if (!this._couldHandleFiles()) {\n      return true;\n    }\n    if (!this.$.isFullscreen) {\n      return false;\n    }\n    const otherTargets = [...this.$[REGISTRY_KEY]].filter((el) => el !== this);\n    const activeTargets = otherTargets.filter((/** @type {typeof this} */ el) => {\n      return el.isActive();\n    });\n    return activeTargets.length > 0;\n  }\n\n  /** @private */\n  _couldHandleFiles() {\n    let isMultiple = this.cfg.multiple;\n    let multipleMax = this.cfg.multipleMax;\n    let currentFilesCount = this.uploadCollection.size;\n\n    if (isMultiple && multipleMax && currentFilesCount >= multipleMax) {\n      return false;\n    }\n\n    if (!isMultiple && currentFilesCount > 0) {\n      return false;\n    }\n\n    return true;\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    /** @type {Set<DropArea>} */\n    const registry = this.$[REGISTRY_KEY];\n    if (registry) {\n      registry.delete(this);\n      if (registry.size === 0) {\n        Data.deleteCtx(GLOBAL_CTX_NAME);\n      }\n    }\n\n    this._destroyDropzone?.();\n    this._destroyContentWrapperDropzone?.();\n    if (this._onAreaClicked) {\n      this.removeEventListener('keydown', this._onAreaClicked);\n      this.removeEventListener('click', this._onAreaClicked);\n    }\n  }\n}\n\nDropArea.template = /* HTML */ `\n  <slot>\n    <div data-default-slot hidden></div>\n    <div ref=\"content-wrapper\" class=\"uc-content-wrapper\" set=\"@hidden: !isVisible\">\n      <div class=\"uc-icon-container\" set=\"@hidden: !withIcon\">\n        <uc-icon name=\"default\"></uc-icon>\n        <uc-icon name=\"arrow-down\"></uc-icon>\n      </div>\n      <span class=\"uc-text\">{{text}}</span>\n    </div>\n  </slot>\n`;\n\nDropArea.bindAttributes({\n  // @ts-expect-error TODO: fix types inside symbiote\n  'with-icon': null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  clickable: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  text: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  fullscreen: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  disabled: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  initflow: null,\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}