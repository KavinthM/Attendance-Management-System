{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AdminDashboard/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../../utils/api';\nimport './AdminDashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  var _assignContext$user2, _assignContext$user3, _assignContext$user4, _assignContext$user5, _assignContext$user6;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [dashboardStats, setDashboardStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    shuttleStaff: 0,\n    todayAttendance: 0,\n    activeBuses: 0,\n    activeAnnouncements: 0\n  });\n  const [recentActivity, setRecentActivity] = useState([]);\n\n  // Student management state\n  const [students, setStudents] = useState([]);\n  const [filteredStudents, setFilteredStudents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('userID');\n  const [emailStatusFilter, setEmailStatusFilter] = useState('');\n  const [showStudentModal, setShowStudentModal] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [studentForm, setStudentForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Parent',\n    // Parent contact fields included so student + parent can be entered in one form\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [studentFormErrors, setStudentFormErrors] = useState({});\n\n  // Teacher management state\n  const [teachers, setTeachers] = useState([]);\n  const [filteredTeachers, setFilteredTeachers] = useState([]);\n  const [teacherSearchTerm, setTeacherSearchTerm] = useState('');\n  const [teacherSortBy, setTeacherSortBy] = useState('userID');\n  const [teacherEmailStatusFilter, setTeacherEmailStatusFilter] = useState('');\n  const [showTeacherModal, setShowTeacherModal] = useState(false);\n  const [editingTeacher, setEditingTeacher] = useState(null);\n  const [teacherForm, setTeacherForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Teacher',\n    grade: '',\n    class: 'A',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [teacherFormErrors, setTeacherFormErrors] = useState({});\n\n  // Academic assignment state\n  const [academicByUserId, setAcademicByUserId] = useState({}); // { [userID]: { grade, class } }\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [assignContext, setAssignContext] = useState({\n    role: '',\n    user: null\n  });\n  const [assignForm, setAssignForm] = useState({\n    grade: '',\n    class: 'A'\n  });\n\n  // Parent details form states\n  const [showParentDetailsModal, setShowParentDetailsModal] = useState(false);\n  const [parentDetailsForm, setParentDetailsForm] = useState({\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [parentDetailsErrors, setParentDetailsErrors] = useState({});\n  // Track which userIDs had parent details saved during this session to avoid re-prompting\n  const [parentDetailsSaved, setParentDetailsSaved] = useState({});\n\n  // Shuttle Staff management state\n  const [shuttleStaff, setShuttleStaff] = useState([]);\n  const [filteredShuttleStaff, setFilteredShuttleStaff] = useState([]);\n  const [shuttleSearchTerm, setShuttleSearchTerm] = useState('');\n  const [shuttleSortBy, setShuttleSortBy] = useState('userID');\n  const [shuttleEmailStatusFilter, setShuttleEmailStatusFilter] = useState('');\n  const [showShuttleModal, setShowShuttleModal] = useState(false);\n  const [editingShuttle, setEditingShuttle] = useState(null);\n  const [shuttleForm, setShuttleForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'ShuttleStaff',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [shuttleFormErrors, setShuttleFormErrors] = useState({});\n\n  // Admin management state\n  const [admins, setAdmins] = useState([]);\n  const [filteredAdmins, setFilteredAdmins] = useState([]);\n  const [adminSearchTerm, setAdminSearchTerm] = useState('');\n  const [adminSortBy, setAdminSortBy] = useState('userID');\n  const [adminEmailStatusFilter, setAdminEmailStatusFilter] = useState('');\n  const [showAdminModal, setShowAdminModal] = useState(false);\n  const [editingAdmin, setEditingAdmin] = useState(null);\n  const [adminForm, setAdminForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Admin',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [adminFormErrors, setAdminFormErrors] = useState({});\n\n  // Load user data and dashboard statistics\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const userData = await api('/auth/me');\n        setUser((userData === null || userData === void 0 ? void 0 : userData.user) || userData);\n      } catch (error) {\n        console.error('Failed to load user data:', error);\n        // If authentication fails, clear token and redirect to login\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n    const loadDashboardStats = async () => {\n      try {\n        const stats = await api('/users/stats');\n        setDashboardStats({\n          totalStudents: stats.parents || 0,\n          totalTeachers: stats.teachers || 0,\n          shuttleStaff: stats.shuttleStaff || 0,\n          todayAttendance: 0,\n          // This would come from attendance API\n          activeBuses: 12,\n          // This would come from transport API\n          activeAnnouncements: 7 // This would come from announcements API\n        });\n      } catch (error) {\n        console.error('Failed to load dashboard statistics:', error);\n      }\n    };\n    loadUserData();\n    loadDashboardStats();\n    // Note: recent activity depends on the loaded `user` and is handled in a separate effect\n  }, [navigate]);\n\n  // Load recent activity once we have a userID available. This avoids reading properties on null.\n  useEffect(() => {\n    const loadRecentActivity = async () => {\n      try {\n        if (user !== null && user !== void 0 && user.userID) {\n          const response = await api(`/activities/recent/${user.userID}`);\n          setRecentActivity(response.activities || []);\n        } else {\n          setRecentActivity([]);\n        }\n      } catch (error) {\n        console.error('Failed to load recent activity:', error);\n        setRecentActivity([]);\n      }\n    };\n    loadRecentActivity();\n  }, [user === null || user === void 0 ? void 0 : user.userID]);\n\n  // State to track which row's kebab menu is open (store unique id like user._id)\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Close kebab menu when clicking outside\n  useEffect(() => {\n    const handleDocClick = e => {\n      // If click is outside any open kebab menu, close it\n      if (!e.target.closest || !document.querySelector('.kebab-menu')) return;\n      const openMenu = document.querySelector('.kebab-menu.open');\n      if (openMenu && !openMenu.contains(e.target) && !e.target.closest('.kebab-button')) {\n        setOpenMenuId(null);\n      }\n    };\n    document.addEventListener('click', handleDocClick);\n    return () => document.removeEventListener('click', handleDocClick);\n  }, []);\n\n  // Small reusable KebabMenu component (inline)\n  const KebabMenu = ({\n    id,\n    onEdit,\n    onDelete,\n    extraItems\n  }) => {\n    const isOpen = openMenuId === id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kebab-container\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"kebab-button\",\n        \"aria-label\": \"More options\",\n        onClick: e => {\n          e.stopPropagation();\n          setOpenMenuId(isOpen ? null : id);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `kebab-menu ${isOpen ? 'open' : ''}`,\n        role: \"menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-item edit-item\",\n          onClick: () => {\n            setOpenMenuId(null);\n            onEdit && onEdit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-icon edit-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), extraItems, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-item delete-item\",\n          onClick: () => {\n            setOpenMenuId(null);\n            onDelete && onDelete();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-icon delete-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), \"Delete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Validate phone: require exactly 10 digits (digits only)\n  const validatePhoneNumber = phone => {\n    if (!phone || !String(phone).trim()) return {\n      isValid: false,\n      message: 'Phone number is required'\n    };\n    const digits = String(phone).replace(/\\D/g, '');\n    if (digits.length !== 10) return {\n      isValid: false,\n      message: 'Phone number must be exactly 10 digits'\n    };\n    return {\n      isValid: true,\n      normalized: digits\n    };\n  };\n\n  // Check if user is admin, if not redirect to home\n  useEffect(() => {\n    if (user) {\n      var _user$role, _user$userType;\n      const isAdmin = ((_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.toLowerCase()) === 'admin' || ((_user$userType = user.userType) === null || _user$userType === void 0 ? void 0 : _user$userType.toLowerCase()) === 'admin';\n      if (!isAdmin) {\n        alert('Access Denied: Only administrators can access the Admin Dashboard.');\n        navigate('/');\n      }\n    }\n  }, [user, navigate]);\n\n  // Handle tab parameter from URL\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const tabParam = searchParams.get('tab');\n    if (tabParam && ['dashboard', 'students', 'teachers', 'shuttle-staff', 'admins'].includes(tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [location.search]);\n  const handleMenuToggle = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n  const handleMenuClick = menuItem => {\n    setActiveTab(menuItem);\n    // Close sidebar on mobile\n    if (window.innerWidth <= 576) {\n      setSidebarOpen(false);\n    }\n  };\n\n  // Student management functions\n  const loadStudents = useCallback(async () => {\n    try {\n      // Load users from the API and filter only parents\n      const response = await api('/users');\n      const users = response.users || [];\n      const parentUsers = users.filter(user => user.role === 'Parent');\n      setStudents(parentUsers);\n      setFilteredStudents(parentUsers);\n      // Load academic info for parents\n      await loadAcademicAssignments('Parent');\n    } catch (error) {\n      console.error('Failed to load students:', error);\n      // Fallback to empty array if API fails\n      setStudents([]);\n      setFilteredStudents([]);\n    }\n  }, []);\n\n  // Teacher management functions\n  const loadTeachers = useCallback(async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const teacherUsers = users.filter(user => user.role === 'Teacher');\n      setTeachers(teacherUsers);\n      setFilteredTeachers(teacherUsers);\n      // Load academic info for teachers\n      await loadAcademicAssignments('Teacher');\n    } catch (error) {\n      console.error('Failed to load teachers:', error);\n      setTeachers([]);\n      setFilteredTeachers([]);\n    }\n  }, []);\n\n  // Shuttle Staff management functions\n  const loadShuttleStaff = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const shuttleUsers = users.filter(user => user.role === 'ShuttleStaff');\n      setShuttleStaff(shuttleUsers);\n      setFilteredShuttleStaff(shuttleUsers);\n    } catch (error) {\n      console.error('Failed to load shuttle staff:', error);\n      setShuttleStaff([]);\n      setFilteredShuttleStaff([]);\n    }\n  };\n\n  // Admin management functions\n  const loadAdmins = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const adminUsers = users.filter(user => user.role === 'Admin');\n      setAdmins(adminUsers);\n      setFilteredAdmins(adminUsers);\n    } catch (error) {\n      console.error('Failed to load admins:', error);\n      setAdmins([]);\n      setFilteredAdmins([]);\n    }\n  };\n  const filterAndSortStudents = useCallback(() => {\n    let filtered = [...students];\n\n    // Enhanced search filter with better matching\n    if (searchTerm && searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName, _user$email, _user$userID, _user$address;\n        // Check all searchable fields\n        const fullName = ((_user$fullName = user.fullName) === null || _user$fullName === void 0 ? void 0 : _user$fullName.toLowerCase()) || '';\n        const email = ((_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.toLowerCase()) || '';\n        const userID = ((_user$userID = user.userID) === null || _user$userID === void 0 ? void 0 : _user$userID.toLowerCase()) || '';\n        const address = ((_user$address = user.address) === null || _user$address === void 0 ? void 0 : _user$address.toLowerCase()) || '';\n\n        // Search in multiple fields\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n\n    // Email verification status filter\n    if (emailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (emailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (emailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n\n    // Sort users\n    switch (sortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredStudents(filtered);\n  }, [students, searchTerm, emailStatusFilter, sortBy]);\n\n  // Load academic assignments by role and index by userID\n  const loadAcademicAssignments = async role => {\n    try {\n      console.log(`Making API call to /academic?role=${encodeURIComponent(role)}`);\n      const res = await api(`/academic?role=${encodeURIComponent(role)}`);\n      console.log('API response:', res);\n      // Backend returns { academicRecords: [...] }. Be defensive about shapes.\n      const list = Array.isArray(res.academicRecords) ? res.academicRecords : Array.isArray(res) ? res : [];\n      console.log(`Loading academic assignments for ${role}:`, list);\n      setAcademicByUserId(prev => {\n        const copy = {\n          ...prev\n        };\n        list.forEach(r => {\n          // r.userID may be an object (populated) or a string; backend also provides originalUserID\n          const uid = r.userID && r.userID.userID || r.originalUserID || r.userID || null;\n          console.log(`Processing academic record for userID: ${uid}, grade: ${r.grade}, class: ${r.class}`);\n          if (uid) {\n            copy[uid] = {\n              grade: r.grade,\n              class: r.class\n            };\n          }\n        });\n        console.log('Updated academicByUserId:', copy);\n        return copy;\n      });\n    } catch (e) {\n      console.error('Failed to load academic assignments:', e);\n    }\n  };\n  const openAssignModal = (user, role) => {\n    const current = academicByUserId[user.userID] || {\n      grade: '',\n      class: 'A'\n    };\n    setAssignContext({\n      role,\n      user\n    });\n    setAssignForm({\n      grade: current.grade || '',\n      class: current.class || 'A'\n    });\n    setShowAssignModal(true);\n  };\n  const saveAssignment = async e => {\n    e.preventDefault();\n    if (!assignForm.grade || !assignForm.class) return;\n    try {\n      // Try to create assignment first, if it fails with \"already assigned\", then update\n      try {\n        await api('/academic/assign', {\n          method: 'POST',\n          body: {\n            userID: assignContext.user.userID,\n            grade: Number(assignForm.grade),\n            class: assignForm.class\n          }\n        });\n      } catch (createError) {\n        // If creation fails because already assigned, try to update instead\n        if (createError.message && createError.message.includes('already assigned')) {\n          await api(`/academic/${assignContext.user.userID}`, {\n            method: 'PUT',\n            body: {\n              grade: Number(assignForm.grade),\n              class: assignForm.class\n            }\n          });\n        } else {\n          throw createError; // Re-throw if it's a different error\n        }\n      }\n      // Refresh cache for the role\n      await loadAcademicAssignments(assignContext.role);\n\n      // If this was a new student assignment, refresh the students list\n      if (assignContext.role === 'Parent') {\n        var _assignContext$user;\n        await loadStudents();\n        // Show parent details form after academic assignment only if parent details not already saved\n        setShowAssignModal(false);\n        const uid = (_assignContext$user = assignContext.user) === null || _assignContext$user === void 0 ? void 0 : _assignContext$user.userID;\n        if (!uid || !parentDetailsSaved[uid]) {\n          setShowParentDetailsModal(true);\n        }\n        return;\n      }\n      setShowAssignModal(false);\n    } catch (error) {\n      console.error('Failed to save academic assignment:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      alert(`Failed to save assignment: ${error.message || 'Please try again.'}`);\n    }\n  };\n\n  // Teacher filter and sort function\n  const filterAndSortTeachers = useCallback(() => {\n    let filtered = [...teachers];\n    if (teacherSearchTerm && teacherSearchTerm.trim()) {\n      const searchLower = teacherSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName2, _user$email2, _user$userID2, _user$address2;\n        const fullName = ((_user$fullName2 = user.fullName) === null || _user$fullName2 === void 0 ? void 0 : _user$fullName2.toLowerCase()) || '';\n        const email = ((_user$email2 = user.email) === null || _user$email2 === void 0 ? void 0 : _user$email2.toLowerCase()) || '';\n        const userID = ((_user$userID2 = user.userID) === null || _user$userID2 === void 0 ? void 0 : _user$userID2.toLowerCase()) || '';\n        const address = ((_user$address2 = user.address) === null || _user$address2 === void 0 ? void 0 : _user$address2.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (teacherEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (teacherEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (teacherEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (teacherSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredTeachers(filtered);\n  }, [teachers, teacherSearchTerm, teacherEmailStatusFilter, teacherSortBy]);\n\n  // Shuttle Staff filter and sort function\n  const filterAndSortShuttleStaff = useCallback(() => {\n    let filtered = [...shuttleStaff];\n    if (shuttleSearchTerm && shuttleSearchTerm.trim()) {\n      const searchLower = shuttleSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName3, _user$email3, _user$userID3, _user$address3;\n        const fullName = ((_user$fullName3 = user.fullName) === null || _user$fullName3 === void 0 ? void 0 : _user$fullName3.toLowerCase()) || '';\n        const email = ((_user$email3 = user.email) === null || _user$email3 === void 0 ? void 0 : _user$email3.toLowerCase()) || '';\n        const userID = ((_user$userID3 = user.userID) === null || _user$userID3 === void 0 ? void 0 : _user$userID3.toLowerCase()) || '';\n        const address = ((_user$address3 = user.address) === null || _user$address3 === void 0 ? void 0 : _user$address3.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (shuttleEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (shuttleEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (shuttleEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (shuttleSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredShuttleStaff(filtered);\n  }, [shuttleStaff, shuttleSearchTerm, shuttleEmailStatusFilter, shuttleSortBy]);\n\n  // Admin filter and sort function\n  const filterAndSortAdmins = useCallback(() => {\n    let filtered = [...admins];\n    if (adminSearchTerm && adminSearchTerm.trim()) {\n      const searchLower = adminSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName4, _user$email4, _user$userID4, _user$address4;\n        const fullName = ((_user$fullName4 = user.fullName) === null || _user$fullName4 === void 0 ? void 0 : _user$fullName4.toLowerCase()) || '';\n        const email = ((_user$email4 = user.email) === null || _user$email4 === void 0 ? void 0 : _user$email4.toLowerCase()) || '';\n        const userID = ((_user$userID4 = user.userID) === null || _user$userID4 === void 0 ? void 0 : _user$userID4.toLowerCase()) || '';\n        const address = ((_user$address4 = user.address) === null || _user$address4 === void 0 ? void 0 : _user$address4.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (adminEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (adminEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (adminEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (adminSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredAdmins(filtered);\n  }, [admins, adminSearchTerm, adminEmailStatusFilter, adminSortBy]);\n  const handleAddStudent = () => {\n    setEditingStudent(null);\n    setStudentForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Parent'\n    });\n    setShowStudentModal(true);\n  };\n  const handleEditStudent = user => {\n    setEditingStudent(user);\n    setStudentForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role\n    });\n    // If editing a Parent user, try to load existing parent details and merge into the form\n    if (user.role === 'Parent') {\n      (async () => {\n        try {\n          const parentResp = await api(`/parents/${user.userID}`);\n          if (parentResp && parentResp.parentDetails) {\n            setStudentForm(prev => ({\n              ...prev,\n              parentName: parentResp.parentDetails.parentName || '',\n              contactNumber: parentResp.parentDetails.contactNumber || '',\n              whatsappNumber: parentResp.parentDetails.whatsappNumber || ''\n            }));\n          }\n        } catch (err) {\n          // ignore - parent details may not exist yet\n          console.debug('No parent details to preload for user:', user.userID, err.message || err);\n        }\n      })();\n    }\n    setShowStudentModal(true);\n  };\n  const handleDeleteStudent = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedStudents = students.filter(user => user._id !== userId);\n        setStudents(updatedStudents);\n        filterAndSortStudents();\n      } catch (error) {\n        console.error('Failed to delete user:', error);\n        alert('Failed to delete user. Please try again.');\n      }\n    }\n  };\n\n  // Calculate grade based on age\n  const calculateGradeFromAge = birthday => {\n    if (!birthday) return null;\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    const age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    const actualAge = monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate() ? age - 1 : age;\n\n    // Grade calculation: (current year - birth year) - 5 = grade\n    // This means: age 6 = grade 1, age 7 = grade 2, etc.\n    // Ages 6-16 correspond to grades 1-11\n    if (actualAge >= 6 && actualAge <= 16) {\n      return actualAge - 5; // 6 years old = grade 1, 7 years old = grade 2, etc.\n    }\n    return null; // Invalid age range\n  };\n  const handleSaveStudent = async e => {\n    e.preventDefault();\n\n    // Clear previous errors\n    setStudentFormErrors({});\n\n    // Validate form\n    const birthdayValidation = validateBirthday(studentForm.birthday, studentForm.role);\n    if (!birthdayValidation.isValid) {\n      setStudentFormErrors({\n        birthday: birthdayValidation.message\n      });\n      return;\n    }\n\n    // Basic validation\n    if (!studentForm.fullName.trim()) {\n      setStudentFormErrors({\n        fullName: 'Full name is required'\n      });\n      return;\n    }\n    if (!studentForm.email.trim()) {\n      setStudentFormErrors({\n        email: 'Email is required'\n      });\n      return;\n    }\n    if (!studentForm.address.trim()) {\n      setStudentFormErrors({\n        address: 'Address is required'\n      });\n      return;\n    }\n    // Validate parent phone fields if role is Parent and any phone is provided\n    if (studentForm.role === 'Parent') {\n      const errs = {};\n      if (studentForm.contactNumber && studentForm.contactNumber.trim()) {\n        const v = validatePhoneNumber(studentForm.contactNumber);\n        if (!v.isValid) errs.contactNumber = v.message;else studentForm.contactNumber = v.normalized;\n      }\n      if (studentForm.whatsappNumber && studentForm.whatsappNumber.trim()) {\n        const v2 = validatePhoneNumber(studentForm.whatsappNumber);\n        if (!v2.isValid) errs.whatsappNumber = v2.message;else studentForm.whatsappNumber = v2.normalized;\n      }\n      if (Object.keys(errs).length > 0) {\n        setStudentFormErrors(errs);\n        return;\n      }\n    }\n    try {\n      if (editingStudent) {\n        // Update existing user - use MongoDB _id for updates\n        console.log('Updating student with data:', studentForm);\n        const response = await api(`/users/${editingStudent._id}`, {\n          method: 'PUT',\n          body: studentForm\n        });\n        console.log('Student updated successfully:', response);\n        const updatedStudents = students.map(user => user._id === editingStudent._id ? {\n          ...user,\n          ...studentForm\n        } : user);\n        setStudents(updatedStudents);\n        // If user is a Parent, also update/create parent details and mark saved\n        if (studentForm.role === 'Parent') {\n          var _response$user;\n          const targetUserID = ((_response$user = response.user) === null || _response$user === void 0 ? void 0 : _response$user.userID) || editingStudent.userID;\n          try {\n            // Try create first\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: targetUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({\n              ...prev,\n              [targetUserID]: true\n            }));\n          } catch (createErr) {\n            // If creation fails (likely exists), attempt update\n            try {\n              await api(`/parents/${targetUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({\n                ...prev,\n                [targetUserID]: true\n              }));\n            } catch (updateErr) {\n              console.error('Failed to save parent details after updating user:', updateErr);\n            }\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      } else {\n        // Add new user\n        console.log('Creating new student with data:', studentForm);\n        console.log('Student form validation passed, sending to backend...');\n        const response = await api('/users', {\n          method: 'POST',\n          body: studentForm\n        });\n        console.log('Student created successfully:', response);\n        setStudents([...students, response.user]);\n\n        // For new students (parents), calculate grade and show assignment modal\n        // Persist parent details if role is Parent and mark saved\n        if (studentForm.role === 'Parent') {\n          const newUserID = response.user.userID;\n          try {\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: newUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({\n              ...prev,\n              [newUserID]: true\n            }));\n          } catch (parentCreateErr) {\n            // If already exists, try update\n            try {\n              await api(`/parents/${newUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({\n                ...prev,\n                [newUserID]: true\n              }));\n            } catch (parentUpdateErr) {\n              console.error('Failed to create/update parent details for new user:', parentCreateErr, parentUpdateErr);\n            }\n          }\n        }\n        if (studentForm.role === 'Parent') {\n          const calculatedGrade = calculateGradeFromAge(studentForm.birthday);\n          console.log('Calculated grade for birthday', studentForm.birthday, ':', calculatedGrade);\n          if (calculatedGrade) {\n            console.log('Opening assignment modal with grade:', calculatedGrade);\n            // Set up the assignment modal with calculated grade\n            setAssignContext({\n              role: 'Parent',\n              user: response.user\n            });\n            setAssignForm({\n              grade: calculatedGrade.toString(),\n              class: 'A'\n            });\n            setShowStudentModal(false);\n            setShowAssignModal(true);\n            setStudentFormErrors({});\n            console.log('Modal states set - showStudentModal: false, showAssignModal: true');\n            return;\n          } else {\n            console.log('No grade calculated, closing modal');\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      }\n    } catch (error) {\n      console.error('Failed to save user:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      if (error.errors && Array.isArray(error.errors)) {\n        // Handle backend validation errors\n        const errorObj = {};\n        error.errors.forEach(err => {\n          if (err.includes('birthday') || err.includes('Birthday')) {\n            errorObj.birthday = err;\n          } else if (err.includes('email') || err.includes('Email')) {\n            errorObj.email = err;\n          } else if (err.includes('name') || err.includes('Name')) {\n            errorObj.fullName = err;\n          } else if (err.includes('address') || err.includes('Address')) {\n            errorObj.address = err;\n          }\n        });\n        setStudentFormErrors(errorObj);\n      } else {\n        alert(`Failed to save user: ${error.message || 'Please try again.'}`);\n      }\n    }\n  };\n\n  // Teacher handlers\n  const handleAddTeacher = () => {\n    setEditingTeacher(null);\n    setTeacherForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Teacher',\n      grade: '',\n      class: 'A',\n      phone: ''\n    });\n    setShowTeacherModal(true);\n  };\n  const handleEditTeacher = user => {\n    var _academicByUserId$use, _academicByUserId$use2;\n    setEditingTeacher(user);\n    setTeacherForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      grade: ((_academicByUserId$use = academicByUserId[user.userID]) === null || _academicByUserId$use === void 0 ? void 0 : _academicByUserId$use.grade) || '',\n      class: ((_academicByUserId$use2 = academicByUserId[user.userID]) === null || _academicByUserId$use2 === void 0 ? void 0 : _academicByUserId$use2.class) || 'A',\n      phone: user.phone || ''\n    });\n    setShowTeacherModal(true);\n  };\n  const handleDeleteTeacher = async userId => {\n    if (window.confirm('Are you sure you want to delete this teacher?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedTeachers = teachers.filter(user => user._id !== userId);\n        setTeachers(updatedTeachers);\n        filterAndSortTeachers();\n      } catch (error) {\n        console.error('Failed to delete teacher:', error);\n        alert('Failed to delete teacher. Please try again.');\n      }\n    }\n  };\n  const handleSaveTeacher = async e => {\n    e.preventDefault();\n    // Validate phone if provided\n    if (teacherForm.phone && teacherForm.phone.trim()) {\n      const v = validatePhoneNumber(teacherForm.phone);\n      if (!v.isValid) {\n        setTeacherFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setTeacherForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingTeacher) {\n        await api(`/users/${editingTeacher._id}`, {\n          method: 'PUT',\n          body: teacherForm\n        });\n        const updatedTeachers = teachers.map(user => user._id === editingTeacher._id ? {\n          ...user,\n          ...teacherForm\n        } : user);\n        setTeachers(updatedTeachers);\n        // If a grade/class was assigned, save academic assignment for teacher\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: {\n                userID: editingTeacher.userID,\n                grade: Number(teacherForm.grade),\n                class: teacherForm.class || 'A'\n              }\n            });\n          } catch (assignErr) {\n            // If already assigned, update\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              await api(`/academic/${editingTeacher.userID}`, {\n                method: 'PUT',\n                body: {\n                  grade: Number(teacherForm.grade),\n                  class: teacherForm.class || 'A'\n                }\n              });\n            } else {\n              console.error('Failed to assign academic info to teacher:', assignErr);\n            }\n          }\n          // refresh academic cache\n          await loadAcademicAssignments('Teacher');\n        }\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: teacherForm\n        });\n        setTeachers([...teachers, response.user]);\n        // If a grade/class was provided during creation, create academic assignment\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: {\n                userID: response.user.userID,\n                grade: Number(teacherForm.grade),\n                class: teacherForm.class || 'A'\n              }\n            });\n          } catch (assignErr) {\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              try {\n                await api(`/academic/${response.user.userID}`, {\n                  method: 'PUT',\n                  body: {\n                    grade: Number(teacherForm.grade),\n                    class: teacherForm.class || 'A'\n                  }\n                });\n              } catch (uErr) {\n                console.error('Failed to update academic assignment after create:', uErr);\n              }\n            } else {\n              console.error('Failed to assign academic info to new teacher:', assignErr);\n            }\n          }\n          await loadAcademicAssignments('Teacher');\n        }\n      }\n      setShowTeacherModal(false);\n      filterAndSortTeachers();\n    } catch (error) {\n      console.error('Failed to save teacher:', error);\n      alert('Failed to save teacher. Please try again.');\n    }\n  };\n\n  // Shuttle Staff handlers\n  const handleAddShuttle = () => {\n    setEditingShuttle(null);\n    setShuttleForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'ShuttleStaff',\n      phone: ''\n    });\n    setShowShuttleModal(true);\n  };\n  const handleEditShuttle = user => {\n    setEditingShuttle(user);\n    setShuttleForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowShuttleModal(true);\n  };\n  const handleDeleteShuttle = async userId => {\n    if (window.confirm('Are you sure you want to delete this shuttle staff member?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedShuttleStaff = shuttleStaff.filter(user => user._id !== userId);\n        setShuttleStaff(updatedShuttleStaff);\n        filterAndSortShuttleStaff();\n      } catch (error) {\n        console.error('Failed to delete shuttle staff:', error);\n        alert('Failed to delete shuttle staff. Please try again.');\n      }\n    }\n  };\n  const handleSaveShuttle = async e => {\n    e.preventDefault();\n    if (shuttleForm.phone && shuttleForm.phone.trim()) {\n      const v = validatePhoneNumber(shuttleForm.phone);\n      if (!v.isValid) {\n        setShuttleFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setShuttleForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingShuttle) {\n        await api(`/users/${editingShuttle._id}`, {\n          method: 'PUT',\n          body: shuttleForm\n        });\n        const updatedShuttleStaff = shuttleStaff.map(user => user._id === editingShuttle._id ? {\n          ...user,\n          ...shuttleForm\n        } : user);\n        setShuttleStaff(updatedShuttleStaff);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: shuttleForm\n        });\n        setShuttleStaff([...shuttleStaff, response.user]);\n      }\n      setShowShuttleModal(false);\n      filterAndSortShuttleStaff();\n    } catch (error) {\n      console.error('Failed to save shuttle staff:', error);\n      alert('Failed to save shuttle staff. Please try again.');\n    }\n  };\n\n  // Admin handlers\n  const handleAddAdmin = () => {\n    setEditingAdmin(null);\n    setAdminForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Admin',\n      phone: ''\n    });\n    setShowAdminModal(true);\n  };\n  const handleEditAdmin = user => {\n    setEditingAdmin(user);\n    setAdminForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowAdminModal(true);\n  };\n  const handleDeleteAdmin = async userId => {\n    if (window.confirm('Are you sure you want to delete this admin?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedAdmins = admins.filter(user => user._id !== userId);\n        setAdmins(updatedAdmins);\n        filterAndSortAdmins();\n      } catch (error) {\n        console.error('Failed to delete admin:', error);\n        alert('Failed to delete admin. Please try again.');\n      }\n    }\n  };\n  const handleSaveAdmin = async e => {\n    e.preventDefault();\n    if (adminForm.phone && adminForm.phone.trim()) {\n      const v = validatePhoneNumber(adminForm.phone);\n      if (!v.isValid) {\n        setAdminFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setAdminForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingAdmin) {\n        await api(`/users/${editingAdmin._id}`, {\n          method: 'PUT',\n          body: adminForm\n        });\n        const updatedAdmins = admins.map(user => user._id === editingAdmin._id ? {\n          ...user,\n          ...adminForm\n        } : user);\n        setAdmins(updatedAdmins);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: adminForm\n        });\n        setAdmins([...admins, response.user]);\n      }\n      setShowAdminModal(false);\n      filterAndSortAdmins();\n    } catch (error) {\n      console.error('Failed to save admin:', error);\n      alert('Failed to save admin. Please try again.');\n    }\n  };\n\n  // Load data when tabs are active\n  useEffect(() => {\n    if (activeTab === 'students') {\n      loadStudents();\n      // Also load academic assignments for students\n      loadAcademicAssignments('Parent');\n    } else if (activeTab === 'teachers') {\n      loadTeachers();\n      // Also load academic assignments for teachers\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'assignments') {\n      loadAcademicAssignments('Parent');\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'shuttle-staff') {\n      loadShuttleStaff();\n    } else if (activeTab === 'admins') {\n      loadAdmins();\n    } else if (activeTab === 'dashboard') {\n      // Log dashboard access\n      logDashboardAccess();\n    }\n  }, [activeTab, loadStudents, loadTeachers]);\n\n  // Load academic data on component mount\n  useEffect(() => {\n    loadAcademicAssignments('Parent');\n    loadAcademicAssignments('Teacher');\n  }, []);\n\n  // Log dashboard access\n  const logDashboardAccess = async () => {\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'dashboard_viewed',\n          targetType: 'dashboard',\n          targetId: null,\n          targetName: 'Admin Dashboard',\n          description: 'Accessed admin dashboard',\n          details: {\n            section: 'dashboard'\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log dashboard access:', error);\n    }\n  };\n\n  // Filter and sort when filters change\n  useEffect(() => {\n    filterAndSortStudents();\n  }, [searchTerm, sortBy, emailStatusFilter, students, filterAndSortStudents]);\n  useEffect(() => {\n    filterAndSortTeachers();\n  }, [teacherSearchTerm, teacherSortBy, teacherEmailStatusFilter, teachers, filterAndSortTeachers]);\n  useEffect(() => {\n    filterAndSortShuttleStaff();\n  }, [shuttleSearchTerm, shuttleSortBy, shuttleEmailStatusFilter, shuttleStaff, filterAndSortShuttleStaff]);\n  useEffect(() => {\n    filterAndSortAdmins();\n  }, [adminSearchTerm, adminSortBy, adminEmailStatusFilter, admins, filterAndSortAdmins]);\n\n  // Debug modal state changes\n  useEffect(() => {\n    console.log('Modal state changed - showStudentModal:', showStudentModal, 'showAssignModal:', showAssignModal);\n    if (showAssignModal) {\n      console.log('Assignment modal context:', assignContext);\n      console.log('Assignment form:', assignForm);\n    }\n  }, [showStudentModal, showAssignModal, assignContext, assignForm]);\n\n  // Test function to manually load academic data\n  const testLoadAcademic = async () => {\n    console.log('Testing academic data load...');\n    console.log('Current academicByUserId before load:', academicByUserId);\n    await loadAcademicAssignments('Parent');\n    console.log('Current academicByUserId after load:', academicByUserId);\n\n    // Also test the API directly\n    try {\n      const res = await api('/academic?role=Parent');\n      console.log('Direct API call result:', res);\n    } catch (error) {\n      console.error('Direct API call failed:', error);\n    }\n  };\n\n  // Parent details form handlers\n  const handleParentDetailsChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [field]: value\n      }));\n    }\n    // Clear error when user starts typing\n    if (parentDetailsErrors[field]) {\n      setParentDetailsErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n  const handleSaveParentDetails = async e => {\n    e.preventDefault();\n\n    // Validate form\n    const errors = {};\n    if (!parentDetailsForm.parentName.trim()) errors.parentName = 'Parent name is required';\n    if (!parentDetailsForm.contactNumber.trim()) errors.contactNumber = 'Contact number is required';else {\n      const v = validatePhoneNumber(parentDetailsForm.contactNumber);\n      if (!v.isValid) errors.contactNumber = v.message;else parentDetailsForm.contactNumber = v.normalized;\n    }\n    if (!parentDetailsForm.whatsappNumber.trim()) errors.whatsappNumber = 'WhatsApp number is required';else {\n      const v2 = validatePhoneNumber(parentDetailsForm.whatsappNumber);\n      if (!v2.isValid) errors.whatsappNumber = v2.message;else parentDetailsForm.whatsappNumber = v2.normalized;\n    }\n    if (Object.keys(errors).length > 0) {\n      setParentDetailsErrors(errors);\n      return;\n    }\n    try {\n      // Create parent details using the new parent API\n      await api('/parents', {\n        method: 'POST',\n        body: {\n          userID: assignContext.user.userID,\n          ...parentDetailsForm\n        }\n      });\n      setShowParentDetailsModal(false);\n      setParentDetailsForm({\n        parentName: '',\n        contactNumber: '',\n        whatsappNumber: ''\n      });\n      setParentDetailsErrors({});\n\n      // Refresh students list\n      await loadStudents();\n      alert('Parent details saved successfully!');\n    } catch (error) {\n      console.error('Failed to save parent details:', error);\n      alert('Failed to save parent details. Please try again.');\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n  const handleBackToHome = () => {\n    navigate('/');\n  };\n\n  // Validation functions\n  const validateBirthday = (birthday, role) => {\n    if (!birthday) return {\n      isValid: false,\n      message: 'Birthday is required'\n    };\n    const today = new Date();\n    const birthDate = new Date(birthday);\n\n    // Check if birthday is in the future\n    if (birthDate > today) {\n      return {\n        isValid: false,\n        message: 'Birthday cannot be in the future'\n      };\n    }\n\n    // Check age limits for Parent role (students should be 6-16 years old for grades 1-11)\n    if (role === 'Parent') {\n      const age = today.getFullYear() - birthDate.getFullYear();\n      const monthDiff = today.getMonth() - birthDate.getMonth();\n      const actualAge = monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate() ? age - 1 : age;\n      if (actualAge < 6) {\n        return {\n          isValid: false,\n          message: 'Student must be at least 6 years old'\n        };\n      }\n      if (actualAge > 16) {\n        return {\n          isValid: false,\n          message: 'Student cannot be older than 16 years'\n        };\n      }\n    }\n    return {\n      isValid: true,\n      message: ''\n    };\n  };\n\n  // Enhanced search handler with debouncing\n  const handleSearchChange = e => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    // Real-time search - no need for manual trigger\n  };\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    filterAndSortStudents();\n  };\n  const clearSearch = () => {\n    setSearchTerm('');\n    filterAndSortStudents();\n  };\n  const handleRowClick = async user => {\n    // Log activity for viewing user profile\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'user_viewed',\n          targetType: 'user',\n          targetId: user._id,\n          targetName: user.fullName,\n          description: `Viewed ${user.role} profile: ${user.fullName} (${user.userID})`,\n          details: {\n            role: user.role,\n            email: user.email\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log user view activity:', error);\n      // Continue with navigation even if logging fails\n    }\n\n    // Navigate to profile page with user ID and current tab as parameters\n    navigate(`/profile/${user._id}?from=${activeTab}`);\n  };\n\n  // Function to highlight search terms in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n    return parts.map((part, index) => {\n      if (regex.test(part)) {\n        return /*#__PURE__*/_jsxDEV(\"mark\", {\n          className: \"search-highlight\",\n          children: part\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1417,\n          columnNumber: 16\n        }, this);\n      }\n      return part;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"menu-toggle\",\n      onClick: handleMenuToggle,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-bars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1427,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1426,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar ${sidebarOpen ? 'active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-graduation-cap fa-2x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Smart Alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'dashboard' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('dashboard'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-tachometer-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1441,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'students' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('students'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-graduate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'teachers' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('teachers'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chalkboard-teacher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Teachers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'shuttle-staff' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('shuttle-staff'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bus-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Shuttle Staff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'admins' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('admins'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-shield\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Admins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: handleBackToHome,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sign-out-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1463,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1438,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [activeTab === 'dashboard' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.totalStudents.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1480,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total Students\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1481,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon students\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user-graduate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1484,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1483,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.totalTeachers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1492,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total Teachers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1493,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1491,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon teachers\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chalkboard-teacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1496,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1490,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.shuttleStaff\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1504,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Shuttle Staff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1505,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1503,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon shuttle-staff\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bus-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1508,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1507,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1502,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1501,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1516,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Today's Attendance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1517,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1515,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon attendance\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clipboard-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1520,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1528,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Active Buses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1527,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon transport\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1532,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1531,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1526,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1540,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Active Announcements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1541,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1539,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon announcements\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bullhorn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1544,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1538,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1537,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1476,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recent-activity\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1552,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-list\",\n            children: recentActivity.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-icon\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-${activity.type}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1557,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1556,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: activity.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1560,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: activity.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1561,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1559,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-time\",\n                children: activity.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1563,\n                columnNumber: 21\n              }, this)]\n            }, activity.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1555,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1553,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1551,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'students' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Student Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-buttons\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: handleAddStudent,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1579,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add New Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1580,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1578,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1577,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search students by name, userID, email, or address...\",\n              value: searchTerm,\n              onChange: handleSearchChange,\n              onKeyPress: e => e.key === 'Enter' && handleSearchSubmit(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1588,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: clearSearch,\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1603,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1597,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleSearchSubmit,\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1611,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1606,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1595,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"emailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1618,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"emailStatusFilter\",\n                value: emailStatusFilter,\n                onChange: e => setEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1625,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1626,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1619,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"sortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1630,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"sortBy\",\n                value: sortBy,\n                onChange: e => setSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1636,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1637,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1638,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1631,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1629,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1616,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1586,\n          columnNumber: 13\n        }, this), (searchTerm || emailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredStudents.length, \" result\", filteredStudents.length !== 1 ? 's' : '', \" found\", searchTerm && ` for \"${highlightText(searchTerm, searchTerm)}\"`, emailStatusFilter && ` (${emailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1647,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSearchTerm('');\n              setEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1652,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1646,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Student\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1664,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1665,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1666,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1667,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1668,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1669,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1670,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1671,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1672,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1662,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1661,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredStudents.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"8\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No Students found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1678,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1677,\n                columnNumber: 21\n              }, this) : filteredStudents.map((user, index) => {\n                var _academicByUserId$use3, _academicByUserId$use4, _academicByUserId$use5, _academicByUserId$use6;\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1688,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: searchTerm ? highlightText(user.fullName, searchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1692,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", searchTerm ? highlightText(user.userID, searchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1695,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1691,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1690,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1689,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchTerm ? highlightText(user.email, searchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1701,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1704,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1703,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1702,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use3 = (_academicByUserId$use4 = academicByUserId[user.userID]) === null || _academicByUserId$use4 === void 0 ? void 0 : _academicByUserId$use4.grade) !== null && _academicByUserId$use3 !== void 0 ? _academicByUserId$use3 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1708,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use5 = (_academicByUserId$use6 = academicByUserId[user.userID]) === null || _academicByUserId$use6 === void 0 ? void 0 : _academicByUserId$use6.class) !== null && _academicByUserId$use5 !== void 0 ? _academicByUserId$use5 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1709,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchTerm ? highlightText(user.address, searchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1710,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1711,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1712,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `student-${user._id}`,\n                        onEdit: () => handleEditStudent(user),\n                        onDelete: () => handleDeleteStudent(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1715,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1714,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1713,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1687,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1660,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1659,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'teachers' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Teacher Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1737,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddTeacher,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1739,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1740,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1738,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1736,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search teachers by name, userID, email, or address...\",\n              value: teacherSearchTerm,\n              onChange: e => setTeacherSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1747,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [teacherSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setTeacherSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1762,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1756,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortTeachers(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1770,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1754,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1746,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"teacherEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1777,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"teacherEmailStatusFilter\",\n                value: teacherEmailStatusFilter,\n                onChange: e => setTeacherEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1783,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1784,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1785,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1778,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1776,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"teacherSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1789,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"teacherSortBy\",\n                value: teacherSortBy,\n                onChange: e => setTeacherSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1795,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1796,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1797,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1790,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1788,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1775,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1745,\n          columnNumber: 13\n        }, this), (teacherSearchTerm || teacherEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredTeachers.length, \" result\", filteredTeachers.length !== 1 ? 's' : '', \" found\", teacherSearchTerm && ` for \"${teacherSearchTerm}\"`, teacherEmailStatusFilter && ` (${teacherEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1806,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setTeacherSearchTerm('');\n              setTeacherEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1811,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1805,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1822,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Teacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1823,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1824,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1825,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1826,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1827,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1828,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1829,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1830,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1831,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1832,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1821,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1820,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredTeachers.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"10\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No teachers found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1838,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1837,\n                columnNumber: 21\n              }, this) : filteredTeachers.map((user, index) => {\n                var _academicByUserId$use7, _academicByUserId$use8, _academicByUserId$use9, _academicByUserId$use0;\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1848,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: teacherSearchTerm ? highlightText(user.fullName, teacherSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1852,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", teacherSearchTerm ? highlightText(user.userID, teacherSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1855,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1851,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1850,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1849,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.email, teacherSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1861,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.phone || '-', teacherSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1862,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1865,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1864,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1863,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use7 = (_academicByUserId$use8 = academicByUserId[user.userID]) === null || _academicByUserId$use8 === void 0 ? void 0 : _academicByUserId$use8.grade) !== null && _academicByUserId$use7 !== void 0 ? _academicByUserId$use7 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1869,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use9 = (_academicByUserId$use0 = academicByUserId[user.userID]) === null || _academicByUserId$use0 === void 0 ? void 0 : _academicByUserId$use0.class) !== null && _academicByUserId$use9 !== void 0 ? _academicByUserId$use9 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1870,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.address, teacherSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1871,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1872,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1873,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `teacher-${user._id}`,\n                        onEdit: () => handleEditTeacher(user),\n                        onDelete: () => handleDeleteTeacher(user._id),\n                        extraItems: /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"divider\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1882,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"menu-item\",\n                            onClick: () => {\n                              setOpenMenuId(null);\n                              openAssignModal(user, 'Teacher');\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"menu-icon\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1884,\n                              columnNumber: 39\n                            }, this), \"Assign\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1883,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1876,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1875,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1874,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1847,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1819,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1818,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'shuttle-staff' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative',\n            width: '100%',\n            marginBottom: '20px',\n            borderRadius: '16px',\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://images.unsplash.com/photo-1599982982646-38e0411b27f5?auto=format&fit=crop&w=1600&q=70\",\n            alt: \"Shuttle Staff\",\n            loading: \"lazy\",\n            style: {\n              width: '100%',\n              height: '260px',\n              objectFit: 'cover'\n            },\n            onError: e => {\n              e.currentTarget.style.display = 'none';\n              const fallback = document.createElement('div');\n              fallback.style.width = '100%';\n              fallback.style.height = '260px';\n              fallback.style.background = 'linear-gradient(135deg, #0ea5e9, #22c55e)';\n              e.currentTarget.parentElement && e.currentTarget.parentElement.appendChild(fallback);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1907,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              inset: 0,\n              background: 'linear-gradient(180deg, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.45) 100%)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1925,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              bottom: 16,\n              left: 16,\n              color: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 24,\n                fontWeight: 800,\n                letterSpacing: 0.3\n              },\n              children: \"Shuttle Staff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1936,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 14,\n                opacity: 0.9\n              },\n              children: \"Manage drivers, verify contacts, keep your fleet organized\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1937,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1930,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1906,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Shuttle Staff Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1942,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddShuttle,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1944,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Staff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1945,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1943,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1941,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search shuttle staff by name, userID, email, or address...\",\n              value: shuttleSearchTerm,\n              onChange: e => setShuttleSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1952,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [shuttleSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShuttleSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1967,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1961,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortShuttleStaff(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1975,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1970,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1959,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1951,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"shuttleEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1982,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"shuttleEmailStatusFilter\",\n                value: shuttleEmailStatusFilter,\n                onChange: e => setShuttleEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1988,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1989,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1990,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1983,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1981,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"shuttleSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1994,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"shuttleSortBy\",\n                value: shuttleSortBy,\n                onChange: e => setShuttleSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2000,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2001,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2002,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1995,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1993,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1980,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1950,\n          columnNumber: 13\n        }, this), (shuttleSearchTerm || shuttleEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredShuttleStaff.length, \" result\", filteredShuttleStaff.length !== 1 ? 's' : '', \" found\", shuttleSearchTerm && ` for \"${shuttleSearchTerm}\"`, shuttleEmailStatusFilter && ` (${shuttleEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2011,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShuttleSearchTerm('');\n              setShuttleEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2016,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2010,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2027,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Staff Member\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2028,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2029,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2030,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2031,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2032,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2033,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2034,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2035,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2026,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2025,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredShuttleStaff.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"9\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No shuttle staff found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2041,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2040,\n                columnNumber: 21\n              }, this) : filteredShuttleStaff.map((user, index) => {\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2051,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: shuttleSearchTerm ? highlightText(user.fullName, shuttleSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2055,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", shuttleSearchTerm ? highlightText(user.userID, shuttleSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2058,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2054,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2053,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2052,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.email, shuttleSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2064,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.phone || '-', shuttleSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2065,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2068,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2067,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2066,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.address, shuttleSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2072,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2073,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2074,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `shuttle-${user._id}`,\n                        onEdit: () => handleEditShuttle(user),\n                        onDelete: () => handleDeleteShuttle(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2077,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2076,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2075,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2050,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2038,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2024,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2023,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'admins' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Admin Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2099,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddAdmin,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2098,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search admins by name, userID, email, or address...\",\n              value: adminSearchTerm,\n              onChange: e => setAdminSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [adminSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setAdminSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2124,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortAdmins(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2132,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2127,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"adminEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2139,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"adminEmailStatusFilter\",\n                value: adminEmailStatusFilter,\n                onChange: e => setAdminEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2145,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2146,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2147,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2140,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"adminSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"adminSortBy\",\n                value: adminSortBy,\n                onChange: e => setAdminSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2158,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2152,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2107,\n          columnNumber: 13\n        }, this), (adminSearchTerm || adminEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredAdmins.length, \" result\", filteredAdmins.length !== 1 ? 's' : '', \" found\", adminSearchTerm && ` for \"${adminSearchTerm}\"`, adminEmailStatusFilter && ` (${adminEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2168,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setAdminSearchTerm('');\n              setAdminEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2173,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2167,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2185,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2187,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2192,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredAdmins.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"9\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No admins found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2198,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2197,\n                columnNumber: 21\n              }, this) : filteredAdmins.map((user, index) => {\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2208,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: adminSearchTerm ? highlightText(user.fullName, adminSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2212,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", adminSearchTerm ? highlightText(user.userID, adminSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2215,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2211,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2210,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2209,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.email, adminSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2221,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.phone || '-', adminSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2222,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2225,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2224,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2223,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.address, adminSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2229,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2230,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2231,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `admin-${user._id}`,\n                        onEdit: () => handleEditAdmin(user),\n                        onDelete: () => handleDeleteAdmin(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2234,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2233,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2232,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2207,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2181,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1471,\n      columnNumber: 7\n    }, this), showStudentModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingStudent ? 'Edit Student' : 'Add New Student'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowStudentModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveStudent,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fullName\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2270,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"fullName\",\n              value: studentForm.fullName,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  fullName: e.target.value\n                });\n                if (studentFormErrors.fullName) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    fullName: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., John Doe\",\n              className: studentFormErrors.fullName ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2271,\n              columnNumber: 17\n            }, this), studentFormErrors.fullName && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2286,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              value: studentForm.email,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  email: e.target.value\n                });\n                if (studentFormErrors.email) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    email: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., john.doe@school.edu\",\n              className: studentFormErrors.email ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2292,\n              columnNumber: 17\n            }, this), studentFormErrors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2307,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"birthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2312,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"birthday\",\n              value: studentForm.birthday,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  birthday: e.target.value\n                });\n                if (studentFormErrors.birthday) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    birthday: ''\n                  });\n                }\n              },\n              required: true,\n              max: new Date().toISOString().split('T')[0],\n              className: studentFormErrors.birthday ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2313,\n              columnNumber: 17\n            }, this), studentFormErrors.birthday && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.birthday\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2328,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"address\",\n              value: studentForm.address,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  address: e.target.value\n                });\n                if (studentFormErrors.address) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    address: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., 123 Main St, City, State\",\n              className: studentFormErrors.address ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2334,\n              columnNumber: 17\n            }, this), studentFormErrors.address && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2349,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"parentName\",\n              children: \"Parent / Guardian Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2355,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"parentName\",\n              value: studentForm.parentName,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                parentName: e.target.value\n              }),\n              placeholder: \"e.g., Jane Doe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2356,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"contactNumber\",\n              children: \"Parent Contact Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"contactNumber\",\n              value: studentForm.contactNumber,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                contactNumber: e.target.value\n              }),\n              className: studentFormErrors.contactNumber ? 'error' : '',\n              placeholder: \"e.g., +94 7XX XXX XXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2367,\n              columnNumber: 17\n            }, this), studentFormErrors.contactNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: studentFormErrors.contactNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2376,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"whatsappNumber\",\n              children: \"Parent WhatsApp Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"whatsappNumber\",\n              value: studentForm.whatsappNumber,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                whatsappNumber: e.target.value\n              }),\n              className: studentFormErrors.whatsappNumber ? 'error' : '',\n              placeholder: \"e.g., +94 7XX XXX XXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2382,\n              columnNumber: 17\n            }, this), studentFormErrors.whatsappNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: studentFormErrors.whatsappNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2391,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowStudentModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingStudent ? 'Update Student' : 'Save Student'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2268,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2255,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2254,\n      columnNumber: 9\n    }, this), showTeacherModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingTeacher ? 'Edit Teacher' : 'Add New Teacher'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2417,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowTeacherModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveTeacher,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"teacherFullName\",\n              value: teacherForm.fullName,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2430,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"teacherEmail\",\n              value: teacherForm.email,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"teacherBirthday\",\n              value: teacherForm.birthday,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2458,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"teacherAddress\",\n              value: teacherForm.address,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherPhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2467,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"teacherPhone\",\n              value: teacherForm.phone,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: teacherFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2468,\n              columnNumber: 17\n            }, this), teacherFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: teacherFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2476,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2466,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherGrade\",\n              children: \"Assign Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2479,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"teacherGrade\",\n              min: \"1\",\n              max: \"11\",\n              value: teacherForm.grade,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                grade: e.target.value\n              }),\n              placeholder: \"e.g., 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2480,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherClass\",\n              children: \"Assign Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"teacherClass\",\n              value: teacherForm.class,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                class: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A\",\n                children: \"A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2497,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B\",\n                children: \"B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"C\",\n                children: \"C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2499,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2492,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowTeacherModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingTeacher ? 'Update Teacher' : 'Save Teacher'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2510,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2502,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2427,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2415,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2414,\n      columnNumber: 9\n    }, this), showShuttleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingShuttle ? 'Edit Shuttle Staff' : 'Add New Shuttle Staff'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2527,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowShuttleModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2530,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2526,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveShuttle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2539,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"shuttleFullName\",\n              value: shuttleForm.fullName,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2549,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"shuttleEmail\",\n              value: shuttleForm.email,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2550,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2548,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2559,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"shuttleBirthday\",\n              value: shuttleForm.birthday,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2568,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"shuttleAddress\",\n              value: shuttleForm.address,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2569,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2567,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttlePhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"shuttlePhone\",\n              value: shuttleForm.phone,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: shuttleFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2578,\n              columnNumber: 17\n            }, this), shuttleFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: shuttleFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2586,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttlePhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"shuttlePhone\",\n              value: shuttleForm.phone,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2590,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2588,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowShuttleModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2599,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingShuttle ? 'Update Staff' : 'Save Staff'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2606,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2598,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2537,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2525,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2524,\n      columnNumber: 9\n    }, this), showAdminModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingAdmin ? 'Edit Admin' : 'Add New Admin'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2623,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowAdminModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2626,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2622,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveAdmin,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2635,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"adminFullName\",\n              value: adminForm.fullName,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2636,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2645,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"adminEmail\",\n              value: adminForm.email,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2646,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2655,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"adminBirthday\",\n              value: adminForm.birthday,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2656,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2654,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2664,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"adminAddress\",\n              value: adminForm.address,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2665,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2663,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminPhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"adminPhone\",\n              value: adminForm.phone,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: adminFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2674,\n              columnNumber: 17\n            }, this), adminFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: adminFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2682,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2672,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowAdminModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2685,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingAdmin ? 'Update Admin' : 'Save Admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2692,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2684,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2633,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2621,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2620,\n      columnNumber: 9\n    }, this), showAssignModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: academicByUserId[(_assignContext$user2 = assignContext.user) === null || _assignContext$user2 === void 0 ? void 0 : _assignContext$user2.userID] ? 'Edit Assignment' : 'Assign Grade & Class'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2709,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowAssignModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2712,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2708,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: saveAssignment,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2721,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: `${((_assignContext$user3 = assignContext.user) === null || _assignContext$user3 === void 0 ? void 0 : _assignContext$user3.fullName) || ''} (${((_assignContext$user4 = assignContext.user) === null || _assignContext$user4 === void 0 ? void 0 : _assignContext$user4.userID) || ''})`,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2722,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2720,\n            columnNumber: 15\n          }, this), !academicByUserId[(_assignContext$user5 = assignContext.user) === null || _assignContext$user5 === void 0 ? void 0 : _assignContext$user5.userID] && assignContext.role === 'Parent' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              backgroundColor: '#e8f5e8',\n              padding: '10px',\n              borderRadius: '5px',\n              marginBottom: '15px',\n              border: '1px solid #4caf50'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                color: '#2e7d32',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-info-circle\",\n                style: {\n                  marginRight: '5px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2735,\n                columnNumber: 21\n              }, this), \"Grade \", assignForm.grade, \" has been automatically calculated based on the student's age. You can modify it if needed and select the class.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2734,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2727,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"assignGrade\",\n              children: \"Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2743,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"assignGrade\",\n              value: assignForm.grade,\n              onChange: e => setAssignForm({\n                ...assignForm,\n                grade: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Select Grade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2750,\n                columnNumber: 19\n              }, this), Array.from({\n                length: 11\n              }, (_, i) => i + 1).map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: g,\n                children: g\n              }, g, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2752,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2744,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2742,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"assignClass\",\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2757,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"assignClass\",\n              value: assignForm.class,\n              onChange: e => setAssignForm({\n                ...assignForm,\n                class: e.target.value\n              }),\n              required: true,\n              children: ['A', 'B', 'C'].map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c,\n                children: c\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2765,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2758,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2756,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowAssignModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2770,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: academicByUserId[(_assignContext$user6 = assignContext.user) === null || _assignContext$user6 === void 0 ? void 0 : _assignContext$user6.userID] ? 'Update Assignment' : 'Assign Grade & Class'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2777,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2769,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2719,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2707,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2706,\n      columnNumber: 9\n    }, this), showParentDetailsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: \"Parent Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2791,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowParentDetailsModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2792,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2790,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveParentDetails,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"parentName\",\n              children: \"Parent Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2802,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"parentName\",\n              value: parentDetailsForm.parentName,\n              onChange: e => handleParentDetailsChange('parentName', e.target.value),\n              className: parentDetailsErrors.parentName ? 'error' : '',\n              placeholder: \"Enter parent name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2803,\n              columnNumber: 17\n            }, this), parentDetailsErrors.parentName && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.parentName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2812,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2801,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"contactNumber\",\n              children: \"Contact Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2817,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"contactNumber\",\n              value: parentDetailsForm.contactNumber,\n              onChange: e => handleParentDetailsChange('contactNumber', e.target.value),\n              className: parentDetailsErrors.contactNumber ? 'error' : '',\n              placeholder: \"Enter contact number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2818,\n              columnNumber: 17\n            }, this), parentDetailsErrors.contactNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.contactNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2827,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"whatsappNumber\",\n              children: \"WhatsApp Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2832,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"whatsappNumber\",\n              value: parentDetailsForm.whatsappNumber,\n              onChange: e => handleParentDetailsChange('whatsappNumber', e.target.value),\n              className: parentDetailsErrors.whatsappNumber ? 'error' : '',\n              placeholder: \"Enter WhatsApp number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2833,\n              columnNumber: 17\n            }, this), parentDetailsErrors.whatsappNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.whatsappNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2842,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2831,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowParentDetailsModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2847,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: \"Save Parent Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2854,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2846,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2800,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2789,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2788,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1424,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"symOJtCXUCSdEw52k6//IutWUVc=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useLocation","api","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","_s","_assignContext$user2","_assignContext$user3","_assignContext$user4","_assignContext$user5","_assignContext$user6","navigate","location","sidebarOpen","setSidebarOpen","activeTab","setActiveTab","user","setUser","dashboardStats","setDashboardStats","totalStudents","totalTeachers","shuttleStaff","todayAttendance","activeBuses","activeAnnouncements","recentActivity","setRecentActivity","students","setStudents","filteredStudents","setFilteredStudents","searchTerm","setSearchTerm","sortBy","setSortBy","emailStatusFilter","setEmailStatusFilter","showStudentModal","setShowStudentModal","editingStudent","setEditingStudent","studentForm","setStudentForm","fullName","birthday","address","email","role","parentName","contactNumber","whatsappNumber","studentFormErrors","setStudentFormErrors","teachers","setTeachers","filteredTeachers","setFilteredTeachers","teacherSearchTerm","setTeacherSearchTerm","teacherSortBy","setTeacherSortBy","teacherEmailStatusFilter","setTeacherEmailStatusFilter","showTeacherModal","setShowTeacherModal","editingTeacher","setEditingTeacher","teacherForm","setTeacherForm","grade","class","phone","teacherFormErrors","setTeacherFormErrors","academicByUserId","setAcademicByUserId","showAssignModal","setShowAssignModal","assignContext","setAssignContext","assignForm","setAssignForm","showParentDetailsModal","setShowParentDetailsModal","parentDetailsForm","setParentDetailsForm","parentDetailsErrors","setParentDetailsErrors","parentDetailsSaved","setParentDetailsSaved","setShuttleStaff","filteredShuttleStaff","setFilteredShuttleStaff","shuttleSearchTerm","setShuttleSearchTerm","shuttleSortBy","setShuttleSortBy","shuttleEmailStatusFilter","setShuttleEmailStatusFilter","showShuttleModal","setShowShuttleModal","editingShuttle","setEditingShuttle","shuttleForm","setShuttleForm","shuttleFormErrors","setShuttleFormErrors","admins","setAdmins","filteredAdmins","setFilteredAdmins","adminSearchTerm","setAdminSearchTerm","adminSortBy","setAdminSortBy","adminEmailStatusFilter","setAdminEmailStatusFilter","showAdminModal","setShowAdminModal","editingAdmin","setEditingAdmin","adminForm","setAdminForm","adminFormErrors","setAdminFormErrors","loadUserData","userData","error","console","localStorage","removeItem","loadDashboardStats","stats","parents","loadRecentActivity","userID","response","activities","openMenuId","setOpenMenuId","handleDocClick","e","target","closest","document","querySelector","openMenu","contains","addEventListener","removeEventListener","KebabMenu","id","onEdit","onDelete","extraItems","isOpen","className","onClick","stopPropagation","children","fileName","_jsxFileName","lineNumber","columnNumber","validatePhoneNumber","String","trim","isValid","message","digits","replace","length","normalized","_user$role","_user$userType","isAdmin","toLowerCase","userType","alert","searchParams","URLSearchParams","search","tabParam","get","includes","handleMenuToggle","handleMenuClick","menuItem","window","innerWidth","loadStudents","users","parentUsers","filter","loadAcademicAssignments","loadTeachers","teacherUsers","loadShuttleStaff","shuttleUsers","loadAdmins","adminUsers","filterAndSortStudents","filtered","searchLower","_user$fullName","_user$email","_user$userID","_user$address","isEmailVerified","sort","a","b","localeCompare","log","encodeURIComponent","res","list","Array","isArray","academicRecords","prev","copy","forEach","r","uid","originalUserID","openAssignModal","current","saveAssignment","preventDefault","method","body","Number","createError","_assignContext$user","filterAndSortTeachers","_user$fullName2","_user$email2","_user$userID2","_user$address2","filterAndSortShuttleStaff","_user$fullName3","_user$email3","_user$userID3","_user$address3","filterAndSortAdmins","_user$fullName4","_user$email4","_user$userID4","_user$address4","handleAddStudent","handleEditStudent","Date","toISOString","split","parentResp","parentDetails","err","debug","handleDeleteStudent","userId","confirm","updatedStudents","_id","calculateGradeFromAge","today","birthDate","age","getFullYear","monthDiff","getMonth","actualAge","getDate","handleSaveStudent","birthdayValidation","validateBirthday","errs","v","v2","Object","keys","map","_response$user","targetUserID","createErr","updateErr","newUserID","parentCreateErr","parentUpdateErr","calculatedGrade","toString","errors","errorObj","handleAddTeacher","handleEditTeacher","_academicByUserId$use","_academicByUserId$use2","handleDeleteTeacher","updatedTeachers","handleSaveTeacher","assignErr","uErr","handleAddShuttle","handleEditShuttle","handleDeleteShuttle","updatedShuttleStaff","handleSaveShuttle","handleAddAdmin","handleEditAdmin","handleDeleteAdmin","updatedAdmins","handleSaveAdmin","logDashboardAccess","action","targetType","targetId","targetName","description","details","section","testLoadAcademic","handleParentDetailsChange","field","value","parent","child","handleSaveParentDetails","handleLogout","handleBackToHome","handleSearchChange","handleSearchSubmit","clearSearch","handleRowClick","highlightText","text","regex","RegExp","parts","part","index","test","toLocaleString","activity","type","title","time","placeholder","onChange","onKeyPress","key","htmlFor","colSpan","style","textAlign","padding","color","_academicByUserId$use3","_academicByUserId$use4","_academicByUserId$use5","_academicByUserId$use6","Math","floor","toLocaleDateString","_academicByUserId$use7","_academicByUserId$use8","_academicByUserId$use9","_academicByUserId$use0","position","width","marginBottom","borderRadius","overflow","src","alt","loading","height","objectFit","onError","currentTarget","display","fallback","createElement","background","parentElement","appendChild","inset","bottom","left","fontSize","fontWeight","letterSpacing","opacity","onSubmit","required","max","min","readOnly","backgroundColor","border","margin","marginRight","disabled","from","_","i","g","c","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AdminDashboard/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../../utils/api';\nimport './AdminDashboard.css';\n\nconst AdminDashboard = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [dashboardStats, setDashboardStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    shuttleStaff: 0,\n    todayAttendance: 0,\n    activeBuses: 0,\n    activeAnnouncements: 0\n  });\n  const [recentActivity, setRecentActivity] = useState([]);\n  \n  // Student management state\n  const [students, setStudents] = useState([]);\n  const [filteredStudents, setFilteredStudents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('userID');\n  const [emailStatusFilter, setEmailStatusFilter] = useState('');\n  const [showStudentModal, setShowStudentModal] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [studentForm, setStudentForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Parent',\n    // Parent contact fields included so student + parent can be entered in one form\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [studentFormErrors, setStudentFormErrors] = useState({});\n\n  // Teacher management state\n  const [teachers, setTeachers] = useState([]);\n  const [filteredTeachers, setFilteredTeachers] = useState([]);\n  const [teacherSearchTerm, setTeacherSearchTerm] = useState('');\n  const [teacherSortBy, setTeacherSortBy] = useState('userID');\n  const [teacherEmailStatusFilter, setTeacherEmailStatusFilter] = useState('');\n  const [showTeacherModal, setShowTeacherModal] = useState(false);\n  const [editingTeacher, setEditingTeacher] = useState(null);\n  const [teacherForm, setTeacherForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Teacher',\n    grade: '',\n    class: 'A',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [teacherFormErrors, setTeacherFormErrors] = useState({});\n\n  // Academic assignment state\n  const [academicByUserId, setAcademicByUserId] = useState({}); // { [userID]: { grade, class } }\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [assignContext, setAssignContext] = useState({ role: '', user: null });\n  const [assignForm, setAssignForm] = useState({ grade: '', class: 'A' });\n\n  // Parent details form states\n  const [showParentDetailsModal, setShowParentDetailsModal] = useState(false);\n  const [parentDetailsForm, setParentDetailsForm] = useState({\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [parentDetailsErrors, setParentDetailsErrors] = useState({});\n  // Track which userIDs had parent details saved during this session to avoid re-prompting\n  const [parentDetailsSaved, setParentDetailsSaved] = useState({});\n\n  // Shuttle Staff management state\n  const [shuttleStaff, setShuttleStaff] = useState([]);\n  const [filteredShuttleStaff, setFilteredShuttleStaff] = useState([]);\n  const [shuttleSearchTerm, setShuttleSearchTerm] = useState('');\n  const [shuttleSortBy, setShuttleSortBy] = useState('userID');\n  const [shuttleEmailStatusFilter, setShuttleEmailStatusFilter] = useState('');\n  const [showShuttleModal, setShowShuttleModal] = useState(false);\n  const [editingShuttle, setEditingShuttle] = useState(null);\n  const [shuttleForm, setShuttleForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'ShuttleStaff'\n    ,\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [shuttleFormErrors, setShuttleFormErrors] = useState({});\n\n  // Admin management state\n  const [admins, setAdmins] = useState([]);\n  const [filteredAdmins, setFilteredAdmins] = useState([]);\n  const [adminSearchTerm, setAdminSearchTerm] = useState('');\n  const [adminSortBy, setAdminSortBy] = useState('userID');\n  const [adminEmailStatusFilter, setAdminEmailStatusFilter] = useState('');\n  const [showAdminModal, setShowAdminModal] = useState(false);\n  const [editingAdmin, setEditingAdmin] = useState(null);\n  const [adminForm, setAdminForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Admin'\n    ,\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [adminFormErrors, setAdminFormErrors] = useState({});\n\n  // Load user data and dashboard statistics\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const userData = await api('/auth/me');\n        setUser(userData?.user || userData);\n      } catch (error) {\n        console.error('Failed to load user data:', error);\n        // If authentication fails, clear token and redirect to login\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n\n    const loadDashboardStats = async () => {\n      try {\n        const stats = await api('/users/stats');\n        setDashboardStats({\n          totalStudents: stats.parents || 0,\n          totalTeachers: stats.teachers || 0,\n          shuttleStaff: stats.shuttleStaff || 0,\n          todayAttendance: 0, // This would come from attendance API\n          activeBuses: 12, // This would come from transport API\n          activeAnnouncements: 7 // This would come from announcements API\n        });\n      } catch (error) {\n        console.error('Failed to load dashboard statistics:', error);\n      }\n    };\n\n    loadUserData();\n    loadDashboardStats();\n    // Note: recent activity depends on the loaded `user` and is handled in a separate effect\n  }, [navigate]);\n\n  // Load recent activity once we have a userID available. This avoids reading properties on null.\n  useEffect(() => {\n    const loadRecentActivity = async () => {\n      try {\n        if (user?.userID) {\n          const response = await api(`/activities/recent/${user.userID}`);\n          setRecentActivity(response.activities || []);\n        } else {\n          setRecentActivity([]);\n        }\n      } catch (error) {\n        console.error('Failed to load recent activity:', error);\n        setRecentActivity([]);\n      }\n    };\n\n    loadRecentActivity();\n  }, [user?.userID]);\n\n  // State to track which row's kebab menu is open (store unique id like user._id)\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Close kebab menu when clicking outside\n  useEffect(() => {\n    const handleDocClick = (e) => {\n      // If click is outside any open kebab menu, close it\n      if (!e.target.closest || !document.querySelector('.kebab-menu')) return;\n      const openMenu = document.querySelector('.kebab-menu.open');\n      if (openMenu && !openMenu.contains(e.target) && !e.target.closest('.kebab-button')) {\n        setOpenMenuId(null);\n      }\n    };\n    document.addEventListener('click', handleDocClick);\n    return () => document.removeEventListener('click', handleDocClick);\n  }, []);\n\n  // Small reusable KebabMenu component (inline)\n  const KebabMenu = ({ id, onEdit, onDelete, extraItems }) => {\n    const isOpen = openMenuId === id;\n    return (\n      <div className=\"kebab-container\" onClick={(e) => e.stopPropagation()}>\n        <button\n          className=\"kebab-button\"\n          aria-label=\"More options\"\n          onClick={(e) => { e.stopPropagation(); setOpenMenuId(isOpen ? null : id); }}\n        >\n          <div className=\"kebab-dot\"></div>\n          <div className=\"kebab-dot\"></div>\n          <div className=\"kebab-dot\"></div>\n        </button>\n        <div className={`kebab-menu ${isOpen ? 'open' : ''}`} role=\"menu\">\n          <button className=\"menu-item edit-item\" onClick={() => { setOpenMenuId(null); onEdit && onEdit(); }}>\n            <div className=\"menu-icon edit-icon\" />\n            Edit\n          </button>\n          {extraItems}\n          <div className=\"divider\" />\n          <button className=\"menu-item delete-item\" onClick={() => { setOpenMenuId(null); onDelete && onDelete(); }}>\n            <div className=\"menu-icon delete-icon\" />\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Validate phone: require exactly 10 digits (digits only)\n  const validatePhoneNumber = (phone) => {\n    if (!phone || !String(phone).trim()) return { isValid: false, message: 'Phone number is required' };\n    const digits = String(phone).replace(/\\D/g, '');\n    if (digits.length !== 10) return { isValid: false, message: 'Phone number must be exactly 10 digits' };\n    return { isValid: true, normalized: digits };\n  };\n\n  // Check if user is admin, if not redirect to home\n  useEffect(() => {\n    if (user) {\n      const isAdmin = user.role?.toLowerCase() === 'admin' || user.userType?.toLowerCase() === 'admin';\n      if (!isAdmin) {\n        alert('Access Denied: Only administrators can access the Admin Dashboard.');\n        navigate('/');\n      }\n    }\n  }, [user, navigate]);\n\n  // Handle tab parameter from URL\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const tabParam = searchParams.get('tab');\n    if (tabParam && ['dashboard', 'students', 'teachers', 'shuttle-staff', 'admins'].includes(tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [location.search]);\n\n  const handleMenuToggle = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  const handleMenuClick = (menuItem) => {\n    setActiveTab(menuItem);\n    // Close sidebar on mobile\n    if (window.innerWidth <= 576) {\n      setSidebarOpen(false);\n    }\n  };\n\n  // Student management functions\n  const loadStudents = useCallback(async () => {\n    try {\n      // Load users from the API and filter only parents\n      const response = await api('/users');\n      const users = response.users || [];\n      const parentUsers = users.filter(user => user.role === 'Parent');\n      setStudents(parentUsers);\n      setFilteredStudents(parentUsers);\n      // Load academic info for parents\n      await loadAcademicAssignments('Parent');\n    } catch (error) {\n      console.error('Failed to load students:', error);\n      // Fallback to empty array if API fails\n      setStudents([]);\n      setFilteredStudents([]);\n    }\n  }, []);\n\n  // Teacher management functions\n  const loadTeachers = useCallback(async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const teacherUsers = users.filter(user => user.role === 'Teacher');\n      setTeachers(teacherUsers);\n      setFilteredTeachers(teacherUsers);\n      // Load academic info for teachers\n      await loadAcademicAssignments('Teacher');\n    } catch (error) {\n      console.error('Failed to load teachers:', error);\n      setTeachers([]);\n      setFilteredTeachers([]);\n    }\n  }, []);\n\n  // Shuttle Staff management functions\n  const loadShuttleStaff = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const shuttleUsers = users.filter(user => user.role === 'ShuttleStaff');\n      setShuttleStaff(shuttleUsers);\n      setFilteredShuttleStaff(shuttleUsers);\n    } catch (error) {\n      console.error('Failed to load shuttle staff:', error);\n      setShuttleStaff([]);\n      setFilteredShuttleStaff([]);\n    }\n  };\n\n  // Admin management functions\n  const loadAdmins = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const adminUsers = users.filter(user => user.role === 'Admin');\n      setAdmins(adminUsers);\n      setFilteredAdmins(adminUsers);\n    } catch (error) {\n      console.error('Failed to load admins:', error);\n      setAdmins([]);\n      setFilteredAdmins([]);\n    }\n  };\n\n  const filterAndSortStudents = useCallback(() => {\n    let filtered = [...students];\n    \n    // Enhanced search filter with better matching\n    if (searchTerm && searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        // Check all searchable fields\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        // Search in multiple fields\n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    // Email verification status filter\n    if (emailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (emailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (emailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    // Sort users\n    switch(sortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredStudents(filtered);\n  }, [students, searchTerm, emailStatusFilter, sortBy]);\n\n  // Load academic assignments by role and index by userID\n  const loadAcademicAssignments = async (role) => {\n    try {\n      console.log(`Making API call to /academic?role=${encodeURIComponent(role)}`);\n      const res = await api(`/academic?role=${encodeURIComponent(role)}`);\n      console.log('API response:', res);\n      // Backend returns { academicRecords: [...] }. Be defensive about shapes.\n      const list = Array.isArray(res.academicRecords) ? res.academicRecords : (Array.isArray(res) ? res : []);\n      console.log(`Loading academic assignments for ${role}:`, list);\n      setAcademicByUserId(prev => {\n        const copy = { ...prev };\n        list.forEach(r => {\n          // r.userID may be an object (populated) or a string; backend also provides originalUserID\n          const uid = (r.userID && r.userID.userID) || r.originalUserID || r.userID || null;\n          console.log(`Processing academic record for userID: ${uid}, grade: ${r.grade}, class: ${r.class}`);\n          if (uid) {\n            copy[uid] = { grade: r.grade, class: r.class };\n          }\n        });\n        console.log('Updated academicByUserId:', copy);\n        return copy;\n      });\n    } catch (e) {\n      console.error('Failed to load academic assignments:', e);\n    }\n  };\n\n  const openAssignModal = (user, role) => {\n    const current = academicByUserId[user.userID] || { grade: '', class: 'A' };\n    setAssignContext({ role, user });\n    setAssignForm({ grade: current.grade || '', class: current.class || 'A' });\n    setShowAssignModal(true);\n  };\n\n  const saveAssignment = async (e) => {\n    e.preventDefault();\n    if (!assignForm.grade || !assignForm.class) return;\n    try {\n      // Try to create assignment first, if it fails with \"already assigned\", then update\n      try {\n        await api('/academic/assign', {\n          method: 'POST',\n          body: { userID: assignContext.user.userID, grade: Number(assignForm.grade), class: assignForm.class }\n        });\n      } catch (createError) {\n        // If creation fails because already assigned, try to update instead\n        if (createError.message && createError.message.includes('already assigned')) {\n          await api(`/academic/${assignContext.user.userID}`, {\n            method: 'PUT',\n            body: { grade: Number(assignForm.grade), class: assignForm.class }\n          });\n        } else {\n          throw createError; // Re-throw if it's a different error\n        }\n      }\n      // Refresh cache for the role\n      await loadAcademicAssignments(assignContext.role);\n      \n      // If this was a new student assignment, refresh the students list\n      if (assignContext.role === 'Parent') {\n        await loadStudents();\n        // Show parent details form after academic assignment only if parent details not already saved\n        setShowAssignModal(false);\n        const uid = assignContext.user?.userID;\n        if (!uid || !parentDetailsSaved[uid]) {\n          setShowParentDetailsModal(true);\n        }\n        return;\n      }\n      \n      setShowAssignModal(false);\n    } catch (error) {\n      console.error('Failed to save academic assignment:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      alert(`Failed to save assignment: ${error.message || 'Please try again.'}`);\n    }\n  };\n\n  // Teacher filter and sort function\n  const filterAndSortTeachers = useCallback(() => {\n    let filtered = [...teachers];\n    \n    if (teacherSearchTerm && teacherSearchTerm.trim()) {\n      const searchLower = teacherSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (teacherEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (teacherEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (teacherEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(teacherSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredTeachers(filtered);\n  }, [teachers, teacherSearchTerm, teacherEmailStatusFilter, teacherSortBy]);\n\n  // Shuttle Staff filter and sort function\n  const filterAndSortShuttleStaff = useCallback(() => {\n    let filtered = [...shuttleStaff];\n    \n    if (shuttleSearchTerm && shuttleSearchTerm.trim()) {\n      const searchLower = shuttleSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (shuttleEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (shuttleEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (shuttleEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(shuttleSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredShuttleStaff(filtered);\n  }, [shuttleStaff, shuttleSearchTerm, shuttleEmailStatusFilter, shuttleSortBy]);\n\n  // Admin filter and sort function\n  const filterAndSortAdmins = useCallback(() => {\n    let filtered = [...admins];\n    \n    if (adminSearchTerm && adminSearchTerm.trim()) {\n      const searchLower = adminSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (adminEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (adminEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (adminEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(adminSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredAdmins(filtered);\n  }, [admins, adminSearchTerm, adminEmailStatusFilter, adminSortBy]);\n\n  const handleAddStudent = () => {\n    setEditingStudent(null);\n    setStudentForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Parent'\n    });\n    setShowStudentModal(true);\n  };\n\n  const handleEditStudent = (user) => {\n    setEditingStudent(user);\n    setStudentForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role\n    });\n    // If editing a Parent user, try to load existing parent details and merge into the form\n    if (user.role === 'Parent') {\n      (async () => {\n        try {\n          const parentResp = await api(`/parents/${user.userID}`);\n          if (parentResp && parentResp.parentDetails) {\n            setStudentForm(prev => ({\n              ...prev,\n              parentName: parentResp.parentDetails.parentName || '',\n              contactNumber: parentResp.parentDetails.contactNumber || '',\n              whatsappNumber: parentResp.parentDetails.whatsappNumber || ''\n            }));\n          }\n        } catch (err) {\n          // ignore - parent details may not exist yet\n          console.debug('No parent details to preload for user:', user.userID, err.message || err);\n        }\n      })();\n    }\n    setShowStudentModal(true);\n  };\n\n  const handleDeleteStudent = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedStudents = students.filter(user => user._id !== userId);\n        setStudents(updatedStudents);\n        filterAndSortStudents();\n      } catch (error) {\n        console.error('Failed to delete user:', error);\n        alert('Failed to delete user. Please try again.');\n      }\n    }\n  };\n\n  // Calculate grade based on age\n  const calculateGradeFromAge = (birthday) => {\n    if (!birthday) return null;\n    \n    const today = new Date();\n    const birthDate = new Date(birthday);\n    const age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    const actualAge = monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate()) ? age - 1 : age;\n    \n    // Grade calculation: (current year - birth year) - 5 = grade\n    // This means: age 6 = grade 1, age 7 = grade 2, etc.\n    // Ages 6-16 correspond to grades 1-11\n    if (actualAge >= 6 && actualAge <= 16) {\n      return actualAge - 5; // 6 years old = grade 1, 7 years old = grade 2, etc.\n    }\n    \n    return null; // Invalid age range\n  };\n\n  const handleSaveStudent = async (e) => {\n    e.preventDefault();\n    \n    // Clear previous errors\n    setStudentFormErrors({});\n    \n    // Validate form\n    const birthdayValidation = validateBirthday(studentForm.birthday, studentForm.role);\n    if (!birthdayValidation.isValid) {\n      setStudentFormErrors({ birthday: birthdayValidation.message });\n      return;\n    }\n    \n    // Basic validation\n    if (!studentForm.fullName.trim()) {\n      setStudentFormErrors({ fullName: 'Full name is required' });\n      return;\n    }\n    if (!studentForm.email.trim()) {\n      setStudentFormErrors({ email: 'Email is required' });\n      return;\n    }\n    if (!studentForm.address.trim()) {\n      setStudentFormErrors({ address: 'Address is required' });\n      return;\n    }\n    // Validate parent phone fields if role is Parent and any phone is provided\n    if (studentForm.role === 'Parent') {\n      const errs = {};\n      if (studentForm.contactNumber && studentForm.contactNumber.trim()) {\n        const v = validatePhoneNumber(studentForm.contactNumber);\n        if (!v.isValid) errs.contactNumber = v.message; else studentForm.contactNumber = v.normalized;\n      }\n      if (studentForm.whatsappNumber && studentForm.whatsappNumber.trim()) {\n        const v2 = validatePhoneNumber(studentForm.whatsappNumber);\n        if (!v2.isValid) errs.whatsappNumber = v2.message; else studentForm.whatsappNumber = v2.normalized;\n      }\n      if (Object.keys(errs).length > 0) {\n        setStudentFormErrors(errs);\n        return;\n      }\n    }\n    \n    try {\n      if (editingStudent) {\n        // Update existing user - use MongoDB _id for updates\n        console.log('Updating student with data:', studentForm);\n        const response = await api(`/users/${editingStudent._id}`, {\n          method: 'PUT',\n          body: studentForm\n        });\n        console.log('Student updated successfully:', response);\n        const updatedStudents = students.map(user => \n          user._id === editingStudent._id \n            ? { ...user, ...studentForm }\n            : user\n        );\n        setStudents(updatedStudents);\n        // If user is a Parent, also update/create parent details and mark saved\n        if (studentForm.role === 'Parent') {\n          const targetUserID = response.user?.userID || editingStudent.userID;\n          try {\n            // Try create first\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: targetUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({ ...prev, [targetUserID]: true }));\n          } catch (createErr) {\n            // If creation fails (likely exists), attempt update\n            try {\n              await api(`/parents/${targetUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({ ...prev, [targetUserID]: true }));\n            } catch (updateErr) {\n              console.error('Failed to save parent details after updating user:', updateErr);\n            }\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      } else {\n        // Add new user\n        console.log('Creating new student with data:', studentForm);\n        console.log('Student form validation passed, sending to backend...');\n        const response = await api('/users', {\n          method: 'POST',\n          body: studentForm\n        });\n        console.log('Student created successfully:', response);\n        setStudents([...students, response.user]);\n        \n        // For new students (parents), calculate grade and show assignment modal\n        // Persist parent details if role is Parent and mark saved\n        if (studentForm.role === 'Parent') {\n          const newUserID = response.user.userID;\n          try {\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: newUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({ ...prev, [newUserID]: true }));\n          } catch (parentCreateErr) {\n            // If already exists, try update\n            try {\n              await api(`/parents/${newUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({ ...prev, [newUserID]: true }));\n            } catch (parentUpdateErr) {\n              console.error('Failed to create/update parent details for new user:', parentCreateErr, parentUpdateErr);\n            }\n          }\n        }\n\n        if (studentForm.role === 'Parent') {\n          const calculatedGrade = calculateGradeFromAge(studentForm.birthday);\n          console.log('Calculated grade for birthday', studentForm.birthday, ':', calculatedGrade);\n          if (calculatedGrade) {\n            console.log('Opening assignment modal with grade:', calculatedGrade);\n            // Set up the assignment modal with calculated grade\n            setAssignContext({ \n              role: 'Parent', \n              user: response.user \n            });\n            setAssignForm({ \n              grade: calculatedGrade.toString(), \n              class: 'A' \n            });\n            setShowStudentModal(false);\n            setShowAssignModal(true);\n            setStudentFormErrors({});\n            console.log('Modal states set - showStudentModal: false, showAssignModal: true');\n            return;\n          } else {\n            console.log('No grade calculated, closing modal');\n          }\n        }\n        \n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      }\n    } catch (error) {\n      console.error('Failed to save user:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      \n      if (error.errors && Array.isArray(error.errors)) {\n        // Handle backend validation errors\n        const errorObj = {};\n        error.errors.forEach(err => {\n          if (err.includes('birthday') || err.includes('Birthday')) {\n            errorObj.birthday = err;\n          } else if (err.includes('email') || err.includes('Email')) {\n            errorObj.email = err;\n          } else if (err.includes('name') || err.includes('Name')) {\n            errorObj.fullName = err;\n          } else if (err.includes('address') || err.includes('Address')) {\n            errorObj.address = err;\n          }\n        });\n        setStudentFormErrors(errorObj);\n      } else {\n        alert(`Failed to save user: ${error.message || 'Please try again.'}`);\n      }\n    }\n  };\n\n  // Teacher handlers\n  const handleAddTeacher = () => {\n    setEditingTeacher(null);\n    setTeacherForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Teacher',\n      grade: '',\n      class: 'A',\n      phone: ''\n    });\n    setShowTeacherModal(true);\n  };\n\n  const handleEditTeacher = (user) => {\n    setEditingTeacher(user);\n    setTeacherForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      grade: academicByUserId[user.userID]?.grade || '',\n      class: academicByUserId[user.userID]?.class || 'A',\n      phone: user.phone || ''\n    });\n    setShowTeacherModal(true);\n  };\n\n  const handleDeleteTeacher = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this teacher?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedTeachers = teachers.filter(user => user._id !== userId);\n        setTeachers(updatedTeachers);\n        filterAndSortTeachers();\n      } catch (error) {\n        console.error('Failed to delete teacher:', error);\n        alert('Failed to delete teacher. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveTeacher = async (e) => {\n    e.preventDefault();\n    // Validate phone if provided\n    if (teacherForm.phone && teacherForm.phone.trim()) {\n      const v = validatePhoneNumber(teacherForm.phone);\n      if (!v.isValid) {\n        setTeacherFormErrors({ phone: v.message });\n        return;\n      } else {\n        setTeacherForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingTeacher) {\n        await api(`/users/${editingTeacher._id}`, {\n          method: 'PUT',\n          body: teacherForm\n        });\n        const updatedTeachers = teachers.map(user => \n          user._id === editingTeacher._id \n            ? { ...user, ...teacherForm }\n            : user\n        );\n        setTeachers(updatedTeachers);\n        // If a grade/class was assigned, save academic assignment for teacher\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: { userID: editingTeacher.userID, grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n            });\n          } catch (assignErr) {\n            // If already assigned, update\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              await api(`/academic/${editingTeacher.userID}`, {\n                method: 'PUT',\n                body: { grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n              });\n            } else {\n              console.error('Failed to assign academic info to teacher:', assignErr);\n            }\n          }\n          // refresh academic cache\n          await loadAcademicAssignments('Teacher');\n        }\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: teacherForm\n        });\n        setTeachers([...teachers, response.user]);\n        // If a grade/class was provided during creation, create academic assignment\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: { userID: response.user.userID, grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n            });\n          } catch (assignErr) {\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              try {\n                await api(`/academic/${response.user.userID}`, {\n                  method: 'PUT',\n                  body: { grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n                });\n              } catch (uErr) {\n                console.error('Failed to update academic assignment after create:', uErr);\n              }\n            } else {\n              console.error('Failed to assign academic info to new teacher:', assignErr);\n            }\n          }\n          await loadAcademicAssignments('Teacher');\n        }\n      }\n      \n      setShowTeacherModal(false);\n      filterAndSortTeachers();\n    } catch (error) {\n      console.error('Failed to save teacher:', error);\n      alert('Failed to save teacher. Please try again.');\n    }\n  };\n\n  // Shuttle Staff handlers\n  const handleAddShuttle = () => {\n    setEditingShuttle(null);\n    setShuttleForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'ShuttleStaff',\n      phone: ''\n    });\n    setShowShuttleModal(true);\n  };\n\n  const handleEditShuttle = (user) => {\n    setEditingShuttle(user);\n    setShuttleForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowShuttleModal(true);\n  };\n\n  const handleDeleteShuttle = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this shuttle staff member?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedShuttleStaff = shuttleStaff.filter(user => user._id !== userId);\n        setShuttleStaff(updatedShuttleStaff);\n        filterAndSortShuttleStaff();\n      } catch (error) {\n        console.error('Failed to delete shuttle staff:', error);\n        alert('Failed to delete shuttle staff. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveShuttle = async (e) => {\n    e.preventDefault();\n    if (shuttleForm.phone && shuttleForm.phone.trim()) {\n      const v = validatePhoneNumber(shuttleForm.phone);\n      if (!v.isValid) {\n        setShuttleFormErrors({ phone: v.message });\n        return;\n      } else {\n        setShuttleForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingShuttle) {\n        await api(`/users/${editingShuttle._id}`, {\n          method: 'PUT',\n          body: shuttleForm\n        });\n        const updatedShuttleStaff = shuttleStaff.map(user => \n          user._id === editingShuttle._id \n            ? { ...user, ...shuttleForm }\n            : user\n        );\n        setShuttleStaff(updatedShuttleStaff);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: shuttleForm\n        });\n        setShuttleStaff([...shuttleStaff, response.user]);\n      }\n      \n      setShowShuttleModal(false);\n      filterAndSortShuttleStaff();\n    } catch (error) {\n      console.error('Failed to save shuttle staff:', error);\n      alert('Failed to save shuttle staff. Please try again.');\n    }\n  };\n\n  // Admin handlers\n  const handleAddAdmin = () => {\n    setEditingAdmin(null);\n    setAdminForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Admin',\n      phone: ''\n    });\n    setShowAdminModal(true);\n  };\n\n  const handleEditAdmin = (user) => {\n    setEditingAdmin(user);\n    setAdminForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowAdminModal(true);\n  };\n\n  const handleDeleteAdmin = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this admin?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedAdmins = admins.filter(user => user._id !== userId);\n        setAdmins(updatedAdmins);\n        filterAndSortAdmins();\n      } catch (error) {\n        console.error('Failed to delete admin:', error);\n        alert('Failed to delete admin. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveAdmin = async (e) => {\n    e.preventDefault();\n    if (adminForm.phone && adminForm.phone.trim()) {\n      const v = validatePhoneNumber(adminForm.phone);\n      if (!v.isValid) {\n        setAdminFormErrors({ phone: v.message });\n        return;\n      } else {\n        setAdminForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingAdmin) {\n        await api(`/users/${editingAdmin._id}`, {\n          method: 'PUT',\n          body: adminForm\n        });\n        const updatedAdmins = admins.map(user => \n          user._id === editingAdmin._id \n            ? { ...user, ...adminForm }\n            : user\n        );\n        setAdmins(updatedAdmins);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: adminForm\n        });\n        setAdmins([...admins, response.user]);\n      }\n      \n      setShowAdminModal(false);\n      filterAndSortAdmins();\n    } catch (error) {\n      console.error('Failed to save admin:', error);\n      alert('Failed to save admin. Please try again.');\n    }\n  };\n\n  // Load data when tabs are active\n  useEffect(() => {\n    if (activeTab === 'students') {\n      loadStudents();\n      // Also load academic assignments for students\n      loadAcademicAssignments('Parent');\n    } else if (activeTab === 'teachers') {\n      loadTeachers();\n      // Also load academic assignments for teachers\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'assignments') {\n      loadAcademicAssignments('Parent');\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'shuttle-staff') {\n      loadShuttleStaff();\n    } else if (activeTab === 'admins') {\n      loadAdmins();\n    } else if (activeTab === 'dashboard') {\n      // Log dashboard access\n      logDashboardAccess();\n    }\n  }, [activeTab, loadStudents, loadTeachers]);\n\n  // Load academic data on component mount\n  useEffect(() => {\n    loadAcademicAssignments('Parent');\n    loadAcademicAssignments('Teacher');\n  }, []);\n\n  // Log dashboard access\n  const logDashboardAccess = async () => {\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'dashboard_viewed',\n          targetType: 'dashboard',\n          targetId: null,\n          targetName: 'Admin Dashboard',\n          description: 'Accessed admin dashboard',\n          details: { section: 'dashboard' }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log dashboard access:', error);\n    }\n  };\n\n  // Filter and sort when filters change\n  useEffect(() => {\n    filterAndSortStudents();\n  }, [searchTerm, sortBy, emailStatusFilter, students, filterAndSortStudents]);\n\n  useEffect(() => {\n    filterAndSortTeachers();\n  }, [teacherSearchTerm, teacherSortBy, teacherEmailStatusFilter, teachers, filterAndSortTeachers]);\n\n  useEffect(() => {\n    filterAndSortShuttleStaff();\n  }, [shuttleSearchTerm, shuttleSortBy, shuttleEmailStatusFilter, shuttleStaff, filterAndSortShuttleStaff]);\n\n  useEffect(() => {\n    filterAndSortAdmins();\n  }, [adminSearchTerm, adminSortBy, adminEmailStatusFilter, admins, filterAndSortAdmins]);\n\n  // Debug modal state changes\n  useEffect(() => {\n    console.log('Modal state changed - showStudentModal:', showStudentModal, 'showAssignModal:', showAssignModal);\n    if (showAssignModal) {\n      console.log('Assignment modal context:', assignContext);\n      console.log('Assignment form:', assignForm);\n    }\n  }, [showStudentModal, showAssignModal, assignContext, assignForm]);\n\n  // Test function to manually load academic data\n  const testLoadAcademic = async () => {\n    console.log('Testing academic data load...');\n    console.log('Current academicByUserId before load:', academicByUserId);\n    await loadAcademicAssignments('Parent');\n    console.log('Current academicByUserId after load:', academicByUserId);\n    \n    // Also test the API directly\n    try {\n      const res = await api('/academic?role=Parent');\n      console.log('Direct API call result:', res);\n    } catch (error) {\n      console.error('Direct API call failed:', error);\n    }\n  };\n\n  // Parent details form handlers\n  const handleParentDetailsChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [field]: value\n      }));\n    }\n    // Clear error when user starts typing\n    if (parentDetailsErrors[field]) {\n      setParentDetailsErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n\n  const handleSaveParentDetails = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    const errors = {};\n    if (!parentDetailsForm.parentName.trim()) errors.parentName = 'Parent name is required';\n    if (!parentDetailsForm.contactNumber.trim()) errors.contactNumber = 'Contact number is required';\n    else {\n      const v = validatePhoneNumber(parentDetailsForm.contactNumber);\n      if (!v.isValid) errors.contactNumber = v.message;\n      else parentDetailsForm.contactNumber = v.normalized;\n    }\n    if (!parentDetailsForm.whatsappNumber.trim()) errors.whatsappNumber = 'WhatsApp number is required';\n    else {\n      const v2 = validatePhoneNumber(parentDetailsForm.whatsappNumber);\n      if (!v2.isValid) errors.whatsappNumber = v2.message;\n      else parentDetailsForm.whatsappNumber = v2.normalized;\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setParentDetailsErrors(errors);\n      return;\n    }\n\n    try {\n      // Create parent details using the new parent API\n      await api('/parents', {\n        method: 'POST',\n        body: {\n          userID: assignContext.user.userID,\n          ...parentDetailsForm\n        }\n      });\n\n      setShowParentDetailsModal(false);\n      setParentDetailsForm({\n        parentName: '',\n        contactNumber: '',\n        whatsappNumber: ''\n      });\n      setParentDetailsErrors({});\n      \n      // Refresh students list\n      await loadStudents();\n      alert('Parent details saved successfully!');\n    } catch (error) {\n      console.error('Failed to save parent details:', error);\n      alert('Failed to save parent details. Please try again.');\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  const handleBackToHome = () => {\n    navigate('/');\n  };\n\n  // Validation functions\n  const validateBirthday = (birthday, role) => {\n    if (!birthday) return { isValid: false, message: 'Birthday is required' };\n    \n    const today = new Date();\n    const birthDate = new Date(birthday);\n    \n    // Check if birthday is in the future\n    if (birthDate > today) {\n      return { isValid: false, message: 'Birthday cannot be in the future' };\n    }\n    \n    // Check age limits for Parent role (students should be 6-16 years old for grades 1-11)\n    if (role === 'Parent') {\n      const age = today.getFullYear() - birthDate.getFullYear();\n      const monthDiff = today.getMonth() - birthDate.getMonth();\n      const actualAge = monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate()) ? age - 1 : age;\n      \n      if (actualAge < 6) {\n        return { isValid: false, message: 'Student must be at least 6 years old' };\n      }\n      if (actualAge > 16) {\n        return { isValid: false, message: 'Student cannot be older than 16 years' };\n      }\n    }\n    \n    return { isValid: true, message: '' };\n  };\n\n  // Enhanced search handler with debouncing\n  const handleSearchChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    // Real-time search - no need for manual trigger\n  };\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    filterAndSortStudents();\n  };\n\n  const clearSearch = () => {\n    setSearchTerm('');\n    filterAndSortStudents();\n  };\n\n  const handleRowClick = async (user) => {\n    // Log activity for viewing user profile\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'user_viewed',\n          targetType: 'user',\n          targetId: user._id,\n          targetName: user.fullName,\n          description: `Viewed ${user.role} profile: ${user.fullName} (${user.userID})`,\n          details: { role: user.role, email: user.email }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log user view activity:', error);\n      // Continue with navigation even if logging fails\n    }\n    \n    // Navigate to profile page with user ID and current tab as parameters\n    navigate(`/profile/${user._id}?from=${activeTab}`);\n  };\n\n  // Function to highlight search terms in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n    \n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n    \n    return parts.map((part, index) => {\n      if (regex.test(part)) {\n        return <mark key={index} className=\"search-highlight\">{part}</mark>;\n      }\n      return part;\n    });\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      {/* Menu Toggle for Mobile */}\n      <button className=\"menu-toggle\" onClick={handleMenuToggle}>\n        <i className=\"fas fa-bars\"></i>\n      </button>\n      \n      {/* Sidebar */}\n      <div className={`sidebar ${sidebarOpen ? 'active' : ''}`}>\n        <div className=\"sidebar-header\">\n          <i className=\"fas fa-graduation-cap fa-2x\"></i>\n          <h2>Smart Alert</h2>\n          <p>Admin Dashboard</p>\n        </div>\n        \n        <div className=\"sidebar-menu\">\n          <div className={`menu-item ${activeTab === 'dashboard' ? 'active' : ''}`} onClick={() => handleMenuClick('dashboard')}>\n            <i className=\"fas fa-tachometer-alt\"></i>\n            <span>Dashboard</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'students' ? 'active' : ''}`} onClick={() => handleMenuClick('students')}>\n            <i className=\"fas fa-user-graduate\"></i>\n            <span>Students</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'teachers' ? 'active' : ''}`} onClick={() => handleMenuClick('teachers')}>\n            <i className=\"fas fa-chalkboard-teacher\"></i>\n            <span>Teachers</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'shuttle-staff' ? 'active' : ''}`} onClick={() => handleMenuClick('shuttle-staff')}>\n            <i className=\"fas fa-bus-alt\"></i>\n            <span>Shuttle Staff</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'admins' ? 'active' : ''}`} onClick={() => handleMenuClick('admins')}>\n            <i className=\"fas fa-user-shield\"></i>\n            <span>Admins</span>\n          </div>\n          <div className=\"menu-item\" onClick={handleBackToHome}>\n            <i className=\"fas fa-home\"></i>\n            <span>Back to Home</span>\n          </div>\n          <div className=\"menu-item\" onClick={handleLogout}>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Content */}\n      <div className=\"main-content\">\n        {/* Dashboard Content */}\n        {activeTab === 'dashboard' && (\n          <>\n            {/* Dashboard Cards */}\n            <div className=\"dashboard-cards\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.totalStudents.toLocaleString()}</h3>\n                    <p>Total Students</p>\n                  </div>\n                  <div className=\"card-icon students\">\n                    <i className=\"fas fa-user-graduate\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.totalTeachers}</h3>\n                    <p>Total Teachers</p>\n                  </div>\n                  <div className=\"card-icon teachers\">\n                    <i className=\"fas fa-chalkboard-teacher\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.shuttleStaff}</h3>\n                    <p>Shuttle Staff</p>\n                  </div>\n                  <div className=\"card-icon shuttle-staff\">\n                    <i className=\"fas fa-bus-alt\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0%</h3>\n                    <p>Today's Attendance</p>\n                  </div>\n                  <div className=\"card-icon attendance\">\n                    <i className=\"fas fa-clipboard-check\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0</h3>\n                    <p>Active Buses</p>\n                  </div>\n                  <div className=\"card-icon transport\">\n                    <i className=\"fas fa-bus\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0</h3>\n                    <p>Active Announcements</p>\n                  </div>\n                  <div className=\"card-icon announcements\">\n                    <i className=\"fas fa-bullhorn\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Recent Activity */}\n            <div className=\"recent-activity\">\n              <h3>Recent Activity</h3>\n              <div className=\"activity-list\">\n                {recentActivity.map(activity => (\n                  <div key={activity.id} className=\"activity-item\">\n                    <div className=\"activity-icon\">\n                      <i className={`fas fa-${activity.type}`}></i>\n                    </div>\n                    <div className=\"activity-content\">\n                      <h4>{activity.title}</h4>\n                      <p>{activity.description}</p>\n                    </div>\n                    <div className=\"activity-time\">{activity.time}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n        \n        {/* Students Management Content */}\n        {activeTab === 'students' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Student Management</h1>\n              <div className=\"header-buttons\">\n                <button className=\"btn btn-primary\" onClick={handleAddStudent}>\n                  <i className=\"fas fa-plus\"></i>\n                  <span>Add New Student</span>\n                </button>\n              </div>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search students by name, userID, email, or address...\" \n                  value={searchTerm}\n                  onChange={handleSearchChange}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSearchSubmit(e)}\n                />\n                <div className=\"search-buttons\">\n                  {searchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={clearSearch}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={handleSearchSubmit}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"emailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"emailStatusFilter\" \n                    value={emailStatusFilter}\n                    onChange={(e) => setEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"sortBy\">Sort By</label>\n                  <select \n                    id=\"sortBy\" \n                    value={sortBy}\n                    onChange={(e) => setSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(searchTerm || emailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredStudents.length} result{filteredStudents.length !== 1 ? 's' : ''} found\n                  {searchTerm && ` for \"${highlightText(searchTerm, searchTerm)}\"`}\n                  {emailStatusFilter && ` (${emailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setSearchTerm(''); setEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Users Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                 <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Student</th>\n                    <th>Email</th>\n                    <th>Email Status</th>\n                    <th>Grade</th>\n                    <th>Class</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                 </thead>\n                <tbody>\n                  {filteredStudents.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"8\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No Students found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredStudents.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {searchTerm ? highlightText(user.fullName, searchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {searchTerm ? highlightText(user.userID, searchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{searchTerm ? highlightText(user.email, searchTerm) : user.email}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{academicByUserId[user.userID]?.grade ?? '-'}</td>\n                          <td>{academicByUserId[user.userID]?.class ?? '-'}</td>\n                          <td>{searchTerm ? highlightText(user.address, searchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`student-${user._id}`}\n                                onEdit={() => handleEditStudent(user)}\n                                onDelete={() => handleDeleteStudent(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Teachers Management Content */}\n        {activeTab === 'teachers' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Teacher Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddTeacher}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Teacher</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search teachers by name, userID, email, or address...\" \n                  value={teacherSearchTerm}\n                  onChange={(e) => setTeacherSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {teacherSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setTeacherSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortTeachers()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"teacherEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"teacherEmailStatusFilter\" \n                    value={teacherEmailStatusFilter}\n                    onChange={(e) => setTeacherEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"teacherSortBy\">Sort By</label>\n                  <select \n                    id=\"teacherSortBy\" \n                    value={teacherSortBy}\n                    onChange={(e) => setTeacherSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(teacherSearchTerm || teacherEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredTeachers.length} result{filteredTeachers.length !== 1 ? 's' : ''} found\n                  {teacherSearchTerm && ` for \"${teacherSearchTerm}\"`}\n                  {teacherEmailStatusFilter && ` (${teacherEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setTeacherSearchTerm(''); setTeacherEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Teachers Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Teacher</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Grade</th>\n                    <th>Class</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredTeachers.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"10\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No teachers found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredTeachers.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {teacherSearchTerm ? highlightText(user.fullName, teacherSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {teacherSearchTerm ? highlightText(user.userID, teacherSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{teacherSearchTerm ? highlightText(user.email, teacherSearchTerm) : user.email}</td>\n                          <td>{teacherSearchTerm ? highlightText(user.phone || '-', teacherSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{academicByUserId[user.userID]?.grade ?? '-'}</td>\n                          <td>{academicByUserId[user.userID]?.class ?? '-'}</td>\n                          <td>{teacherSearchTerm ? highlightText(user.address, teacherSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`teacher-${user._id}`}\n                                onEdit={() => handleEditTeacher(user)}\n                                onDelete={() => handleDeleteTeacher(user._id)}\n                                extraItems={(\n                                  <>\n                                    <div className=\"divider\" />\n                                    <button className=\"menu-item\" onClick={() => { setOpenMenuId(null); openAssignModal(user, 'Teacher'); }}>\n                                      <div className=\"menu-icon\" />\n                                      Assign\n                                    </button>\n                                  </>\n                                )}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Shuttle Staff Management Content */}\n        {activeTab === 'shuttle-staff' && (\n          <>\n            {/* Shuttle Staff Hero */}\n            <div style={{ position: 'relative', width: '100%', marginBottom: '20px', borderRadius: '16px', overflow: 'hidden' }}>\n              <img\n                src=\"https://images.unsplash.com/photo-1599982982646-38e0411b27f5?auto=format&fit=crop&w=1600&q=70\"\n                alt=\"Shuttle Staff\"\n                loading=\"lazy\"\n                style={{\n                  width: '100%',\n                  height: '260px',\n                  objectFit: 'cover'\n                }}\n                onError={(e) => {\n                  e.currentTarget.style.display = 'none';\n                  const fallback = document.createElement('div');\n                  fallback.style.width = '100%';\n                  fallback.style.height = '260px';\n                  fallback.style.background = 'linear-gradient(135deg, #0ea5e9, #22c55e)';\n                  e.currentTarget.parentElement && e.currentTarget.parentElement.appendChild(fallback);\n                }}\n              />\n              <div style={{\n                position: 'absolute',\n                inset: 0,\n                background: 'linear-gradient(180deg, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.45) 100%)'\n              }} />\n              <div style={{\n                position: 'absolute',\n                bottom: 16,\n                left: 16,\n                color: '#fff'\n              }}>\n                <div style={{ fontSize: 24, fontWeight: 800, letterSpacing: 0.3 }}>Shuttle Staff</div>\n                <div style={{ fontSize: 14, opacity: 0.9 }}>Manage drivers, verify contacts, keep your fleet organized</div>\n              </div>\n            </div>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Shuttle Staff Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddShuttle}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Staff</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search shuttle staff by name, userID, email, or address...\" \n                  value={shuttleSearchTerm}\n                  onChange={(e) => setShuttleSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {shuttleSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setShuttleSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortShuttleStaff()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"shuttleEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"shuttleEmailStatusFilter\" \n                    value={shuttleEmailStatusFilter}\n                    onChange={(e) => setShuttleEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"shuttleSortBy\">Sort By</label>\n                  <select \n                    id=\"shuttleSortBy\" \n                    value={shuttleSortBy}\n                    onChange={(e) => setShuttleSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(shuttleSearchTerm || shuttleEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredShuttleStaff.length} result{filteredShuttleStaff.length !== 1 ? 's' : ''} found\n                  {shuttleSearchTerm && ` for \"${shuttleSearchTerm}\"`}\n                  {shuttleEmailStatusFilter && ` (${shuttleEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setShuttleSearchTerm(''); setShuttleEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Shuttle Staff Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Staff Member</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredShuttleStaff.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"9\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No shuttle staff found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredShuttleStaff.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {shuttleSearchTerm ? highlightText(user.fullName, shuttleSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {shuttleSearchTerm ? highlightText(user.userID, shuttleSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{shuttleSearchTerm ? highlightText(user.email, shuttleSearchTerm) : user.email}</td>\n                          <td>{shuttleSearchTerm ? highlightText(user.phone || '-', shuttleSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{shuttleSearchTerm ? highlightText(user.address, shuttleSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`shuttle-${user._id}`}\n                                onEdit={() => handleEditShuttle(user)}\n                                onDelete={() => handleDeleteShuttle(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Admins Management Content */}\n        {activeTab === 'admins' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Admin Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddAdmin}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Admin</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search admins by name, userID, email, or address...\" \n                  value={adminSearchTerm}\n                  onChange={(e) => setAdminSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {adminSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setAdminSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortAdmins()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"adminEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"adminEmailStatusFilter\" \n                    value={adminEmailStatusFilter}\n                    onChange={(e) => setAdminEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"adminSortBy\">Sort By</label>\n                  <select \n                    id=\"adminSortBy\" \n                    value={adminSortBy}\n                    onChange={(e) => setAdminSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(adminSearchTerm || adminEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredAdmins.length} result{filteredAdmins.length !== 1 ? 's' : ''} found\n                  {adminSearchTerm && ` for \"${adminSearchTerm}\"`}\n                  {adminEmailStatusFilter && ` (${adminEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setAdminSearchTerm(''); setAdminEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Admins Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Admin</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredAdmins.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"9\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No admins found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredAdmins.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {adminSearchTerm ? highlightText(user.fullName, adminSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {adminSearchTerm ? highlightText(user.userID, adminSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{adminSearchTerm ? highlightText(user.email, adminSearchTerm) : user.email}</td>\n                          <td>{adminSearchTerm ? highlightText(user.phone || '-', adminSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{adminSearchTerm ? highlightText(user.address, adminSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`admin-${user._id}`}\n                                onEdit={() => handleEditAdmin(user)}\n                                onDelete={() => handleDeleteAdmin(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n      </div>\n      \n      {/* Add/Edit Parent Modal */}\n      {showStudentModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingStudent ? 'Edit Student' : 'Add New Student'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowStudentModal(false)}\n              >\n                &times;\n              </button>\n            </div>\n            \n            <form onSubmit={handleSaveStudent}>\n              <div className=\"form-group\">\n                <label htmlFor=\"fullName\">Full Name</label>\n                <input \n                  type=\"text\" \n                  id=\"fullName\" \n                  value={studentForm.fullName}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, fullName: e.target.value});\n                    if (studentFormErrors.fullName) {\n                      setStudentFormErrors({...studentFormErrors, fullName: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., John Doe\"\n                  className={studentFormErrors.fullName ? 'error' : ''}\n                />\n                {studentFormErrors.fullName && (\n                  <div className=\"error-message\">{studentFormErrors.fullName}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"email\">Email</label>\n                <input \n                  type=\"email\" \n                  id=\"email\" \n                  value={studentForm.email}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, email: e.target.value});\n                    if (studentFormErrors.email) {\n                      setStudentFormErrors({...studentFormErrors, email: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., john.doe@school.edu\"\n                  className={studentFormErrors.email ? 'error' : ''}\n                />\n                {studentFormErrors.email && (\n                  <div className=\"error-message\">{studentFormErrors.email}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"birthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"birthday\" \n                  value={studentForm.birthday}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, birthday: e.target.value});\n                    if (studentFormErrors.birthday) {\n                      setStudentFormErrors({...studentFormErrors, birthday: ''});\n                    }\n                  }}\n                  required \n                  max={new Date().toISOString().split('T')[0]}\n                  className={studentFormErrors.birthday ? 'error' : ''}\n                />\n                {studentFormErrors.birthday && (\n                  <div className=\"error-message\">{studentFormErrors.birthday}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"address\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"address\" \n                  value={studentForm.address}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, address: e.target.value});\n                    if (studentFormErrors.address) {\n                      setStudentFormErrors({...studentFormErrors, address: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., 123 Main St, City, State\"\n                  className={studentFormErrors.address ? 'error' : ''}\n                />\n                {studentFormErrors.address && (\n                  <div className=\"error-message\">{studentFormErrors.address}</div>\n                )}\n              </div>\n\n              {/* Parent fields - allow entering parent details in the same student modal */}\n              <div className=\"form-group\">\n                <label htmlFor=\"parentName\">Parent / Guardian Name</label>\n                <input\n                  type=\"text\"\n                  id=\"parentName\"\n                  value={studentForm.parentName}\n                  onChange={(e) => setStudentForm({...studentForm, parentName: e.target.value})}\n                  placeholder=\"e.g., Jane Doe\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"contactNumber\">Parent Contact Number</label>\n                <input\n                  type=\"text\"\n                  id=\"contactNumber\"\n                  value={studentForm.contactNumber}\n                  onChange={(e) => setStudentForm({...studentForm, contactNumber: e.target.value})}\n                  className={studentFormErrors.contactNumber ? 'error' : ''}\n                  placeholder=\"e.g., +94 7XX XXX XXX\"\n                />\n                {studentFormErrors.contactNumber && (\n                  <span className=\"error-message\">{studentFormErrors.contactNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"whatsappNumber\">Parent WhatsApp Number</label>\n                <input\n                  type=\"text\"\n                  id=\"whatsappNumber\"\n                  value={studentForm.whatsappNumber}\n                  onChange={(e) => setStudentForm({...studentForm, whatsappNumber: e.target.value})}\n                  className={studentFormErrors.whatsappNumber ? 'error' : ''}\n                  placeholder=\"e.g., +94 7XX XXX XXX\"\n                />\n                {studentFormErrors.whatsappNumber && (\n                  <span className=\"error-message\">{studentFormErrors.whatsappNumber}</span>\n                )}\n              </div>\n              \n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowStudentModal(false)}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"modal-btn btn-submit\">\n                  {editingStudent ? 'Update Student' : 'Save Student'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Teacher Modal */}\n      {showTeacherModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingTeacher ? 'Edit Teacher' : 'Add New Teacher'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowTeacherModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveTeacher}>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"teacherFullName\"\n                  value={teacherForm.fullName}\n                  onChange={(e) => setTeacherForm({...teacherForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"teacherEmail\"\n                  value={teacherForm.email}\n                  onChange={(e) => setTeacherForm({...teacherForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"teacherBirthday\"\n                  value={teacherForm.birthday}\n                  onChange={(e) => setTeacherForm({...teacherForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"teacherAddress\"\n                  value={teacherForm.address}\n                  onChange={(e) => setTeacherForm({...teacherForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherPhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"teacherPhone\"\n                  value={teacherForm.phone}\n                  onChange={(e) => setTeacherForm({...teacherForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={teacherFormErrors.phone ? 'error' : ''}\n                />\n                {teacherFormErrors.phone && <span className=\"error-message\">{teacherFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherGrade\">Assign Grade</label>\n                <input\n                  type=\"number\"\n                  id=\"teacherGrade\"\n                  min=\"1\"\n                  max=\"11\"\n                  value={teacherForm.grade}\n                  onChange={(e) => setTeacherForm({...teacherForm, grade: e.target.value})}\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherClass\">Assign Class</label>\n                <select\n                  id=\"teacherClass\"\n                  value={teacherForm.class}\n                  onChange={(e) => setTeacherForm({...teacherForm, class: e.target.value})}\n                >\n                  <option value=\"A\">A</option>\n                  <option value=\"B\">B</option>\n                  <option value=\"C\">C</option>\n                </select>\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowTeacherModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingTeacher ? 'Update Teacher' : 'Save Teacher'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Shuttle Staff Modal */}\n      {showShuttleModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingShuttle ? 'Edit Shuttle Staff' : 'Add New Shuttle Staff'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowShuttleModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveShuttle}>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"shuttleFullName\"\n                  value={shuttleForm.fullName}\n                  onChange={(e) => setShuttleForm({...shuttleForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"shuttleEmail\"\n                  value={shuttleForm.email}\n                  onChange={(e) => setShuttleForm({...shuttleForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"shuttleBirthday\"\n                  value={shuttleForm.birthday}\n                  onChange={(e) => setShuttleForm({...shuttleForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"shuttleAddress\"\n                  value={shuttleForm.address}\n                  onChange={(e) => setShuttleForm({...shuttleForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttlePhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"shuttlePhone\"\n                  value={shuttleForm.phone}\n                  onChange={(e) => setShuttleForm({...shuttleForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={shuttleFormErrors.phone ? 'error' : ''}\n                />\n                {shuttleFormErrors.phone && <span className=\"error-message\">{shuttleFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttlePhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"shuttlePhone\"\n                  value={shuttleForm.phone}\n                  onChange={(e) => setShuttleForm({...shuttleForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                />\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowShuttleModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingShuttle ? 'Update Staff' : 'Save Staff'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Admin Modal */}\n      {showAdminModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingAdmin ? 'Edit Admin' : 'Add New Admin'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowAdminModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveAdmin}>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"adminFullName\"\n                  value={adminForm.fullName}\n                  onChange={(e) => setAdminForm({...adminForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"adminEmail\"\n                  value={adminForm.email}\n                  onChange={(e) => setAdminForm({...adminForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"adminBirthday\"\n                  value={adminForm.birthday}\n                  onChange={(e) => setAdminForm({...adminForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"adminAddress\"\n                  value={adminForm.address}\n                  onChange={(e) => setAdminForm({...adminForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminPhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"adminPhone\"\n                  value={adminForm.phone}\n                  onChange={(e) => setAdminForm({...adminForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={adminFormErrors.phone ? 'error' : ''}\n                />\n                {adminFormErrors.phone && <span className=\"error-message\">{adminFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowAdminModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingAdmin ? 'Update Admin' : 'Save Admin'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Assign Grade/Class Modal */}\n      {showAssignModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {academicByUserId[assignContext.user?.userID] ? 'Edit Assignment' : 'Assign Grade & Class'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowAssignModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={saveAssignment}>\n              <div className=\"form-group\">\n                <label>User</label>\n                <input type=\"text\" value={`${assignContext.user?.fullName || ''} (${assignContext.user?.userID || ''})`} readOnly />\n              </div>\n              \n              {/* Show auto-calculated grade message for new students */}\n              {!academicByUserId[assignContext.user?.userID] && assignContext.role === 'Parent' && (\n                <div className=\"form-group\" style={{ \n                  backgroundColor: '#e8f5e8', \n                  padding: '10px', \n                  borderRadius: '5px', \n                  marginBottom: '15px',\n                  border: '1px solid #4caf50'\n                }}>\n                  <p style={{ margin: 0, color: '#2e7d32', fontSize: '14px' }}>\n                    <i className=\"fas fa-info-circle\" style={{ marginRight: '5px' }}></i>\n                    Grade {assignForm.grade} has been automatically calculated based on the student's age. \n                    You can modify it if needed and select the class.\n                  </p>\n                </div>\n              )}\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"assignGrade\">Grade</label>\n                <select\n                  id=\"assignGrade\"\n                  value={assignForm.grade}\n                  onChange={(e) => setAssignForm({ ...assignForm, grade: e.target.value })}\n                  required\n                >\n                  <option value=\"\" disabled>Select Grade</option>\n                  {Array.from({ length: 11 }, (_, i) => i + 1).map(g => (\n                    <option key={g} value={g}>{g}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"assignClass\">Class</label>\n                <select\n                  id=\"assignClass\"\n                  value={assignForm.class}\n                  onChange={(e) => setAssignForm({ ...assignForm, class: e.target.value })}\n                  required\n                >\n                  {['A','B','C'].map(c => (\n                    <option key={c} value={c}>{c}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowAssignModal(false)}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"modal-btn btn-submit\">\n                  {academicByUserId[assignContext.user?.userID] ? 'Update Assignment' : 'Assign Grade & Class'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Parent Details Modal */}\n      {showParentDetailsModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">Parent Details</h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowParentDetailsModal(false)}\n              >\n                \n              </button>\n            </div>\n            \n            <form onSubmit={handleSaveParentDetails}>\n              <div className=\"form-group\">\n                <label htmlFor=\"parentName\">Parent Name *</label>\n                <input\n                  type=\"text\"\n                  id=\"parentName\"\n                  value={parentDetailsForm.parentName}\n                  onChange={(e) => handleParentDetailsChange('parentName', e.target.value)}\n                  className={parentDetailsErrors.parentName ? 'error' : ''}\n                  placeholder=\"Enter parent name\"\n                />\n                {parentDetailsErrors.parentName && (\n                  <span className=\"error-message\">{parentDetailsErrors.parentName}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"contactNumber\">Contact Number *</label>\n                <input\n                  type=\"tel\"\n                  id=\"contactNumber\"\n                  value={parentDetailsForm.contactNumber}\n                  onChange={(e) => handleParentDetailsChange('contactNumber', e.target.value)}\n                  className={parentDetailsErrors.contactNumber ? 'error' : ''}\n                  placeholder=\"Enter contact number\"\n                />\n                {parentDetailsErrors.contactNumber && (\n                  <span className=\"error-message\">{parentDetailsErrors.contactNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"whatsappNumber\">WhatsApp Number *</label>\n                <input\n                  type=\"tel\"\n                  id=\"whatsappNumber\"\n                  value={parentDetailsForm.whatsappNumber}\n                  onChange={(e) => handleParentDetailsChange('whatsappNumber', e.target.value)}\n                  className={parentDetailsErrors.whatsappNumber ? 'error' : ''}\n                  placeholder=\"Enter WhatsApp number\"\n                />\n                {parentDetailsErrors.whatsappNumber && (\n                  <span className=\"error-message\">{parentDetailsErrors.whatsappNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\"\n                  onClick={() => setShowParentDetailsModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  Save Parent Details\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}