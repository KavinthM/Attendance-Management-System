{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5001/exams';\nclass ProgressAnalysisAPI {\n  // Get student progress analysis data from exam data\n  static async getProgressAnalysis(studentId) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/progress-analysis/${studentId}`);\n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('No exam data found for this student');\n        }\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.progressAnalysis;\n    } catch (error) {\n      console.error('Error fetching progress analysis:', error);\n      throw error;\n    }\n  }\n\n  // Get all exams for a student (for comprehensive analysis)\n  static async getAllStudentExams(studentId) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      // Filter exams for the specific student\n      const studentExams = data.exams.filter(exam => exam.studentId === studentId);\n      return studentExams;\n    } catch (error) {\n      console.error('Error fetching all student exams:', error);\n      throw error;\n    }\n  }\n\n  // Download progress analysis PDF\n  static async downloadProgressAnalysisPDF(studentId) {\n    try {\n      console.log('Attempting to download PDF for student:', studentId);\n      const response = await fetch(`${API_BASE_URL}/progress/${studentId}`, {\n        method: 'GET'\n      });\n      console.log('Response status:', response.status);\n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('No exam data found for this student');\n        }\n        const errorText = await response.text();\n        console.error('Server error response:', errorText);\n        throw new Error(`Server error: ${response.status} - ${errorText}`);\n      }\n\n      // Check if response is actually a PDF\n      const contentType = response.headers.get('content-type');\n      console.log('Content type:', contentType);\n      if (!contentType || !contentType.includes('application/pdf')) {\n        const errorText = await response.text();\n        console.error('Expected PDF but got:', contentType, errorText);\n        throw new Error('Server did not return a PDF file');\n      }\n\n      // Create blob from response\n      const blob = await response.blob();\n      console.log('Blob size:', blob.size);\n      if (blob.size === 0) {\n        throw new Error('PDF file is empty');\n      }\n\n      // Create download link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `ProgressAnalysis_${studentId}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      console.log('PDF download initiated successfully');\n      return true;\n    } catch (error) {\n      console.error('Error downloading progress analysis PDF:', error);\n      throw error;\n    }\n  }\n\n  // Process exam data for progress analysis\n  static processProgressData(exams) {\n    if (!exams || exams.length === 0) {\n      return null;\n    }\n\n    // Use the first exam as the base for student info\n    const baseExam = exams[0];\n\n    // Aggregate all subjects across all exams\n    const subjectsMap = {};\n    const termTotals = {\n      term1: 0,\n      term2: 0,\n      term3: 0\n    };\n    const termCounts = {\n      term1: 0,\n      term2: 0,\n      term3: 0\n    };\n    exams.forEach(exam => {\n      exam.subjects.forEach(subject => {\n        const subjectName = subject.subject || 'Unknown';\n        if (!subjectsMap[subjectName]) {\n          subjectsMap[subjectName] = {\n            subject: subjectName,\n            term1: null,\n            term2: null,\n            term3: null\n          };\n        }\n\n        // Take the latest value for each term\n        if (subject.term1 !== null && subject.term1 !== undefined) {\n          subjectsMap[subjectName].term1 = subject.term1;\n          termTotals.term1 += subject.term1;\n          termCounts.term1++;\n        }\n        if (subject.term2 !== null && subject.term2 !== undefined) {\n          subjectsMap[subjectName].term2 = subject.term2;\n          termTotals.term2 += subject.term2;\n          termCounts.term2++;\n        }\n        if (subject.term3 !== null && subject.term3 !== undefined) {\n          subjectsMap[subjectName].term3 = subject.term3;\n          termTotals.term3 += subject.term3;\n          termCounts.term3++;\n        }\n      });\n    });\n\n    // Convert subjects map to array\n    const subjects = Object.values(subjectsMap);\n\n    // Calculate term averages\n    const term1Avg = termCounts.term1 > 0 ? termTotals.term1 / termCounts.term1 : 0;\n    const term2Avg = termCounts.term2 > 0 ? termTotals.term2 / termCounts.term2 : 0;\n    const term3Avg = termCounts.term3 > 0 ? termTotals.term3 / termCounts.term3 : 0;\n\n    // Calculate overall progress\n    const overallProgress = term1Avg > 0 ? (term3Avg - term1Avg) / term1Avg * 100 : 0;\n\n    // Generate overall recommendations\n    const lowSubjects = subjects.filter(subject => {\n      const latest = subject.term3 || subject.term2 || subject.term1;\n      return latest !== null && latest < 65;\n    }).map(subject => subject.subject);\n    let overallRecommendations = 'Keep monitoring progress and provide targeted support where needed.';\n    if (term3Avg > term1Avg) {\n      overallRecommendations = 'Student shows improvement — reinforce successful study habits.';\n    } else if (term3Avg < term1Avg) {\n      overallRecommendations = 'Performance declined — consider remediation and extra tutoring.';\n    }\n    if (lowSubjects.length > 0) {\n      overallRecommendations += ` Focus on: ${lowSubjects.join(', ')}.`;\n    }\n    return {\n      studentId: baseExam.studentId,\n      name: baseExam.name,\n      classLevel: baseExam.classLevel,\n      subjects,\n      term1Avg: Number(term1Avg.toFixed(2)),\n      term2Avg: Number(term2Avg.toFixed(2)),\n      term3Avg: Number(term3Avg.toFixed(2)),\n      overallProgress: Number(overallProgress.toFixed(1)),\n      overallRecommendations\n    };\n  }\n\n  // Determine trend for a subject\n  static determineTrend(term1, term2, term3) {\n    const values = [term1, term2, term3].filter(v => v !== null && v !== undefined);\n    if (values.length < 2) return \"Insufficient Data\";\n    if (values[values.length - 1] > values[0]) return \"Improving\";\n    if (values[values.length - 1] < values[0]) return \"Declining\";\n    return \"Stable\";\n  }\n\n  // Generate recommendation for a subject\n  static generateRecommendation(trend, latestScore) {\n    if (latestScore < 65) return \"Provide extra practice and revision.\";\n    if (trend === \"Improving\" && latestScore >= 75) return \"Good progress — continue current strategies.\";\n    return \"Maintain effort.\";\n  }\n}\nexport default ProgressAnalysisAPI;","map":{"version":3,"names":["API_BASE_URL","ProgressAnalysisAPI","getProgressAnalysis","studentId","response","fetch","ok","status","Error","data","json","progressAnalysis","error","console","getAllStudentExams","studentExams","exams","filter","exam","downloadProgressAnalysisPDF","log","method","errorText","text","contentType","headers","get","includes","blob","size","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","processProgressData","length","baseExam","subjectsMap","termTotals","term1","term2","term3","termCounts","forEach","subjects","subject","subjectName","undefined","Object","values","term1Avg","term2Avg","term3Avg","overallProgress","lowSubjects","latest","map","overallRecommendations","join","name","classLevel","Number","toFixed","determineTrend","v","generateRecommendation","trend","latestScore"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/services/ProgressAnalysisAPI.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5001/exams';\n\nclass ProgressAnalysisAPI {\n  // Get student progress analysis data from exam data\n  static async getProgressAnalysis(studentId) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/progress-analysis/${studentId}`);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('No exam data found for this student');\n        }\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      return data.progressAnalysis;\n    } catch (error) {\n      console.error('Error fetching progress analysis:', error);\n      throw error;\n    }\n  }\n\n  // Get all exams for a student (for comprehensive analysis)\n  static async getAllStudentExams(studentId) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      // Filter exams for the specific student\n      const studentExams = data.exams.filter(exam => exam.studentId === studentId);\n      return studentExams;\n    } catch (error) {\n      console.error('Error fetching all student exams:', error);\n      throw error;\n    }\n  }\n\n  // Download progress analysis PDF\n  static async downloadProgressAnalysisPDF(studentId) {\n    try {\n      console.log('Attempting to download PDF for student:', studentId);\n      const response = await fetch(`${API_BASE_URL}/progress/${studentId}`, {\n        method: 'GET',\n      });\n      \n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('No exam data found for this student');\n        }\n        const errorText = await response.text();\n        console.error('Server error response:', errorText);\n        throw new Error(`Server error: ${response.status} - ${errorText}`);\n      }\n      \n      // Check if response is actually a PDF\n      const contentType = response.headers.get('content-type');\n      console.log('Content type:', contentType);\n      \n      if (!contentType || !contentType.includes('application/pdf')) {\n        const errorText = await response.text();\n        console.error('Expected PDF but got:', contentType, errorText);\n        throw new Error('Server did not return a PDF file');\n      }\n      \n      // Create blob from response\n      const blob = await response.blob();\n      console.log('Blob size:', blob.size);\n      \n      if (blob.size === 0) {\n        throw new Error('PDF file is empty');\n      }\n      \n      // Create download link\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `ProgressAnalysis_${studentId}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      \n      console.log('PDF download initiated successfully');\n      return true;\n    } catch (error) {\n      console.error('Error downloading progress analysis PDF:', error);\n      throw error;\n    }\n  }\n\n  // Process exam data for progress analysis\n  static processProgressData(exams) {\n    if (!exams || exams.length === 0) {\n      return null;\n    }\n\n    // Use the first exam as the base for student info\n    const baseExam = exams[0];\n    \n    // Aggregate all subjects across all exams\n    const subjectsMap = {};\n    const termTotals = { term1: 0, term2: 0, term3: 0 };\n    const termCounts = { term1: 0, term2: 0, term3: 0 };\n\n    exams.forEach(exam => {\n      exam.subjects.forEach(subject => {\n        const subjectName = subject.subject || 'Unknown';\n        \n        if (!subjectsMap[subjectName]) {\n          subjectsMap[subjectName] = {\n            subject: subjectName,\n            term1: null,\n            term2: null,\n            term3: null\n          };\n        }\n\n        // Take the latest value for each term\n        if (subject.term1 !== null && subject.term1 !== undefined) {\n          subjectsMap[subjectName].term1 = subject.term1;\n          termTotals.term1 += subject.term1;\n          termCounts.term1++;\n        }\n        if (subject.term2 !== null && subject.term2 !== undefined) {\n          subjectsMap[subjectName].term2 = subject.term2;\n          termTotals.term2 += subject.term2;\n          termCounts.term2++;\n        }\n        if (subject.term3 !== null && subject.term3 !== undefined) {\n          subjectsMap[subjectName].term3 = subject.term3;\n          termTotals.term3 += subject.term3;\n          termCounts.term3++;\n        }\n      });\n    });\n\n    // Convert subjects map to array\n    const subjects = Object.values(subjectsMap);\n\n    // Calculate term averages\n    const term1Avg = termCounts.term1 > 0 ? termTotals.term1 / termCounts.term1 : 0;\n    const term2Avg = termCounts.term2 > 0 ? termTotals.term2 / termCounts.term2 : 0;\n    const term3Avg = termCounts.term3 > 0 ? termTotals.term3 / termCounts.term3 : 0;\n\n    // Calculate overall progress\n    const overallProgress = term1Avg > 0 ? ((term3Avg - term1Avg) / term1Avg * 100) : 0;\n\n    // Generate overall recommendations\n    const lowSubjects = subjects.filter(subject => {\n      const latest = subject.term3 || subject.term2 || subject.term1;\n      return latest !== null && latest < 65;\n    }).map(subject => subject.subject);\n\n    let overallRecommendations = 'Keep monitoring progress and provide targeted support where needed.';\n    if (term3Avg > term1Avg) {\n      overallRecommendations = 'Student shows improvement — reinforce successful study habits.';\n    } else if (term3Avg < term1Avg) {\n      overallRecommendations = 'Performance declined — consider remediation and extra tutoring.';\n    }\n    \n    if (lowSubjects.length > 0) {\n      overallRecommendations += ` Focus on: ${lowSubjects.join(', ')}.`;\n    }\n\n    return {\n      studentId: baseExam.studentId,\n      name: baseExam.name,\n      classLevel: baseExam.classLevel,\n      subjects,\n      term1Avg: Number(term1Avg.toFixed(2)),\n      term2Avg: Number(term2Avg.toFixed(2)),\n      term3Avg: Number(term3Avg.toFixed(2)),\n      overallProgress: Number(overallProgress.toFixed(1)),\n      overallRecommendations\n    };\n  }\n\n  // Determine trend for a subject\n  static determineTrend(term1, term2, term3) {\n    const values = [term1, term2, term3].filter(v => v !== null && v !== undefined);\n    if (values.length < 2) return \"Insufficient Data\";\n    \n    if (values[values.length - 1] > values[0]) return \"Improving\";\n    if (values[values.length - 1] < values[0]) return \"Declining\";\n    return \"Stable\";\n  }\n\n  // Generate recommendation for a subject\n  static generateRecommendation(trend, latestScore) {\n    if (latestScore < 65) return \"Provide extra practice and revision.\";\n    if (trend === \"Improving\" && latestScore >= 75) return \"Good progress — continue current strategies.\";\n    return \"Maintain effort.\";\n  }\n}\n\nexport default ProgressAnalysisAPI;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}