{"ast":null,"code":"const NON_ENGLISH_LAYOUT = /^[^\\x00-\\x7F]$/;\nconst IGNORE_INPUTS = {\n  checkbox: true,\n  file: true,\n  radio: true\n};\nfunction ignoreHotkeysIn(target) {\n  return target.tagName === 'TEXTAREA' || target.tagName === 'INPUT' && !IGNORE_INPUTS[target.type] || target.role === 'menuitem';\n}\nfunction isInsideIgnored(parent, node) {\n  if (node.tagName !== 'BODY' && parent !== node) {\n    if (node.hasAttribute('data-keyux-ignore-hotkeys')) {\n      return true;\n    } else {\n      return isInsideIgnored(parent, node.parentNode);\n    }\n  }\n}\nfunction findNonIgnored(activeElement, elements) {\n  for (let element of elements) {\n    if (isInsideIgnored(activeElement, element)) continue;\n    return element;\n  }\n}\nfunction checkHotkey(window, code, transformers) {\n  let realCode = code;\n  for (let [transform] of transformers) {\n    realCode = transform(realCode, window);\n    if (!realCode) return false;\n  }\n  let where = window.document;\n  let activeElement = where.activeElement;\n  let areaId = activeElement.getAttribute('data-keyux-hotkeys');\n  if (areaId) {\n    let area = where.querySelector(`#${areaId}`);\n    if (area) {\n      let element = area.querySelector(`[aria-keyshortcuts=\"${realCode}\" i]`);\n      if (element) return element;\n    }\n  }\n  return findNonIgnored(activeElement, activeElement.querySelectorAll(`[aria-keyshortcuts=\"${realCode}\" i]`)) || findNonIgnored(where, where.querySelectorAll(`[aria-keyshortcuts=\"${realCode}\" i]`));\n}\nfunction findHotKey(event, window, transformers) {\n  let prefix = '';\n  if (event.metaKey) prefix += 'meta+';\n  if (event.ctrlKey) prefix += 'ctrl+';\n  if (event.altKey) prefix += 'alt+';\n  if (event.shiftKey) prefix += 'shift+';\n  let code = prefix;\n  if (event.key === '+') {\n    code += 'plus';\n  } else {\n    code += event.key.toLowerCase();\n  }\n  let hotkey = checkHotkey(window, code, transformers);\n  if (!hotkey && NON_ENGLISH_LAYOUT.test(event.key) && /^Key.$/.test(event.code)) {\n    let enKey = event.code.replace(/^Key/, '').toLowerCase();\n    hotkey = checkHotkey(window, prefix + enKey, transformers);\n  }\n  return hotkey;\n}\nexport function hotkeyKeyUX(transformers = []) {\n  return window => {\n    function keyDown(event) {\n      if (!event.altKey && ignoreHotkeysIn(event.target)) return;\n      let press = findHotKey(event, window, transformers);\n      if (press) press.click();\n    }\n    window.addEventListener('keydown', keyDown);\n    return () => {\n      window.removeEventListener('keydown', keyDown);\n    };\n  };\n}","map":{"version":3,"names":["NON_ENGLISH_LAYOUT","IGNORE_INPUTS","checkbox","file","radio","ignoreHotkeysIn","target","tagName","type","role","isInsideIgnored","parent","node","hasAttribute","parentNode","findNonIgnored","activeElement","elements","element","checkHotkey","window","code","transformers","realCode","transform","where","document","areaId","getAttribute","area","querySelector","querySelectorAll","findHotKey","event","prefix","metaKey","ctrlKey","altKey","shiftKey","key","toLowerCase","hotkey","test","enKey","replace","hotkeyKeyUX","keyDown","press","click","addEventListener","removeEventListener"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/keyux/hotkey.js"],"sourcesContent":["const NON_ENGLISH_LAYOUT = /^[^\\x00-\\x7F]$/\n\nconst IGNORE_INPUTS = {\n  checkbox: true,\n  file: true,\n  radio: true\n}\n\nfunction ignoreHotkeysIn(target) {\n  return (\n    target.tagName === 'TEXTAREA' ||\n    (target.tagName === 'INPUT' && !IGNORE_INPUTS[target.type]) ||\n    target.role === 'menuitem'\n  )\n}\n\nfunction isInsideIgnored(parent, node) {\n  if (node.tagName !== 'BODY' && parent !== node) {\n    if (node.hasAttribute('data-keyux-ignore-hotkeys')) {\n      return true\n    } else {\n      return isInsideIgnored(parent, node.parentNode)\n    }\n  }\n}\n\nfunction findNonIgnored(activeElement, elements) {\n  for (let element of elements) {\n    if (isInsideIgnored(activeElement, element)) continue\n    return element\n  }\n}\n\nfunction checkHotkey(window, code, transformers) {\n  let realCode = code\n  for (let [transform] of transformers) {\n    realCode = transform(realCode, window)\n    if (!realCode) return false\n  }\n\n  let where = window.document\n  let activeElement = where.activeElement\n\n  let areaId = activeElement.getAttribute('data-keyux-hotkeys')\n  if (areaId) {\n    let area = where.querySelector(`#${areaId}`)\n    if (area) {\n      let element = area.querySelector(`[aria-keyshortcuts=\"${realCode}\" i]`)\n      if (element) return element\n    }\n  }\n\n  return (\n    findNonIgnored(\n      activeElement,\n      activeElement.querySelectorAll(`[aria-keyshortcuts=\"${realCode}\" i]`)\n    ) ||\n    findNonIgnored(\n      where,\n      where.querySelectorAll(`[aria-keyshortcuts=\"${realCode}\" i]`)\n    )\n  )\n}\n\nfunction findHotKey(event, window, transformers) {\n  let prefix = ''\n  if (event.metaKey) prefix += 'meta+'\n  if (event.ctrlKey) prefix += 'ctrl+'\n  if (event.altKey) prefix += 'alt+'\n  if (event.shiftKey) prefix += 'shift+'\n\n  let code = prefix\n  if (event.key === '+') {\n    code += 'plus'\n  } else {\n    code += event.key.toLowerCase()\n  }\n\n  let hotkey = checkHotkey(window, code, transformers)\n  if (\n    !hotkey &&\n    NON_ENGLISH_LAYOUT.test(event.key) &&\n    /^Key.$/.test(event.code)\n  ) {\n    let enKey = event.code.replace(/^Key/, '').toLowerCase()\n    hotkey = checkHotkey(window, prefix + enKey, transformers)\n  }\n\n  return hotkey\n}\n\nexport function hotkeyKeyUX(transformers = []) {\n  return window => {\n    function keyDown(event) {\n      if (!event.altKey && ignoreHotkeysIn(event.target)) return\n      let press = findHotKey(event, window, transformers)\n      if (press) press.click()\n    }\n\n    window.addEventListener('keydown', keyDown)\n    return () => {\n      window.removeEventListener('keydown', keyDown)\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}