{"ast":null,"code":"export function jumpKeyUX() {\n  return window => {\n    let jumps = [];\n    function focus(next) {\n      let current = window.document.activeElement;\n      if (current && current !== window.document.body) {\n        jumps.push(new WeakRef(current));\n      }\n      next.focus({\n        focusVisible: true\n      });\n    }\n    function back() {\n      let ref = jumps.pop();\n      if (!ref) {\n        window.document.activeElement.blur();\n        return;\n      }\n      let el = ref.deref();\n      if (el && el.isConnected) {\n        el.focus();\n      } else {\n        back();\n      }\n    }\n    let tries = 0;\n    let finding;\n    function jump(from) {\n      clearInterval(finding);\n      let ariaControls = from.getAttribute('aria-controls');\n      finding = setInterval(() => {\n        if (tries++ > 50) {\n          clearInterval(finding);\n          return;\n        }\n        let area = window.document.getElementById(ariaControls);\n        if (area) {\n          let next = area.querySelector('a, button, select, textarea, ' + 'input:not([type=radio]), [type=radio]:checked, ' + '[tabindex]:not([tabindex=\"-1\"])');\n          if (next) {\n            clearInterval(finding);\n            area.dispatchEvent(new window.CustomEvent('keyuxJump', {\n              bubbles: true\n            }));\n            focus(next);\n          }\n        }\n      }, 50);\n    }\n    function keyDown(event) {\n      if (event.target.getAttribute('aria-controls')) {\n        if (event.key === 'Enter') {\n          jump(event.target);\n        }\n      }\n      if (event.key === 'Escape') {\n        back();\n      }\n    }\n    window.addEventListener('keydown', keyDown);\n    return () => {\n      window.removeEventListener('keydown', keyDown);\n    };\n  };\n}","map":{"version":3,"names":["jumpKeyUX","window","jumps","focus","next","current","document","activeElement","body","push","WeakRef","focusVisible","back","ref","pop","blur","el","deref","isConnected","tries","finding","jump","from","clearInterval","ariaControls","getAttribute","setInterval","area","getElementById","querySelector","dispatchEvent","CustomEvent","bubbles","keyDown","event","target","key","addEventListener","removeEventListener"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/keyux/jump.js"],"sourcesContent":["export function jumpKeyUX() {\n  return window => {\n    let jumps = []\n\n    function focus(next) {\n      let current = window.document.activeElement\n      if (current && current !== window.document.body) {\n        jumps.push(new WeakRef(current))\n      }\n      next.focus({ focusVisible: true })\n    }\n\n    function back() {\n      let ref = jumps.pop()\n      if (!ref) {\n        window.document.activeElement.blur()\n        return\n      }\n      let el = ref.deref()\n      if (el && el.isConnected) {\n        el.focus()\n      } else {\n        back()\n      }\n    }\n\n    let tries = 0\n    let finding\n\n    function jump(from) {\n      clearInterval(finding)\n      let ariaControls = from.getAttribute('aria-controls')\n      finding = setInterval(() => {\n        if (tries++ > 50) {\n          clearInterval(finding)\n          return\n        }\n        let area = window.document.getElementById(ariaControls)\n        if (area) {\n          let next = area.querySelector(\n            'a, button, select, textarea, ' +\n              'input:not([type=radio]), [type=radio]:checked, ' +\n              '[tabindex]:not([tabindex=\"-1\"])'\n          )\n          if (next) {\n            clearInterval(finding)\n            area.dispatchEvent(\n              new window.CustomEvent('keyuxJump', { bubbles: true })\n            )\n            focus(next)\n          }\n        }\n      }, 50)\n    }\n\n    function keyDown(event) {\n      if (event.target.getAttribute('aria-controls')) {\n        if (event.key === 'Enter') {\n          jump(event.target)\n        }\n      }\n      if (event.key === 'Escape') {\n        back()\n      }\n    }\n\n    window.addEventListener('keydown', keyDown)\n    return () => {\n      window.removeEventListener('keydown', keyDown)\n    }\n  }\n}\n"],"mappings":"AAAA,OAAO,SAASA,SAASA,CAAA,EAAG;EAC1B,OAAOC,MAAM,IAAI;IACf,IAAIC,KAAK,GAAG,EAAE;IAEd,SAASC,KAAKA,CAACC,IAAI,EAAE;MACnB,IAAIC,OAAO,GAAGJ,MAAM,CAACK,QAAQ,CAACC,aAAa;MAC3C,IAAIF,OAAO,IAAIA,OAAO,KAAKJ,MAAM,CAACK,QAAQ,CAACE,IAAI,EAAE;QAC/CN,KAAK,CAACO,IAAI,CAAC,IAAIC,OAAO,CAACL,OAAO,CAAC,CAAC;MAClC;MACAD,IAAI,CAACD,KAAK,CAAC;QAAEQ,YAAY,EAAE;MAAK,CAAC,CAAC;IACpC;IAEA,SAASC,IAAIA,CAAA,EAAG;MACd,IAAIC,GAAG,GAAGX,KAAK,CAACY,GAAG,CAAC,CAAC;MACrB,IAAI,CAACD,GAAG,EAAE;QACRZ,MAAM,CAACK,QAAQ,CAACC,aAAa,CAACQ,IAAI,CAAC,CAAC;QACpC;MACF;MACA,IAAIC,EAAE,GAAGH,GAAG,CAACI,KAAK,CAAC,CAAC;MACpB,IAAID,EAAE,IAAIA,EAAE,CAACE,WAAW,EAAE;QACxBF,EAAE,CAACb,KAAK,CAAC,CAAC;MACZ,CAAC,MAAM;QACLS,IAAI,CAAC,CAAC;MACR;IACF;IAEA,IAAIO,KAAK,GAAG,CAAC;IACb,IAAIC,OAAO;IAEX,SAASC,IAAIA,CAACC,IAAI,EAAE;MAClBC,aAAa,CAACH,OAAO,CAAC;MACtB,IAAII,YAAY,GAAGF,IAAI,CAACG,YAAY,CAAC,eAAe,CAAC;MACrDL,OAAO,GAAGM,WAAW,CAAC,MAAM;QAC1B,IAAIP,KAAK,EAAE,GAAG,EAAE,EAAE;UAChBI,aAAa,CAACH,OAAO,CAAC;UACtB;QACF;QACA,IAAIO,IAAI,GAAG1B,MAAM,CAACK,QAAQ,CAACsB,cAAc,CAACJ,YAAY,CAAC;QACvD,IAAIG,IAAI,EAAE;UACR,IAAIvB,IAAI,GAAGuB,IAAI,CAACE,aAAa,CAC3B,+BAA+B,GAC7B,iDAAiD,GACjD,iCACJ,CAAC;UACD,IAAIzB,IAAI,EAAE;YACRmB,aAAa,CAACH,OAAO,CAAC;YACtBO,IAAI,CAACG,aAAa,CAChB,IAAI7B,MAAM,CAAC8B,WAAW,CAAC,WAAW,EAAE;cAAEC,OAAO,EAAE;YAAK,CAAC,CACvD,CAAC;YACD7B,KAAK,CAACC,IAAI,CAAC;UACb;QACF;MACF,CAAC,EAAE,EAAE,CAAC;IACR;IAEA,SAAS6B,OAAOA,CAACC,KAAK,EAAE;MACtB,IAAIA,KAAK,CAACC,MAAM,CAACV,YAAY,CAAC,eAAe,CAAC,EAAE;QAC9C,IAAIS,KAAK,CAACE,GAAG,KAAK,OAAO,EAAE;UACzBf,IAAI,CAACa,KAAK,CAACC,MAAM,CAAC;QACpB;MACF;MACA,IAAID,KAAK,CAACE,GAAG,KAAK,QAAQ,EAAE;QAC1BxB,IAAI,CAAC,CAAC;MACR;IACF;IAEAX,MAAM,CAACoC,gBAAgB,CAAC,SAAS,EAAEJ,OAAO,CAAC;IAC3C,OAAO,MAAM;MACXhC,MAAM,CAACqC,mBAAmB,CAAC,SAAS,EAAEL,OAAO,CAAC;IAChD,CAAC;EACH,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}