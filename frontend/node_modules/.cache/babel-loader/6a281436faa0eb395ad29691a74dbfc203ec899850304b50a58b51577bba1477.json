{"ast":null,"code":"// @ts-check\nimport { Data, UID } from '@symbiotejs/symbiote';\nconst MSG_NAME = '[Typed State] Wrong property name: ';\nconst MSG_TYPE = '[Typed State] Wrong property type: ';\n\n/** @typedef {Record<string, { type: unknown; value: unknown; nullable?: boolean }>} TypedSchema */\n\n/**\n * @template {any} [T=any] Default is `any`\n * @typedef {new (...args: any[]) => T} Constructor\n */\n\n/**\n * @template {unknown} T\n * @template {unknown} V\n * @typedef {T extends StringConstructor\n *   ? string\n *   : T extends BooleanConstructor\n *     ? boolean\n *     : T extends NumberConstructor\n *       ? number\n *       : T extends ArrayConstructor\n *         ? V\n *         : T extends Constructor\n *           ? InstanceType<T>\n *           : T} ExtractType\n */\n\n/**\n * @template {TypedSchema} T\n * @typedef {{\n *   [K in keyof T]: ExtractType<T[K]['type'], T[K]['value']> | (T[K]['nullable'] extends true ? null : never);\n * }} ExtractDataFromSchema\n */\n\n/**\n * @template {TypedSchema} T\n * @typedef {Extract<keyof T, string>} ExtractKeysFromSchema\n */\n\n/** @template {TypedSchema} T */\nexport class TypedData {\n  /**\n   * @param {T} typedSchema\n   * @param {String} [ctxName]\n   */\n  constructor(typedSchema, ctxName) {\n    /**\n     * @private\n     * @type {T}\n     */\n    this.__typedSchema = typedSchema;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.__ctxId = ctxName || UID.generate();\n\n    /**\n     * @private\n     * @type {ExtractDataFromSchema<T>}\n     */\n    this.__schema = Object.keys(typedSchema).reduce((acc, key) => {\n      /** @type {any} */acc[key] = typedSchema[key].value;\n      return acc;\n    }, /** @type {ExtractDataFromSchema<T>} */{});\n    /**\n     * @private\n     * @type {Data}\n     */\n    this.__data = Data.registerCtx(this.__schema, this.__ctxId);\n  }\n\n  /** @returns {string} */\n  get uid() {\n    return this.__ctxId;\n  }\n\n  /**\n   * @param {ExtractKeysFromSchema<T>} prop\n   * @param {ExtractDataFromSchema<T>[prop]} value\n   */\n  setValue(prop, value) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n      return;\n    }\n    let pDesc = this.__typedSchema[prop];\n    let isMatchConstructorType = value?.constructor === pDesc.type;\n    let isMatchInstanceType = /** @type {any} */value instanceof (/** @type {any} */pDesc['type']);\n    let isMatchNullable = pDesc.nullable && value === null;\n    if (isMatchConstructorType || isMatchInstanceType || isMatchNullable) {\n      this.__data.pub(prop, value);\n      return;\n    }\n    console.warn(MSG_TYPE + prop);\n  }\n\n  /** @param {Partial<ExtractDataFromSchema<T>>} updObj */\n  setMultipleValues(updObj) {\n    for (let [prop, value] of Object.entries(updObj)) {\n      this.setValue(/** @type {ExtractKeysFromSchema<T>} */prop, value);\n    }\n  }\n\n  /**\n   * @template {ExtractKeysFromSchema<T>} K\n   * @param {K} prop\n   * @returns {ExtractDataFromSchema<T>[K]}\n   */\n  getValue(prop) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n    }\n    return this.__data.read(prop);\n  }\n\n  /**\n   * @template {ExtractKeysFromSchema<T>} K\n   * @param {K} prop\n   * @param {(newVal: ExtractDataFromSchema<T>[K]) => void} handler\n   */\n  subscribe(prop, handler) {\n    return this.__data.sub(prop, handler);\n  }\n  remove() {\n    Data.deleteCtx(this.__ctxId);\n  }\n}","map":{"version":3,"names":["Data","UID","MSG_NAME","MSG_TYPE","TypedData","constructor","typedSchema","ctxName","__typedSchema","__ctxId","generate","__schema","Object","keys","reduce","acc","key","value","__data","registerCtx","uid","setValue","prop","hasOwnProperty","console","warn","pDesc","isMatchConstructorType","type","isMatchInstanceType","isMatchNullable","nullable","pub","setMultipleValues","updObj","entries","getValue","read","subscribe","handler","sub","remove","deleteCtx"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/abstract/TypedData.js"],"sourcesContent":["// @ts-check\nimport { Data, UID } from '@symbiotejs/symbiote';\n\nconst MSG_NAME = '[Typed State] Wrong property name: ';\nconst MSG_TYPE = '[Typed State] Wrong property type: ';\n\n/** @typedef {Record<string, { type: unknown; value: unknown; nullable?: boolean }>} TypedSchema */\n\n/**\n * @template {any} [T=any] Default is `any`\n * @typedef {new (...args: any[]) => T} Constructor\n */\n\n/**\n * @template {unknown} T\n * @template {unknown} V\n * @typedef {T extends StringConstructor\n *   ? string\n *   : T extends BooleanConstructor\n *     ? boolean\n *     : T extends NumberConstructor\n *       ? number\n *       : T extends ArrayConstructor\n *         ? V\n *         : T extends Constructor\n *           ? InstanceType<T>\n *           : T} ExtractType\n */\n\n/**\n * @template {TypedSchema} T\n * @typedef {{\n *   [K in keyof T]: ExtractType<T[K]['type'], T[K]['value']> | (T[K]['nullable'] extends true ? null : never);\n * }} ExtractDataFromSchema\n */\n\n/**\n * @template {TypedSchema} T\n * @typedef {Extract<keyof T, string>} ExtractKeysFromSchema\n */\n\n/** @template {TypedSchema} T */\nexport class TypedData {\n  /**\n   * @param {T} typedSchema\n   * @param {String} [ctxName]\n   */\n  constructor(typedSchema, ctxName) {\n    /**\n     * @private\n     * @type {T}\n     */\n    this.__typedSchema = typedSchema;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.__ctxId = ctxName || UID.generate();\n\n    /**\n     * @private\n     * @type {ExtractDataFromSchema<T>}\n     */\n    this.__schema = Object.keys(typedSchema).reduce((acc, key) => {\n      /** @type {any} */ (acc)[key] = typedSchema[key].value;\n      return acc;\n    }, /** @type {ExtractDataFromSchema<T>} */ ({}));\n    /**\n     * @private\n     * @type {Data}\n     */\n    this.__data = Data.registerCtx(this.__schema, this.__ctxId);\n  }\n\n  /** @returns {string} */\n  get uid() {\n    return this.__ctxId;\n  }\n\n  /**\n   * @param {ExtractKeysFromSchema<T>} prop\n   * @param {ExtractDataFromSchema<T>[prop]} value\n   */\n  setValue(prop, value) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n      return;\n    }\n    let pDesc = this.__typedSchema[prop];\n\n    let isMatchConstructorType = value?.constructor === pDesc.type;\n    let isMatchInstanceType = /** @type {any} */ (value) instanceof /** @type {any} */ (pDesc['type']);\n    let isMatchNullable = pDesc.nullable && value === null;\n\n    if (isMatchConstructorType || isMatchInstanceType || isMatchNullable) {\n      this.__data.pub(prop, value);\n      return;\n    }\n    console.warn(MSG_TYPE + prop);\n  }\n\n  /** @param {Partial<ExtractDataFromSchema<T>>} updObj */\n  setMultipleValues(updObj) {\n    for (let [prop, value] of Object.entries(updObj)) {\n      this.setValue(/** @type {ExtractKeysFromSchema<T>} */ (prop), value);\n    }\n  }\n\n  /**\n   * @template {ExtractKeysFromSchema<T>} K\n   * @param {K} prop\n   * @returns {ExtractDataFromSchema<T>[K]}\n   */\n  getValue(prop) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n    }\n    return this.__data.read(prop);\n  }\n\n  /**\n   * @template {ExtractKeysFromSchema<T>} K\n   * @param {K} prop\n   * @param {(newVal: ExtractDataFromSchema<T>[K]) => void} handler\n   */\n  subscribe(prop, handler) {\n    return this.__data.sub(prop, handler);\n  }\n\n  remove() {\n    Data.deleteCtx(this.__ctxId);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}