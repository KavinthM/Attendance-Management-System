{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AttendanceManagement/Attendance.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./components/Layout\";\nimport Select from \"./components/Select\";\nimport AttendanceRow from \"./components/AttendanceRow\";\nimport { getStudents, markAttendance, getAllAttendance } from \"./api/client\";\nimport dayjs from \"dayjs\";\nimport { FaArrowLeft, FaCalendarAlt, FaUsers, FaClipboardList, FaRedoAlt, FaCheckCircle } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Attendance = () => {\n  _s();\n  const navigate = useNavigate();\n  const [students, setStudents] = useState([]);\n  const [section, setSection] = useState(\"\");\n  const [date, setDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n  const [rows, setRows] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [existingIdsForDate, setExistingIdsForDate] = useState(new Set());\n  const [loadingExisting, setLoadingExisting] = useState(false);\n  const load = async () => {\n    setLoading(true);\n    try {\n      var _response$data;\n      const response = await getStudents();\n      const studentsData = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.students) || [];\n      setStudents(Array.isArray(studentsData) ? studentsData : []);\n    } catch (error) {\n      console.error(\"Failed to load students:\", error);\n      setStudents([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  useEffect(() => {\n    const id = setInterval(() => {\n      setDate(dayjs().format(\"YYYY-MM-DD\"));\n    }, 60 * 1000);\n    return () => clearInterval(id);\n  }, []);\n  const sections = useMemo(() => {\n    const set = new Set(students.map(s => s.section));\n    return Array.from(set).sort().map(s => ({\n      value: s,\n      label: s\n    }));\n  }, [students]);\n  const visible = useMemo(() => section ? students.filter(s => s.section === section) : [], [students, section]);\n  useEffect(() => {\n    if (!section) {\n      setRows({});\n      return;\n    }\n    const map = {};\n    visible.forEach(s => {\n      var _rows$s$_id;\n      map[s._id] = (_rows$s$_id = rows[s._id]) !== null && _rows$s$_id !== void 0 ? _rows$s$_id : {\n        status: \"Present\"\n      };\n    });\n    setRows(map);\n  }, [visible.length, section]);\n  useEffect(() => {\n    const loadExisting = async () => {\n      if (!section) {\n        setExistingIdsForDate(new Set());\n        return;\n      }\n      setLoadingExisting(true);\n      try {\n        const {\n          data\n        } = await getAllAttendance();\n        const list = Array.isArray(data.records) ? data.records : [];\n        const ids = new Set(list.filter(r => dayjs(r.date).format(\"YYYY-MM-DD\") === date).filter(r => {\n          var _r$student;\n          return ((_r$student = r.student) === null || _r$student === void 0 ? void 0 : _r$student.section) === section;\n        }).map(r => {\n          var _r$student2;\n          return (_r$student2 = r.student) === null || _r$student2 === void 0 ? void 0 : _r$student2._id;\n        }).filter(Boolean));\n        setExistingIdsForDate(ids);\n      } finally {\n        setLoadingExisting(false);\n      }\n    };\n    loadExisting();\n  }, [date, section]);\n  const updateRow = (studentId, newRow) => {\n    setRows(r => ({\n      ...r,\n      [studentId]: newRow\n    }));\n  };\n  const nothingToSubmit = useMemo(() => {\n    return visible.every(s => existingIdsForDate.has(s._id));\n  }, [visible, existingIdsForDate]);\n  const submit = async () => {\n    if (!section) return alert(\"Select a class/section first\");\n    setSubmitting(true);\n    try {\n      const toSubmit = visible.filter(s => !existingIdsForDate.has(s._id));\n      if (toSubmit.length === 0) {\n        alert(\"Attendance already marked for all students in this section for this date.\");\n        return;\n      }\n      const payloads = toSubmit.map(s => {\n        var _rows$s$_id2;\n        const status = ((_rows$s$_id2 = rows[s._id]) === null || _rows$s$_id2 === void 0 ? void 0 : _rows$s$_id2.status) || \"Present\";\n        return {\n          studentId: s._id,\n          date,\n          status,\n          notifiedParent: false\n        };\n      });\n      for (const p of payloads) {\n        await markAttendance(p);\n      }\n      setExistingIdsForDate(prev => {\n        const next = new Set(prev);\n        toSubmit.forEach(s => next.add(s._id));\n        return next;\n      });\n      alert(\"Attendance marked successfully\");\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to mark attendance\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // --------------------\n  // SECTION SELECTION VIEW\n  // --------------------\n  if (!section) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8 px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-blue-100 rounded-2xl shadow-sm\",\n                children: /*#__PURE__*/_jsxDEV(FaClipboardList, {\n                  className: \"text-2xl text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: \"Mark Attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600 max-w-2xl mx-auto\",\n              children: \"Choose a section to begin recording today's attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                  className: \"text-blue-600 mr-3 text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-2xl font-semibold text-gray-900\",\n                  children: \"Get Started\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 text-blue-700 px-4 py-2 rounded-lg border border-blue-200 font-medium\",\n                children: dayjs(date).format(\"MMMM D, YYYY\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Class Section\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: section,\n                  onChange: setSection,\n                  options: [{\n                    value: \"\",\n                    label: \"Choose a section\"\n                  }, ...sections],\n                  className: \"w-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-4 pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\",\n                  onClick: () => navigate('/attendance-records'),\n                  children: \"Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"inline-flex items-center px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-xl border border-gray-200 transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\",\n                  children: \"Student List\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"inline-flex items-center px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-xl border border-gray-200 transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\",\n                  children: \"Attendance Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-6xl mb-4\",\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-gray-900 mb-2\",\n              children: \"Ready to Begin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Select a section above to view and mark student attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --------------------\n  // MAIN ATTENDANCE VIEW\n  // --------------------\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-6 px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSection(\"\"),\n            className: \"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-6 transition-colors duration-200 group\",\n            children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n              className: \"mr-2 transform group-hover:-translate-x-1 transition-transform duration-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), \"Back to Sections\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-blue-100 rounded-xl mr-3\",\n                children: /*#__PURE__*/_jsxDEV(FaClipboardList, {\n                  className: \"text-blue-600 text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-900\",\n                children: [\"Attendance - \", section]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), dayjs(date).format(\"dddd, MMMM D, YYYY\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-blue-100 rounded-lg mr-4\",\n                children: /*#__PURE__*/_jsxDEV(FaUsers, {\n                  className: \"text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Total Students\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: visible.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-orange-100 rounded-lg mr-4\",\n                children: /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n                  className: \"text-orange-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Pending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: visible.filter(s => !existingIdsForDate.has(s._id)).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-xl overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Student Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setRows({}),\n                disabled: submitting,\n                className: \"inline-flex items-center px-4 py-2 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-lg border border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: [/*#__PURE__*/_jsxDEV(FaRedoAlt, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), \"Reset All\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\",\n                    children: \"Student Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\",\n                    children: \"Index No.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y divide-gray-200\",\n                children: [(loading || loadingExisting) && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"3\",\n                    className: \"px-6 py-8 text-center text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-2\",\n                      children: \"Loading attendance data...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this), !loading && !loadingExisting && visible.map(s => /*#__PURE__*/_jsxDEV(AttendanceRow, {\n                  student: s,\n                  row: rows[s._id] || {\n                    status: \"Present\"\n                  },\n                  onChange: updateRow,\n                  disabled: existingIdsForDate.has(s._id)\n                }, s._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4 bg-gray-50 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row justify-between items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: visible.filter(s => existingIdsForDate.has(s._id)).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), \" \", \"of\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: visible.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this), \" \", \"students marked\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: submit,\n                disabled: submitting || !section || nothingToSubmit,\n                className: \"w-full sm:w-auto inline-flex justify-center items-center px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:transform-none disabled:hover:shadow-lg\",\n                children: submitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this), \"Submitting...\"]\n                }, void 0, true) : \"Submit Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(Attendance, \"xKJc/gkpeSof8LPZ9MSMzuzs600=\", false, function () {\n  return [useNavigate];\n});\n_c = Attendance;\nexport default Attendance;\nvar _c;\n$RefreshReg$(_c, \"Attendance\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","Layout","Select","AttendanceRow","getStudents","markAttendance","getAllAttendance","dayjs","FaArrowLeft","FaCalendarAlt","FaUsers","FaClipboardList","FaRedoAlt","FaCheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","Attendance","_s","navigate","students","setStudents","section","setSection","date","setDate","format","rows","setRows","submitting","setSubmitting","loading","setLoading","existingIdsForDate","setExistingIdsForDate","Set","loadingExisting","setLoadingExisting","load","_response$data","response","studentsData","data","Array","isArray","error","console","id","setInterval","clearInterval","sections","set","map","s","from","sort","value","label","visible","filter","forEach","_rows$s$_id","_id","status","length","loadExisting","list","records","ids","r","_r$student","student","_r$student2","Boolean","updateRow","studentId","newRow","nothingToSubmit","every","has","submit","alert","toSubmit","payloads","_rows$s$_id2","notifiedParent","p","prev","next","add","e","_e$response","_e$response$data","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","options","onClick","disabled","colSpan","row","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AttendanceManagement/Attendance.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./components/Layout\";\nimport Select from \"./components/Select\";\nimport AttendanceRow from \"./components/AttendanceRow\";\nimport { getStudents, markAttendance, getAllAttendance } from \"./api/client\";\nimport dayjs from \"dayjs\";\nimport { FaArrowLeft, FaCalendarAlt, FaUsers, FaClipboardList, FaRedoAlt, FaCheckCircle } from \"react-icons/fa\";\n\nconst Attendance = () => {\n  const navigate = useNavigate();\n  const [students, setStudents] = useState([]);\n  const [section, setSection] = useState(\"\");\n  const [date, setDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n  const [rows, setRows] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [existingIdsForDate, setExistingIdsForDate] = useState(new Set());\n  const [loadingExisting, setLoadingExisting] = useState(false);\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const response = await getStudents();\n      const studentsData = response.data?.students || [];\n      setStudents(Array.isArray(studentsData) ? studentsData : []);\n    } catch (error) {\n      console.error(\"Failed to load students:\", error);\n      setStudents([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { load(); }, []);\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setDate(dayjs().format(\"YYYY-MM-DD\"));\n    }, 60 * 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  const sections = useMemo(() => {\n    const set = new Set(students.map((s) => s.section));\n    return Array.from(set).sort().map((s) => ({ value: s, label: s }));\n  }, [students]);\n\n  const visible = useMemo(\n    () => (section ? students.filter((s) => s.section === section) : []),\n    [students, section]\n  );\n\n  useEffect(() => {\n    if (!section) {\n      setRows({});\n      return;\n    }\n    const map = {};\n    visible.forEach((s) => {\n      map[s._id] = rows[s._id] ?? { status: \"Present\" };\n    });\n    setRows(map);\n  }, [visible.length, section]);\n\n  useEffect(() => {\n    const loadExisting = async () => {\n      if (!section) {\n        setExistingIdsForDate(new Set());\n        return;\n      }\n      setLoadingExisting(true);\n      try {\n        const { data } = await getAllAttendance();\n        const list = Array.isArray(data.records) ? data.records : [];\n        const ids = new Set(\n          list\n            .filter((r) => dayjs(r.date).format(\"YYYY-MM-DD\") === date)\n            .filter((r) => r.student?.section === section)\n            .map((r) => r.student?._id)\n            .filter(Boolean)\n        );\n        setExistingIdsForDate(ids);\n      } finally {\n        setLoadingExisting(false);\n      }\n    };\n    loadExisting();\n  }, [date, section]);\n\n  const updateRow = (studentId, newRow) => {\n    setRows((r) => ({ ...r, [studentId]: newRow }));\n  };\n\n  const nothingToSubmit = useMemo(() => {\n    return visible.every((s) => existingIdsForDate.has(s._id));\n  }, [visible, existingIdsForDate]);\n\n  const submit = async () => {\n    if (!section) return alert(\"Select a class/section first\");\n    \n    setSubmitting(true);\n    try {\n      const toSubmit = visible.filter((s) => !existingIdsForDate.has(s._id));\n      if (toSubmit.length === 0) {\n        alert(\"Attendance already marked for all students in this section for this date.\");\n        return;\n      }\n\n      const payloads = toSubmit.map((s) => {\n        const status = rows[s._id]?.status || \"Present\";\n        return {\n          studentId: s._id,\n          date,\n          status,\n          notifiedParent: false\n        };\n      });\n\n      for (const p of payloads) {\n        await markAttendance(p);\n      }\n\n      setExistingIdsForDate((prev) => {\n        const next = new Set(prev);\n        toSubmit.forEach((s) => next.add(s._id));\n        return next;\n      });\n\n      alert(\"Attendance marked successfully\");\n    } catch (e) {\n      alert(e?.response?.data?.message || \"Failed to mark attendance\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n\n  // --------------------\n  // SECTION SELECTION VIEW\n  // --------------------\n  if (!section) {\n    return (\n      <Layout>\n        <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-4xl mx-auto\">\n            {/* Hero Section */}\n            <div className=\"text-center mb-12\">\n              <div className=\"flex items-center justify-center mb-4\">\n                <div className=\"p-3 bg-blue-100 rounded-2xl shadow-sm\">\n                  <FaClipboardList className=\"text-2xl text-blue-600\" />\n                </div>\n              </div>\n              <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n                Mark Attendance\n              </h1>\n              <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n                Choose a section to begin recording today's attendance\n              </p>\n            </div>\n\n            {/* Selection Card */}\n            <div className=\"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8\">\n              <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6\">\n                <div className=\"flex items-center\">\n                  <FaCalendarAlt className=\"text-blue-600 mr-3 text-lg\" />\n                  <h3 className=\"text-2xl font-semibold text-gray-900\">Get Started</h3>\n                </div>\n                <div className=\"bg-blue-50 text-blue-700 px-4 py-2 rounded-lg border border-blue-200 font-medium\">\n                  {dayjs(date).format(\"MMMM D, YYYY\")}\n                </div>\n              </div>\n\n              <div className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Class Section\n                  </label>\n                  <Select\n                    value={section}\n                    onChange={setSection}\n                    options={[{ value: \"\", label: \"Choose a section\" }, ...sections]}\n                    className=\"w-full\"\n                  />\n                </div>\n\n                <div className=\"flex flex-wrap gap-4 pt-4\">\n                  <button\n                    className=\"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\"\n                    onClick={() => navigate('/attendance-records')}\n                  >\n                    Records\n                  </button>\n                  <button className=\"inline-flex items-center px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-xl border border-gray-200 transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\">\n                    Student List\n                  </button>\n                  <button className=\"inline-flex items-center px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-xl border border-gray-200 transition-all duration-200 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl\">\n                    Attendance Summary\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Empty State */}\n            <div className=\"text-center py-12\">\n              <div className=\"text-6xl mb-4\">ðŸ“Š</div>\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-2\">Ready to Begin</h3>\n              <p className=\"text-gray-600\">Select a section above to view and mark student attendance</p>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  // --------------------\n  // MAIN ATTENDANCE VIEW\n  // --------------------\n  return (\n    <Layout>\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-6 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <button \n              onClick={() => setSection(\"\")}\n              className=\"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-6 transition-colors duration-200 group\"\n            >\n              <FaArrowLeft className=\"mr-2 transform group-hover:-translate-x-1 transition-transform duration-200\" />\n              Back to Sections\n            </button>\n            \n            <div className=\"text-center mb-8\">\n              <div className=\"flex items-center justify-center mb-3\">\n                <div className=\"p-2 bg-blue-100 rounded-xl mr-3\">\n                  <FaClipboardList className=\"text-blue-600 text-lg\" />\n                </div>\n                <h1 className=\"text-3xl font-bold text-gray-900\">\n                  Attendance - {section}\n                </h1>\n              </div>\n              <div className=\"flex items-center justify-center text-gray-600\">\n                <FaCalendarAlt className=\"mr-2\" />\n                {dayjs(date).format(\"dddd, MMMM D, YYYY\")}\n              </div>\n            </div>\n          </div>\n\n          {/* Stats Bar */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto mb-8\">\n            <div className=\"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-blue-100 rounded-lg mr-4\">\n                  <FaUsers className=\"text-blue-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Total Students</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{visible.length}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2 bg-orange-100 rounded-lg mr-4\">\n                  <FaCheckCircle className=\"text-orange-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Pending</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {visible.filter(s => !existingIdsForDate.has(s._id)).length}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Attendance Card */}\n          <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\n            {/* Card Header */}\n            <div className=\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-gray-50\">\n              <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <h3 className=\"text-xl font-semibold text-gray-900\">Student Attendance</h3>\n                <button \n                  onClick={() => setRows({})} \n                  disabled={submitting}\n                  className=\"inline-flex items-center px-4 py-2 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-lg border border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <FaRedoAlt className=\"mr-2\" />\n                  Reset All\n                </button>\n              </div>\n            </div>\n\n            {/* Table Container */}\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Student Name\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Index No.\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Status\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {(loading || loadingExisting) && (\n                    <tr>\n                      <td colSpan=\"3\" className=\"px-6 py-8 text-center text-gray-500\">\n                        <div className=\"flex justify-center\">\n                          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                        </div>\n                        <p className=\"mt-2\">Loading attendance data...</p>\n                      </td>\n                    </tr>\n                  )}\n                  {!loading && !loadingExisting && visible.map((s) => (\n                    <AttendanceRow\n                      key={s._id}\n                      student={s}\n                      row={rows[s._id] || { status: \"Present\" }}\n                      onChange={updateRow}\n                      disabled={existingIdsForDate.has(s._id)}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Card Footer */}\n            <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n              <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n                <div className=\"text-sm text-gray-600\">\n                  <span className=\"font-semibold text-gray-900\">\n                    {visible.filter(s => existingIdsForDate.has(s._id)).length}\n                  </span>\n                  {\" \"}of{\" \"}\n                  <span className=\"font-semibold text-gray-900\">\n                    {visible.length}\n                  </span>\n                  {\" \"}students marked\n                </div>\n                <button\n                  onClick={submit}\n                  disabled={submitting || !section || nothingToSubmit}\n                  className=\"w-full sm:w-auto inline-flex justify-center items-center px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:transform-none disabled:hover:shadow-lg\"\n                >\n                  {submitting ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Submitting...\n                    </>\n                  ) : (\n                    \"Submit Attendance\"\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\n\nexport default Attendance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}