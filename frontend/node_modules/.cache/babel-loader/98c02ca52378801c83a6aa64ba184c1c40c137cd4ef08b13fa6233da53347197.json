{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Layout from\"../Components/Layout\";import StudentForm from\"../Components/StudentForm\";import{addStudent}from\"../api/client\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddStudent=()=>{const navigate=useNavigate();const[adding,setAdding]=useState(false);const handleAdd=async(payload,reset)=>{setAdding(true);try{await addStudent(payload);// Ensure we navigate back to list to see the update\nnavigate(\"/students\");}catch(e){var _e$response,_e$response$data;alert((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.message)||\"Failed to add student\");}finally{setAdding(false);}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-900\",children:\"Register Student\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 mt-1\",children:\"Add a new student to the system\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/students\",className:\"btn-secondary self-start md:self-auto\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-left mr-2\"}),\" Back to List\"]})]}),/*#__PURE__*/_jsx(StudentForm,{onSubmit:handleAdd,submitting:adding})]})});};export default AddStudent;","map":{"version":3,"names":["React","useState","Link","useNavigate","Layout","StudentForm","addStudent","jsx","_jsx","jsxs","_jsxs","AddStudent","navigate","adding","setAdding","handleAdd","payload","reset","e","_e$response","_e$response$data","alert","response","data","message","children","className","to","onSubmit","submitting"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/pages/AddStudent.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Layout from \"../Components/Layout\";\nimport StudentForm from \"../Components/StudentForm\";\nimport { addStudent } from \"../api/client\";\n\nconst AddStudent = () => {\n    const navigate = useNavigate();\n    const [adding, setAdding] = useState(false);\n\n    const handleAdd = async (payload, reset) => {\n        setAdding(true);\n        try {\n            await addStudent(payload);\n            // Ensure we navigate back to list to see the update\n            navigate(\"/students\");\n        } catch (e) {\n            alert(e?.response?.data?.message || \"Failed to add student\");\n        } finally {\n            setAdding(false);\n        }\n    };\n\n    return (\n        <Layout>\n            <div className=\"max-w-4xl mx-auto\">\n                <div className=\"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-slate-900\">Register Student</h1>\n                        <p className=\"text-slate-500 mt-1\">Add a new student to the system</p>\n                    </div>\n                    <Link to=\"/students\" className=\"btn-secondary self-start md:self-auto\">\n                        <i className=\"fa-solid fa-arrow-left mr-2\"></i> Back to List\n                    </Link>\n                </div>\n\n                <StudentForm onSubmit={handleAdd} submitting={adding} />\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddStudent;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,UAAU,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAOC,OAAO,CAAEC,KAAK,GAAK,CACxCH,SAAS,CAAC,IAAI,CAAC,CACf,GAAI,CACA,KAAM,CAAAR,UAAU,CAACU,OAAO,CAAC,CACzB;AACAJ,QAAQ,CAAC,WAAW,CAAC,CACzB,CAAE,MAAOM,CAAC,CAAE,KAAAC,WAAA,CAAAC,gBAAA,CACRC,KAAK,CAAC,CAAAH,CAAC,SAADA,CAAC,kBAAAC,WAAA,CAADD,CAAC,CAAEI,QAAQ,UAAAH,WAAA,kBAAAC,gBAAA,CAAXD,WAAA,CAAaI,IAAI,UAAAH,gBAAA,iBAAjBA,gBAAA,CAAmBI,OAAO,GAAI,uBAAuB,CAAC,CAChE,CAAC,OAAS,CACNV,SAAS,CAAC,KAAK,CAAC,CACpB,CACJ,CAAC,CAED,mBACIN,IAAA,CAACJ,MAAM,EAAAqB,QAAA,cACHf,KAAA,QAAKgB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAC9Bf,KAAA,QAAKgB,SAAS,CAAC,sEAAsE,CAAAD,QAAA,eACjFf,KAAA,QAAAe,QAAA,eACIjB,IAAA,OAAIkB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACvEjB,IAAA,MAAGkB,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CAAC,iCAA+B,CAAG,CAAC,EACrE,CAAC,cACNf,KAAA,CAACR,IAAI,EAACyB,EAAE,CAAC,WAAW,CAACD,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eAClEjB,IAAA,MAAGkB,SAAS,CAAC,6BAA6B,CAAI,CAAC,gBACnD,EAAM,CAAC,EACN,CAAC,cAENlB,IAAA,CAACH,WAAW,EAACuB,QAAQ,CAAEb,SAAU,CAACc,UAAU,CAAEhB,MAAO,CAAE,CAAC,EACvD,CAAC,CACF,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAF,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}