{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5001/api';\n\n// Student API functions\nexport const studentAPI = {\n  // Get all students\n  getAllStudents: async () => {\n    const response = await fetch(`${API_BASE_URL}/students`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Get student by ID\n  getStudentById: async id => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Add new student\n  addStudent: async studentData => {\n    const response = await fetch(`${API_BASE_URL}/students`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(studentData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Update student\n  updateStudent: async (id, studentData) => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(studentData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Delete student\n  deleteStudent: async id => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  }\n};\n\n// Shuttle API functions\nexport const shuttleAPI = {\n  // Get all shuttles\n  getAllShuttles: async () => {\n    const response = await fetch(`${API_BASE_URL}/shuttles`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Get shuttle by ID\n  getShuttleById: async id => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Add new shuttle\n  addShuttle: async shuttleData => {\n    const response = await fetch(`${API_BASE_URL}/shuttles`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(shuttleData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Update shuttle\n  updateShuttle: async (id, shuttleData) => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(shuttleData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n  // Delete shuttle\n  deleteShuttle: async id => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  }\n};\n\n// User API functions\nexport const userAPI = {\n  // Get users by role\n  getUsersByRole: async role => {\n    const token = localStorage.getItem('token');\n    console.log('API call - Token:', token ? 'present' : 'missing');\n    console.log('API call - URL:', `${API_BASE_URL}/users/role/${role}`);\n    const response = await fetch(`${API_BASE_URL}/users/role/${role}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    console.log('API response status:', response.status);\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('API error:', errorData);\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log('API response data:', data);\n    return data;\n  }\n};","map":{"version":3,"names":["API_BASE_URL","studentAPI","getAllStudents","response","fetch","ok","Error","status","json","getStudentById","id","addStudent","studentData","method","headers","body","JSON","stringify","errorData","message","updateStudent","deleteStudent","shuttleAPI","getAllShuttles","getShuttleById","addShuttle","shuttleData","updateShuttle","deleteShuttle","userAPI","getUsersByRole","role","token","localStorage","getItem","console","log","error","data"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5001/api';\n\n// Student API functions\nexport const studentAPI = {\n  // Get all students\n  getAllStudents: async () => {\n    const response = await fetch(`${API_BASE_URL}/students`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n\n  // Get student by ID\n  getStudentById: async (id) => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n\n  // Add new student\n  addStudent: async (studentData) => {\n    const response = await fetch(`${API_BASE_URL}/students`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(studentData),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n\n  // Update student\n  updateStudent: async (id, studentData) => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(studentData),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n\n  // Delete student\n  deleteStudent: async (id) => {\n    const response = await fetch(`${API_BASE_URL}/students/${id}`, {\n      method: 'DELETE',\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n};\n\n// Shuttle API functions\nexport const shuttleAPI = {\n  // Get all shuttles\n  getAllShuttles: async () => {\n    const response = await fetch(`${API_BASE_URL}/shuttles`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n\n  // Get shuttle by ID\n  getShuttleById: async (id) => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  },\n\n  // Add new shuttle\n  addShuttle: async (shuttleData) => {\n    const response = await fetch(`${API_BASE_URL}/shuttles`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(shuttleData),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n\n  // Update shuttle\n  updateShuttle: async (id, shuttleData) => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(shuttleData),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n\n  // Delete shuttle\n  deleteShuttle: async (id) => {\n    const response = await fetch(`${API_BASE_URL}/shuttles/${id}`, {\n      method: 'DELETE',\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    return await response.json();\n  },\n};\n\n// User API functions\nexport const userAPI = {\n  // Get users by role\n  getUsersByRole: async (role) => {\n    const token = localStorage.getItem('token');\n    console.log('API call - Token:', token ? 'present' : 'missing');\n    console.log('API call - URL:', `${API_BASE_URL}/users/role/${role}`);\n    \n    const response = await fetch(`${API_BASE_URL}/users/role/${role}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    \n    console.log('API response status:', response.status);\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('API error:', errorData);\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    console.log('API response data:', data);\n    return data;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}