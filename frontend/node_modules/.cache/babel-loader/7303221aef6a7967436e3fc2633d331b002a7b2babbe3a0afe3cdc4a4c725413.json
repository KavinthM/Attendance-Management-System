{"ast":null,"code":"import { BaseComponent, Data } from '@symbiotejs/symbiote';\nimport { PROPS_MAP } from './props-map.js';\nimport { CSS_PREF } from './configurations.js';\nimport { PACKAGE_NAME, PACKAGE_VERSION } from '../../env.js';\nconst CSS_PROPS = Object.create(null);\nfor (let prop in PROPS_MAP) {\n  CSS_PROPS[CSS_PREF + prop] = PROPS_MAP[prop]?.default || '';\n}\nexport class ImgConfig extends BaseComponent {\n  cssInit$ = CSS_PROPS;\n\n  /**\n   * @param {String} key\n   * @returns {any}\n   */\n  $$(key) {\n    return this.$[CSS_PREF + key];\n  }\n\n  /** @param {Object<String, String | Number>} kvObj */\n  set$$(kvObj) {\n    for (let key in kvObj) {\n      this.$[CSS_PREF + key] = kvObj[key];\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @param {(val: any) => void} kbFn\n   */\n  sub$$(key, kbFn) {\n    this.sub(CSS_PREF + key, val => {\n      // null comes from CSS context property\n      // empty string comes from attribute value\n      if (val === null || val === '') {\n        return;\n      }\n      kbFn(val);\n    });\n  }\n  analyticsParams() {\n    return `-/@clib/${PACKAGE_NAME}/${PACKAGE_VERSION}/uc-img/`;\n  }\n  initAttributes(el) {\n    [...this.attributes].forEach(attr => {\n      if (!PROPS_MAP[attr.name]) {\n        el.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {() => void} cbkFn\n   */\n  initIntersection(el, cbkFn) {\n    let opts = {\n      root: null,\n      rootMargin: '0px'\n    };\n    /** @private */\n    this._isnObserver = new IntersectionObserver(entries => {\n      entries.forEach(ent => {\n        if (ent.isIntersecting) {\n          cbkFn();\n          this._isnObserver.unobserve(el);\n        }\n      });\n    }, opts);\n    this._isnObserver.observe(el);\n    if (!this._observed) {\n      /** @private */\n      this._observed = new Set();\n    }\n    this._observed.add(el);\n  }\n  destroyCallback() {\n    super.destroyCallback();\n    if (this._isnObserver) {\n      this._observed.forEach(el => {\n        this._isnObserver.unobserve(el);\n      });\n      this._isnObserver = null;\n    }\n    Data.deleteCtx(this);\n  }\n  static get observedAttributes() {\n    return Object.keys(PROPS_MAP);\n  }\n  attributeChangedCallback(name, oldVal, newVal) {\n    window.setTimeout(() => {\n      this.$[CSS_PREF + name] = newVal;\n    });\n  }\n}","map":{"version":3,"names":["BaseComponent","Data","PROPS_MAP","CSS_PREF","PACKAGE_NAME","PACKAGE_VERSION","CSS_PROPS","Object","create","prop","default","ImgConfig","cssInit$","$$","key","$","set$$","kvObj","sub$$","kbFn","sub","val","analyticsParams","initAttributes","el","attributes","forEach","attr","name","setAttribute","value","initIntersection","cbkFn","opts","root","rootMargin","_isnObserver","IntersectionObserver","entries","ent","isIntersecting","unobserve","observe","_observed","Set","add","destroyCallback","deleteCtx","observedAttributes","keys","attributeChangedCallback","oldVal","newVal","window","setTimeout"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/Img/ImgConfig.js"],"sourcesContent":["import { BaseComponent, Data } from '@symbiotejs/symbiote';\nimport { PROPS_MAP } from './props-map.js';\nimport { CSS_PREF } from './configurations.js';\nimport { PACKAGE_NAME, PACKAGE_VERSION } from '../../env.js';\n\nconst CSS_PROPS = Object.create(null);\nfor (let prop in PROPS_MAP) {\n  CSS_PROPS[CSS_PREF + prop] = PROPS_MAP[prop]?.default || '';\n}\n\nexport class ImgConfig extends BaseComponent {\n  cssInit$ = CSS_PROPS;\n\n  /**\n   * @param {String} key\n   * @returns {any}\n   */\n  $$(key) {\n    return this.$[CSS_PREF + key];\n  }\n\n  /** @param {Object<String, String | Number>} kvObj */\n  set$$(kvObj) {\n    for (let key in kvObj) {\n      this.$[CSS_PREF + key] = kvObj[key];\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @param {(val: any) => void} kbFn\n   */\n  sub$$(key, kbFn) {\n    this.sub(CSS_PREF + key, (val) => {\n      // null comes from CSS context property\n      // empty string comes from attribute value\n      if (val === null || val === '') {\n        return;\n      }\n      kbFn(val);\n    });\n  }\n\n  analyticsParams() {\n    return `-/@clib/${PACKAGE_NAME}/${PACKAGE_VERSION}/uc-img/`;\n  }\n\n  initAttributes(el) {\n    [...this.attributes].forEach((attr) => {\n      if (!PROPS_MAP[attr.name]) {\n        el.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {() => void} cbkFn\n   */\n  initIntersection(el, cbkFn) {\n    let opts = {\n      root: null,\n      rootMargin: '0px',\n    };\n    /** @private */\n    this._isnObserver = new IntersectionObserver((entries) => {\n      entries.forEach((ent) => {\n        if (ent.isIntersecting) {\n          cbkFn();\n          this._isnObserver.unobserve(el);\n        }\n      });\n    }, opts);\n    this._isnObserver.observe(el);\n    if (!this._observed) {\n      /** @private */\n      this._observed = new Set();\n    }\n    this._observed.add(el);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    if (this._isnObserver) {\n      this._observed.forEach((el) => {\n        this._isnObserver.unobserve(el);\n      });\n      this._isnObserver = null;\n    }\n    Data.deleteCtx(this);\n  }\n\n  static get observedAttributes() {\n    return Object.keys(PROPS_MAP);\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    window.setTimeout(() => {\n      this.$[CSS_PREF + name] = newVal;\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}