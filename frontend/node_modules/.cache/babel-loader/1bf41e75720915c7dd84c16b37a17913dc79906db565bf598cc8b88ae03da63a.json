{"ast":null,"code":"/** @param {number} ms */\nconst msToUnixTimestamp = ms => Math.floor(ms / 1000);\n\n/**\n * Check if secure token is expired. It uses a threshold of 10 seconds by default. i.e. if the token is not expired yet\n * but will expire in the next 10 seconds, it will return false.\n *\n * @param {import('../types').SecureUploadsSignatureAndExpire} secureToken\n * @param {{ threshold?: number }} options\n */\nexport const isSecureTokenExpired = (secureToken, {\n  threshold\n}) => {\n  const {\n    secureExpire\n  } = secureToken;\n  const nowUnix = msToUnixTimestamp(Date.now());\n  const expireUnix = Number(secureExpire);\n  const thresholdUnix = msToUnixTimestamp(threshold);\n  return nowUnix + thresholdUnix >= expireUnix;\n};","map":{"version":3,"names":["msToUnixTimestamp","ms","Math","floor","isSecureTokenExpired","secureToken","threshold","secureExpire","nowUnix","Date","now","expireUnix","Number","thresholdUnix"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/utils/isSecureTokenExpired.js"],"sourcesContent":["/** @param {number} ms */\nconst msToUnixTimestamp = (ms) => Math.floor(ms / 1000);\n\n/**\n * Check if secure token is expired. It uses a threshold of 10 seconds by default. i.e. if the token is not expired yet\n * but will expire in the next 10 seconds, it will return false.\n *\n * @param {import('../types').SecureUploadsSignatureAndExpire} secureToken\n * @param {{ threshold?: number }} options\n */\nexport const isSecureTokenExpired = (secureToken, { threshold }) => {\n  const { secureExpire } = secureToken;\n  const nowUnix = msToUnixTimestamp(Date.now());\n  const expireUnix = Number(secureExpire);\n  const thresholdUnix = msToUnixTimestamp(threshold);\n  return nowUnix + thresholdUnix >= expireUnix;\n};\n"],"mappings":"AAAA;AACA,MAAMA,iBAAiB,GAAIC,EAAE,IAAKC,IAAI,CAACC,KAAK,CAACF,EAAE,GAAG,IAAI,CAAC;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,oBAAoB,GAAGA,CAACC,WAAW,EAAE;EAAEC;AAAU,CAAC,KAAK;EAClE,MAAM;IAAEC;EAAa,CAAC,GAAGF,WAAW;EACpC,MAAMG,OAAO,GAAGR,iBAAiB,CAACS,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAC7C,MAAMC,UAAU,GAAGC,MAAM,CAACL,YAAY,CAAC;EACvC,MAAMM,aAAa,GAAGb,iBAAiB,CAACM,SAAS,CAAC;EAClD,OAAOE,OAAO,GAAGK,aAAa,IAAIF,UAAU;AAC9C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}