{"ast":null,"code":"// @ts-check\nimport { MIN_CROP_SIZE, THUMB_CORNER_SIZE, THUMB_OFFSET, THUMB_SIDE_SIZE } from './cropper-constants.js';\n\n/**\n * @param {SVGElement} node\n * @param {{ [key: String]: String | Number }} attrs\n */\nexport function setSvgNodeAttrs(node, attrs) {\n  for (let p in attrs) node.setAttributeNS(null, p, attrs[p].toString());\n}\n\n/**\n * @param {String} name\n * @param {{ [key: String]: String | Number }} attrs\n * @returns {SVGElement}\n */\nexport function createSvgNode(name, attrs = {}) {\n  let node = document.createElementNS('http://www.w3.org/2000/svg', name);\n  setSvgNodeAttrs(node, attrs);\n  return node;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {import('./types.js').Direction} direction\n * @param {number} sizeMultiplier\n */\nexport function cornerPath(rect, direction, sizeMultiplier) {\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  let wMul = direction.includes('w') ? 0 : 1;\n  let hMul = direction.includes('n') ? 0 : 1;\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n  let p1 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + THUMB_OFFSET * ySide - THUMB_CORNER_SIZE * sizeMultiplier * ySide];\n  let p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + THUMB_OFFSET * ySide];\n  let p3 = [x + wMul * width - THUMB_CORNER_SIZE * sizeMultiplier * xSide + THUMB_OFFSET * xSide, y + hMul * height + THUMB_OFFSET * ySide];\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]} L ${p3[0]} ${p3[1]}`;\n  let center = p2;\n  return {\n    d: path,\n    center\n  };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {Extract<import('./types.js').Direction, 'n' | 's' | 'w' | 'e'>} direction\n * @param {number} sizeMultiplier\n */\nexport function sidePath(rect, direction, sizeMultiplier) {\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  let wMul = ['n', 's'].includes(direction) ? 0.5 : {\n    w: 0,\n    e: 1\n  }[(/** @type {Extract<import('./types.js').Direction, 'w' | 'e'>} */direction)];\n  let hMul = ['w', 'e'].includes(direction) ? 0.5 : {\n    n: 0,\n    s: 1\n  }[(/** @type {Extract<import('./types.js').Direction, 'n' | 's'>} */direction)];\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n  let p1, p2;\n  if (['n', 's'].includes(direction)) {\n    p1 = [x + wMul * width - THUMB_SIDE_SIZE * sizeMultiplier / 2, y + hMul * height + THUMB_OFFSET * ySide];\n    p2 = [x + wMul * width + THUMB_SIDE_SIZE * sizeMultiplier / 2, y + hMul * height + THUMB_OFFSET * ySide];\n  } else {\n    p1 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height - THUMB_SIDE_SIZE * sizeMultiplier / 2];\n    p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + THUMB_SIDE_SIZE * sizeMultiplier / 2];\n  }\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]}`;\n  let center = [p2[0] - (p2[0] - p1[0]) / 2, p2[1] - (p2[1] - p1[1]) / 2];\n  return {\n    d: path,\n    center\n  };\n}\n\n/** @param {import('./types.js').Direction} direction */\nexport function thumbCursor(direction) {\n  if (direction === '') {\n    return 'move';\n  }\n  if (['e', 'w'].includes(direction)) {\n    return 'ew-resize';\n  }\n  if (['n', 's'].includes(direction)) {\n    return 'ns-resize';\n  }\n  if (['nw', 'se'].includes(direction)) {\n    return 'nwse-resize';\n  }\n  return 'nesw-resize';\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function moveRect({\n  rect,\n  delta: [dx, dy],\n  imageBox\n}) {\n  return constraintRect({\n    ...rect,\n    x: rect.x + dx,\n    y: rect.y + dy\n  }, imageBox);\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function constraintRect(rect1, rect2) {\n  let {\n    x\n  } = rect1;\n  let {\n    y\n  } = rect1;\n  if (rect1.x < rect2.x) {\n    x = rect2.x;\n  } else if (rect1.x + rect1.width > rect2.x + rect2.width) {\n    x = rect2.x + rect2.width - rect1.width;\n  }\n  if (rect1.y < rect2.y) {\n    y = rect2.y;\n  } else if (rect1.y + rect1.height > rect2.y + rect2.height) {\n    y = rect2.y + rect2.height - rect1.height;\n  }\n  return {\n    ...rect1,\n    x,\n    y\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorth({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  const [, dy] = delta;\n  let {\n    y,\n    width,\n    height\n  } = rect;\n  y += dy;\n  height -= dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    height = rect.y + rect.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y + rect.height - height;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeWest({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  const [dx] = delta;\n  let {\n    x,\n    width,\n    height\n  } = rect;\n  x += dx;\n  width -= dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    width = rect.x + rect.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      y = rect.y + rect.height / 2 - height / 2;\n    }\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x + rect.width - width;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouth({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  const [, dy] = delta;\n  let {\n    y,\n    width,\n    height\n  } = rect;\n  height += dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y + height >= imageBox.y + imageBox.height) {\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeEast({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  const [dx] = delta;\n  let {\n    x,\n    width,\n    height\n  } = rect;\n  width += dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x + width >= imageBox.x + imageBox.width) {\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthWest({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  let [dx, dy] = delta;\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  x += dx;\n  width -= dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width = width + dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthEast({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  let [dx, dy] = delta;\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  width += dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthWest({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  let [dx, dy] = delta;\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  x += dx;\n  width -= dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthEast({\n  rect,\n  delta,\n  aspectRatio,\n  imageBox\n}) {\n  let [dx, dy] = delta;\n  let {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  width += dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n  }\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   direction: import('./types.js').Direction;\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function resizeRect({\n  direction,\n  ...rest\n}) {\n  switch (direction) {\n    case 'n':\n      return resizeNorth(rest);\n    case 'w':\n      return resizeWest(rest);\n    case 's':\n      return resizeSouth(rest);\n    case 'e':\n      return resizeEast(rest);\n    case 'nw':\n      return resizeNorthWest(rest);\n    case 'ne':\n      return resizeNorthEast(rest);\n    case 'sw':\n      return resizeSouthWest(rest);\n    case 'se':\n      return resizeSouthEast(rest);\n    default:\n      return rest.rect;\n  }\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {[Number, Number]} point\n */\nexport function rectContainsPoint(rect, [x, y]) {\n  return rect.x <= x && x <= rect.x + rect.width && rect.y <= y && y <= rect.y + rect.height;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function isRectInsideRect(rect1, rect2) {\n  return rect1.x >= rect2.x && rect1.y >= rect2.y && rect1.x + rect1.width <= rect2.x + rect2.width && rect1.y + rect1.height <= rect2.y + rect2.height;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {number} aspectRatio\n */\nexport function isRectMatchesAspectRatio(rect, aspectRatio) {\n  const THRESHOLD = 0.1;\n  return Math.abs(rect.width / rect.height - aspectRatio) < THRESHOLD;\n}\n\n/**\n * @param {import('./types.js').ImageSize} imageSize\n * @param {Number} angle\n * @returns {import('./types.js').ImageSize}\n */\nexport function rotateSize({\n  width,\n  height\n}, angle) {\n  let swap = angle / 90 % 2 !== 0;\n  return {\n    width: swap ? height : width,\n    height: swap ? width : height\n  };\n}\n\n/**\n * @param {number} width\n * @param {number} height\n * @param {number} aspectRatio\n */\nexport function calculateMaxCenteredCropFrame(width, height, aspectRatio) {\n  const imageAspectRatio = width / height;\n  let cropWidth, cropHeight;\n  if (imageAspectRatio > aspectRatio) {\n    cropWidth = Math.round(height * aspectRatio);\n    cropHeight = height;\n  } else {\n    cropWidth = width;\n    cropHeight = Math.round(width / aspectRatio);\n  }\n  const cropX = Math.round((width - cropWidth) / 2);\n  const cropY = Math.round((height - cropHeight) / 2);\n  if (cropX + cropWidth > width) {\n    cropWidth = width - cropX;\n  }\n  if (cropY + cropHeight > height) {\n    cropHeight = height - cropY;\n  }\n  return {\n    x: cropX,\n    y: cropY,\n    width: cropWidth,\n    height: cropHeight\n  };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @returns {import('./types.js').Rectangle}\n */\nexport function roundRect(rect) {\n  return {\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height)\n  };\n}\n\n/**\n * @param {Number} value\n * @param {Number} min\n * @param {Number} max\n * @returns {Number}\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}","map":{"version":3,"names":["MIN_CROP_SIZE","THUMB_CORNER_SIZE","THUMB_OFFSET","THUMB_SIDE_SIZE","setSvgNodeAttrs","node","attrs","p","setAttributeNS","toString","createSvgNode","name","document","createElementNS","cornerPath","rect","direction","sizeMultiplier","x","y","width","height","wMul","includes","hMul","xSide","ySide","p1","p2","p3","path","center","d","sidePath","w","e","n","s","thumbCursor","moveRect","delta","dx","dy","imageBox","constraintRect","rect1","rect2","resizeNorth","aspectRatio","Math","max","resizeWest","resizeSouth","resizeEast","resizeNorthWest","abs","resizeNorthEast","resizeSouthWest","resizeSouthEast","resizeRect","rest","rectContainsPoint","isRectInsideRect","isRectMatchesAspectRatio","THRESHOLD","rotateSize","angle","swap","calculateMaxCenteredCropFrame","imageAspectRatio","cropWidth","cropHeight","round","cropX","cropY","roundRect","clamp","value","min"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/CloudImageEditor/src/crop-utils.js"],"sourcesContent":["// @ts-check\nimport { MIN_CROP_SIZE, THUMB_CORNER_SIZE, THUMB_OFFSET, THUMB_SIDE_SIZE } from './cropper-constants.js';\n\n/**\n * @param {SVGElement} node\n * @param {{ [key: String]: String | Number }} attrs\n */\nexport function setSvgNodeAttrs(node, attrs) {\n  for (let p in attrs) node.setAttributeNS(null, p, attrs[p].toString());\n}\n\n/**\n * @param {String} name\n * @param {{ [key: String]: String | Number }} attrs\n * @returns {SVGElement}\n */\nexport function createSvgNode(name, attrs = {}) {\n  let node = document.createElementNS('http://www.w3.org/2000/svg', name);\n  setSvgNodeAttrs(node, attrs);\n  return node;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {import('./types.js').Direction} direction\n * @param {number} sizeMultiplier\n */\nexport function cornerPath(rect, direction, sizeMultiplier) {\n  let { x, y, width, height } = rect;\n\n  let wMul = direction.includes('w') ? 0 : 1;\n  let hMul = direction.includes('n') ? 0 : 1;\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n\n  let p1 = [\n    x + wMul * width + THUMB_OFFSET * xSide,\n    y + hMul * height + THUMB_OFFSET * ySide - THUMB_CORNER_SIZE * sizeMultiplier * ySide,\n  ];\n  let p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + THUMB_OFFSET * ySide];\n  let p3 = [\n    x + wMul * width - THUMB_CORNER_SIZE * sizeMultiplier * xSide + THUMB_OFFSET * xSide,\n    y + hMul * height + THUMB_OFFSET * ySide,\n  ];\n\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]} L ${p3[0]} ${p3[1]}`;\n  let center = p2;\n\n  return {\n    d: path,\n    center,\n  };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {Extract<import('./types.js').Direction, 'n' | 's' | 'w' | 'e'>} direction\n * @param {number} sizeMultiplier\n */\nexport function sidePath(rect, direction, sizeMultiplier) {\n  let { x, y, width, height } = rect;\n\n  let wMul = ['n', 's'].includes(direction)\n    ? 0.5\n    : { w: 0, e: 1 }[/** @type {Extract<import('./types.js').Direction, 'w' | 'e'>} */ (direction)];\n  let hMul = ['w', 'e'].includes(direction)\n    ? 0.5\n    : { n: 0, s: 1 }[/** @type {Extract<import('./types.js').Direction, 'n' | 's'>} */ (direction)];\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n\n  let p1, p2;\n  if (['n', 's'].includes(direction)) {\n    p1 = [x + wMul * width - (THUMB_SIDE_SIZE * sizeMultiplier) / 2, y + hMul * height + THUMB_OFFSET * ySide];\n    p2 = [x + wMul * width + (THUMB_SIDE_SIZE * sizeMultiplier) / 2, y + hMul * height + THUMB_OFFSET * ySide];\n  } else {\n    p1 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height - (THUMB_SIDE_SIZE * sizeMultiplier) / 2];\n    p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + (THUMB_SIDE_SIZE * sizeMultiplier) / 2];\n  }\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]}`;\n  let center = [p2[0] - (p2[0] - p1[0]) / 2, p2[1] - (p2[1] - p1[1]) / 2];\n\n  return { d: path, center };\n}\n\n/** @param {import('./types.js').Direction} direction */\nexport function thumbCursor(direction) {\n  if (direction === '') {\n    return 'move';\n  }\n  if (['e', 'w'].includes(direction)) {\n    return 'ew-resize';\n  }\n  if (['n', 's'].includes(direction)) {\n    return 'ns-resize';\n  }\n  if (['nw', 'se'].includes(direction)) {\n    return 'nwse-resize';\n  }\n  return 'nesw-resize';\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function moveRect({ rect, delta: [dx, dy], imageBox }) {\n  return constraintRect(\n    {\n      ...rect,\n      x: rect.x + dx,\n      y: rect.y + dy,\n    },\n    imageBox,\n  );\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function constraintRect(rect1, rect2) {\n  let { x } = rect1;\n  let { y } = rect1;\n  if (rect1.x < rect2.x) {\n    x = rect2.x;\n  } else if (rect1.x + rect1.width > rect2.x + rect2.width) {\n    x = rect2.x + rect2.width - rect1.width;\n  }\n  if (rect1.y < rect2.y) {\n    y = rect2.y;\n  } else if (rect1.y + rect1.height > rect2.y + rect2.height) {\n    y = rect2.y + rect2.height - rect1.height;\n  }\n\n  return {\n    ...rect1,\n    x,\n    y,\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorth({ rect, delta, aspectRatio, imageBox }) {\n  const [, dy] = delta;\n  let { y, width, height } = rect;\n\n  y += dy;\n  height -= dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    height = rect.y + rect.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y + rect.height - height;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeWest({ rect, delta, aspectRatio, imageBox }) {\n  const [dx] = delta;\n  let { x, width, height } = rect;\n\n  x += dx;\n  width -= dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    width = rect.x + rect.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      y = rect.y + rect.height / 2 - height / 2;\n    }\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x + rect.width - width;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouth({ rect, delta, aspectRatio, imageBox }) {\n  const [, dy] = delta;\n  let { y, width, height } = rect;\n\n  height += dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y + height >= imageBox.y + imageBox.height) {\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeEast({ rect, delta, aspectRatio, imageBox }) {\n  const [dx] = delta;\n  let { x, width, height } = rect;\n\n  width += dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x + width >= imageBox.x + imageBox.width) {\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthWest({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  x += dx;\n  width -= dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width = width + dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthEast({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  width += dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthWest({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  x += dx;\n  width -= dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthEast({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  width += dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   direction: import('./types.js').Direction;\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function resizeRect({ direction, ...rest }) {\n  switch (direction) {\n    case 'n':\n      return resizeNorth(rest);\n    case 'w':\n      return resizeWest(rest);\n    case 's':\n      return resizeSouth(rest);\n    case 'e':\n      return resizeEast(rest);\n    case 'nw':\n      return resizeNorthWest(rest);\n    case 'ne':\n      return resizeNorthEast(rest);\n    case 'sw':\n      return resizeSouthWest(rest);\n    case 'se':\n      return resizeSouthEast(rest);\n    default:\n      return rest.rect;\n  }\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {[Number, Number]} point\n */\nexport function rectContainsPoint(rect, [x, y]) {\n  return rect.x <= x && x <= rect.x + rect.width && rect.y <= y && y <= rect.y + rect.height;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function isRectInsideRect(rect1, rect2) {\n  return (\n    rect1.x >= rect2.x &&\n    rect1.y >= rect2.y &&\n    rect1.x + rect1.width <= rect2.x + rect2.width &&\n    rect1.y + rect1.height <= rect2.y + rect2.height\n  );\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {number} aspectRatio\n */\nexport function isRectMatchesAspectRatio(rect, aspectRatio) {\n  const THRESHOLD = 0.1;\n  return Math.abs(rect.width / rect.height - aspectRatio) < THRESHOLD;\n}\n\n/**\n * @param {import('./types.js').ImageSize} imageSize\n * @param {Number} angle\n * @returns {import('./types.js').ImageSize}\n */\nexport function rotateSize({ width, height }, angle) {\n  let swap = (angle / 90) % 2 !== 0;\n  return { width: swap ? height : width, height: swap ? width : height };\n}\n\n/**\n * @param {number} width\n * @param {number} height\n * @param {number} aspectRatio\n */\nexport function calculateMaxCenteredCropFrame(width, height, aspectRatio) {\n  const imageAspectRatio = width / height;\n  let cropWidth, cropHeight;\n\n  if (imageAspectRatio > aspectRatio) {\n    cropWidth = Math.round(height * aspectRatio);\n    cropHeight = height;\n  } else {\n    cropWidth = width;\n    cropHeight = Math.round(width / aspectRatio);\n  }\n\n  const cropX = Math.round((width - cropWidth) / 2);\n  const cropY = Math.round((height - cropHeight) / 2);\n\n  if (cropX + cropWidth > width) {\n    cropWidth = width - cropX;\n  }\n  if (cropY + cropHeight > height) {\n    cropHeight = height - cropY;\n  }\n\n  return { x: cropX, y: cropY, width: cropWidth, height: cropHeight };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @returns {import('./types.js').Rectangle}\n */\nexport function roundRect(rect) {\n  return {\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height),\n  };\n}\n\n/**\n * @param {Number} value\n * @param {Number} min\n * @param {Number} max\n * @returns {Number}\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}