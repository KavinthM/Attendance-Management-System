{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/ReportData/ReportData.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './ReportData.css';\nimport ReportDataAPI from '../../services/ReportDataAPI';\nimport { api } from '../../api/client';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportData = () => {\n  _s();\n  var _location$state, _location$state2;\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Check if we're in edit mode\n  const isEditMode = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.editMode) || false;\n  const editData = ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.editData) || null;\n\n  // State for form data\n  const [formData, setFormData] = useState({\n    studentId: '',\n    studentName: '',\n    grade: '',\n    class: '',\n    academicYear: '',\n    teacherComments: ''\n  });\n\n  // State for subjects\n  const [subjects, setSubjects] = useState([]);\n  const [usedSubjects, setUsedSubjects] = useState(new Set());\n\n  // State for API operations\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  // Student lookup status: idle | loading | found | not-found | error\n  const [studentLookupStatus, setStudentLookupStatus] = useState('idle');\n  const lookupTimeout = React.useRef(null);\n  // Common subjects by class level\n\n  const subjectsByLevel = {\n    '1': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '2': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '3': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '4': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '5': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '6': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '7': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '8': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '9': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '10': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '11': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies']\n  };\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear errors when user starts typing\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Debounced student lookup: when studentId changes, try to autofill studentName\n  useEffect(() => {\n    const id = (formData.studentId || '').toString().trim();\n\n    // Clear any pending timeout\n    if (lookupTimeout.current) {\n      clearTimeout(lookupTimeout.current);\n      lookupTimeout.current = null;\n    }\n    if (!id) {\n      // Clear name when id cleared\n      setFormData(prev => ({\n        ...prev,\n        studentName: ''\n      }));\n      setStudentLookupStatus('idle');\n      return;\n    }\n    setStudentLookupStatus('loading');\n\n    // Debounce the lookup by 450ms\n    lookupTimeout.current = setTimeout(async () => {\n      try {\n        setStudentLookupStatus('loading');\n\n        // 1) Try students by-index (case-insensitive full match)\n        try {\n          var _response$data;\n          const response = await api.get(`/api/students/by-index/${encodeURIComponent(id)}`);\n          console.log('by-index response:', response === null || response === void 0 ? void 0 : response.data);\n          const student = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.student;\n          if (student && (student.name || student.fullName)) {\n            setFormData(prev => ({\n              ...prev,\n              studentName: student.name || student.fullName\n            }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          // ignore and try next\n          console.debug('by-index lookup failed:', (e === null || e === void 0 ? void 0 : e.message) || e);\n        }\n\n        // 2) Try users collection via public students/by-userid endpoint (case-insensitive)\n        try {\n          var _response$data2;\n          const response = await api.get(`/api/students/by-userid/${encodeURIComponent(id)}`);\n          console.log('by-userid response:', response === null || response === void 0 ? void 0 : response.data);\n          const user = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.user;\n          if (user && (user.fullName || user.name)) {\n            setFormData(prev => ({\n              ...prev,\n              studentName: user.fullName || user.name\n            }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          console.debug('by-userid lookup failed:', (e === null || e === void 0 ? void 0 : e.message) || e);\n        }\n\n        // 3) Fallback: try /api/students/:id (by ObjectId or exact index)\n        try {\n          var _response$data3;\n          const response = await api.get(`/api/students/${encodeURIComponent(id)}`);\n          console.log('direct lookup response:', response === null || response === void 0 ? void 0 : response.data);\n          const student2 = response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.student;\n          if (student2 && (student2.name || student2.fullName)) {\n            setFormData(prev => ({\n              ...prev,\n              studentName: student2.name || student2.fullName\n            }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          console.debug('students direct lookup failed:', (e === null || e === void 0 ? void 0 : e.message) || e);\n        }\n\n        // Nothing found\n        setFormData(prev => ({\n          ...prev,\n          studentName: ''\n        }));\n        setStudentLookupStatus('not-found');\n      } catch (err) {\n        console.error('Student lookup unexpected error:', err);\n        setFormData(prev => ({\n          ...prev,\n          studentName: ''\n        }));\n        setStudentLookupStatus('error');\n      }\n    }, 450);\n\n    // Cleanup on unmount or id change\n    return () => {\n      if (lookupTimeout.current) {\n        clearTimeout(lookupTimeout.current);\n        lookupTimeout.current = null;\n      }\n    };\n  }, [formData.studentId]);\n\n  // Handle class level change\n  const handleClassLevelChange = e => {\n    const grade = e.target.value;\n    setFormData(prev => ({\n      ...prev,\n      grade: grade\n    }));\n\n    // Clear errors when user changes class level\n    if (error) {\n      setError(null);\n    }\n\n    // Clear subjects when class level changes\n    setSubjects([]);\n    setUsedSubjects(new Set());\n\n    // Add one empty subject row\n    addSubjectRow();\n  };\n\n  // Add a new subject row\n  const addSubjectRow = useCallback((subjectName = '', term1 = '', term2 = '', term3 = '') => {\n    const newSubject = {\n      id: Date.now() + Math.random(),\n      // Ensure unique ID\n      subjectName: subjectName,\n      term1Marks: term1,\n      term2Marks: term2,\n      term3Marks: term3\n    };\n    console.log('Adding subject row:', newSubject);\n    setSubjects(prev => {\n      const newSubjects = [...prev, newSubject];\n      console.log('Updated subjects:', newSubjects);\n      return newSubjects;\n    });\n    if (subjectName) {\n      setUsedSubjects(prev => new Set([...prev, subjectName]));\n    }\n\n    // Clear errors when user adds a subject\n    if (error) {\n      setError(null);\n    }\n  }, [error]);\n\n  // Remove a subject row\n  const removeSubjectRow = (id, subjectName) => {\n    console.log('Attempting to remove subject:', {\n      id,\n      subjectName,\n      subjectsCount: subjects.length\n    });\n\n    // Don't allow removing if it's the only row\n    if (subjects.length <= 1) {\n      alert('At least one subject row is required');\n      return;\n    }\n    setSubjects(prev => prev.filter(subject => subject.id !== id));\n\n    // Remove from used subjects if it has a name\n    if (subjectName) {\n      setUsedSubjects(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(subjectName);\n        return newSet;\n      });\n    }\n\n    // Clear errors when user removes a subject\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Update subject data\n  const updateSubject = (id, field, value) => {\n    console.log('Updating subject:', {\n      id,\n      field,\n      value\n    });\n    console.log('Current subjects before update:', subjects);\n    setSubjects(prev => {\n      const updated = prev.map(subject => subject.id === id ? {\n        ...subject,\n        [field]: value\n      } : subject);\n      console.log('Updated subjects after update:', updated);\n      return updated;\n    });\n\n    // Clear errors when user updates subjects\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Handle subject name change\n  const handleSubjectNameChange = (id, oldName, newName) => {\n    // Remove old subject from used subjects\n    if (oldName) {\n      setUsedSubjects(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(oldName);\n        return newSet;\n      });\n    }\n\n    // Add new subject to used subjects\n    if (newName) {\n      setUsedSubjects(prev => new Set([...prev, newName]));\n    }\n\n    // Update subject name\n    updateSubject(id, 'subjectName', newName);\n\n    // Clear errors when user changes subject\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Reset the form\n  const resetForm = () => {\n    setFormData({\n      studentId: '',\n      studentName: '',\n      grade: '',\n      class: '',\n      academicYear: '',\n      teacherComments: ''\n    });\n    setSubjects([]);\n    setUsedSubjects(new Set());\n    setError(null);\n    setSuccess(null);\n    addSubjectRow();\n  };\n\n  // Validate the form\n  const validateForm = () => {\n    const formDataWithSubjects = {\n      ...formData,\n      subjects: subjects\n    };\n    const validation = ReportDataAPI.validateFormData(formDataWithSubjects);\n    if (!validation.isValid) {\n      setError(validation.errors.join(', '));\n      return false;\n    }\n    return true;\n  };\n\n  // Submit the form\n  const submitForm = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      // Prepare form data for submission\n      const formDataWithSubjects = {\n        ...formData,\n        subjects: subjects\n      };\n      const submissionData = ReportDataAPI.transformFormData(formDataWithSubjects);\n      let result;\n      if (isEditMode && editData) {\n        // Update existing report card\n        result = await ReportDataAPI.updateReportCard(editData._id, submissionData);\n        setSuccess('Report card data updated successfully!');\n\n        // Navigate back to ReportCard page after successful update\n        setTimeout(() => {\n          navigate('/report-card');\n        }, 2000);\n      } else {\n        // Create new report card\n        await ReportDataAPI.addReportCard(submissionData);\n        setSuccess('Report card data submitted successfully!');\n\n        // Reset the form after successful submission\n        setTimeout(() => {\n          resetForm();\n        }, 2000);\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to submit report card data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initialize with one subject row\n  useEffect(() => {\n    // Only add a subject row if none exist\n    if (subjects.length === 0) {\n      addSubjectRow();\n    }\n  }, [addSubjectRow, subjects.length]);\n\n  // Clear errors when form data changes\n  useEffect(() => {\n    if (error && formData.grade) {\n      setError(null);\n    }\n  }, [formData.grade, error]);\n\n  // Debug subjects state\n  useEffect(() => {\n    console.log('Subjects state updated:', subjects);\n  }, [subjects]);\n\n  // Pre-fill form when in edit mode\n  useEffect(() => {\n    if (isEditMode && editData) {\n      var _editData$grade;\n      // Pre-fill form data\n      setFormData({\n        studentId: editData.studentId || '',\n        studentName: editData.studentName || '',\n        grade: ((_editData$grade = editData.grade) === null || _editData$grade === void 0 ? void 0 : _editData$grade.toString()) || '',\n        class: editData.class ? editData.class.split('-')[1] || '' : '',\n        // Extract letter from \"11-B\" format\n        academicYear: editData.academicYear || new Date().getFullYear().toString(),\n        teacherComments: editData.teacherComments || ''\n      });\n\n      // Pre-fill subjects data\n      if (editData.subjects && editData.subjects.length > 0) {\n        const subjectsData = editData.subjects.map((subject, index) => ({\n          id: Date.now() + Math.random() + index,\n          // Generate unique ID for each subject\n          subjectName: subject.subjectName || '',\n          term1Marks: subject.term1Marks || '',\n          term2Marks: subject.term2Marks || '',\n          term3Marks: subject.term3Marks || ''\n        }));\n        setSubjects(subjectsData);\n\n        // Update used subjects\n        const usedSubjectsSet = new Set(subjectsData.map(s => s.subjectName).filter(name => name));\n        setUsedSubjects(usedSubjectsSet);\n      }\n    }\n  }, [isEditMode, editData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: isEditMode ? 'Edit Report Card Data' : 'Report Card Data Entry'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Enter student report card information for the academic year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#ffebee',\n          border: '1px solid #f44336',\n          borderRadius: '5px',\n          padding: '15px',\n          marginBottom: '20px',\n          color: '#c62828'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#e8f5e8',\n          border: '1px solid #4CAF50',\n          borderRadius: '5px',\n          padding: '15px',\n          marginBottom: '20px',\n          color: '#2e7d32'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Success:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), \" \", success]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"reportCardForm\",\n          onSubmit: submitForm,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"form-section-title\",\n              children: \"Student Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"studentId\",\n                  children: \"Student ID *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"studentId\",\n                  name: \"studentId\",\n                  value: formData.studentId,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: '6px',\n                    minHeight: '18px'\n                  },\n                  children: [studentLookupStatus === 'loading' && /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#0b74a6'\n                    },\n                    children: \"Looking up student...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 23\n                  }, this), studentLookupStatus === 'found' && /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#2e7d32'\n                    },\n                    children: \"Student found and name autofilled\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 23\n                  }, this), studentLookupStatus === 'not-found' && /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#c62828'\n                    },\n                    children: \"Student not found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 23\n                  }, this), studentLookupStatus === 'error' && /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#c62828'\n                    },\n                    children: \"Lookup error \\u2014 check server\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"studentName\",\n                  children: \"Student Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"studentName\",\n                  name: \"studentName\",\n                  value: formData.studentName,\n                  onChange: handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"grade\",\n                  children: \"Class Level *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"grade\",\n                  name: \"grade\",\n                  value: formData.grade,\n                  onChange: handleClassLevelChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Class\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"Class 1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"Class 2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"Class 3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"Class 4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"Class 5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"6\",\n                    children: \"Class 6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"7\",\n                    children: \"Class 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"8\",\n                    children: \"Class 8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"9\",\n                    children: \"Class 9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"10\",\n                    children: \"Class 10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"11\",\n                    children: \"Class 11\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"class\",\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"class\",\n                  name: \"class\",\n                  value: formData.class,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Class\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"A\",\n                    children: \"A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"B\",\n                    children: \"B\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"C\",\n                    children: \"C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"academicYear\",\n                  children: \"Academic Year *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"academicYear\",\n                  name: \"academicYear\",\n                  value: formData.academicYear,\n                  onChange: handleInputChange,\n                  min: \"2020\",\n                  max: \"2030\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"form-section-title\",\n              children: \"Subject Marks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"subjects-table\",\n              id: \"subjectsTable\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Subject Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Term 1 Marks (0-100)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Term 2 Marks (0-100)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Term 3 Marks (0-100)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"subject-actions\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                id: \"subjectsBody\",\n                children: subjects.length > 0 ? subjects.map(subject => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: subject.subjectName,\n                      onChange: e => handleSubjectNameChange(subject.id, subject.subjectName, e.target.value),\n                      required: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select Subject\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 568,\n                        columnNumber: 27\n                      }, this), formData.grade && subjectsByLevel[formData.grade] ? subjectsByLevel[formData.grade].map(subjectOption => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: subjectOption,\n                        disabled: usedSubjects.has(subjectOption) && subjectOption !== subject.subjectName,\n                        children: subjectOption\n                      }, subjectOption, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 31\n                      }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        disabled: true,\n                        children: \"Please select a class level first\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 579,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"100\",\n                      value: subject.term1Marks,\n                      onChange: e => updateSubject(subject.id, 'term1Marks', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"100\",\n                      value: subject.term2Marks,\n                      onChange: e => updateSubject(subject.id, 'term2Marks', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"100\",\n                      value: subject.term3Marks,\n                      onChange: e => updateSubject(subject.id, 'term3Marks', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 603,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 602,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"subject-actions\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `btn ${subjects.length <= 1 ? 'btn-secondary' : 'btn-danger'}`,\n                      onClick: () => removeSubjectRow(subject.id, subject.subjectName),\n                      title: subjects.length <= 1 ? 'At least one subject row is required' : 'Remove this subject',\n                      disabled: subjects.length <= 1,\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 619,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 23\n                  }, this)]\n                }, subject.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"5\",\n                    style: {\n                      textAlign: 'center',\n                      padding: '20px',\n                      color: '#666'\n                    },\n                    children: \"No subjects added yet. Click \\\"Add Subject\\\" to get started.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                marginTop: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: () => addSubjectRow(),\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-plus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 19\n                }, this), \" Add Subject\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"form-section-title\",\n              children: \"Teacher Comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"teacherComments\",\n                children: \"Comments & Feedback\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"teacherComments\",\n                name: \"teacherComments\",\n                value: formData.teacherComments,\n                onChange: handleInputChange,\n                placeholder: \"Enter teacher comments and feedback for the student...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: () => {\n                if (window.confirm('Are you sure you want to reset the form? All data will be lost.')) {\n                  resetForm();\n                }\n              },\n              children: \"Reset Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 15\n            }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => navigate('/report-card'),\n              style: {\n                marginRight: '10px'\n              },\n              children: \"Cancel Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              id: \"submitBtn\",\n              disabled: loading,\n              children: loading ? 'Submitting...' : isEditMode ? 'Update Report Card' : 'Submit Report Card'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportData, \"zZ/68vC7I4Tk5tacAXXf8amQApU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ReportData;\nexport default ReportData;\nvar _c;\n$RefreshReg$(_c, \"ReportData\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","ReportDataAPI","api","useLocation","useNavigate","jsxDEV","_jsxDEV","ReportData","_s","_location$state","_location$state2","location","navigate","isEditMode","state","editMode","editData","formData","setFormData","studentId","studentName","grade","class","academicYear","teacherComments","subjects","setSubjects","usedSubjects","setUsedSubjects","Set","loading","setLoading","error","setError","success","setSuccess","studentLookupStatus","setStudentLookupStatus","lookupTimeout","useRef","subjectsByLevel","handleInputChange","e","name","value","target","prev","id","toString","trim","current","clearTimeout","setTimeout","_response$data","response","get","encodeURIComponent","console","log","data","student","fullName","debug","message","_response$data2","user","_response$data3","student2","err","handleClassLevelChange","addSubjectRow","subjectName","term1","term2","term3","newSubject","Date","now","Math","random","term1Marks","term2Marks","term3Marks","newSubjects","removeSubjectRow","subjectsCount","length","alert","filter","subject","newSet","delete","updateSubject","field","updated","map","handleSubjectNameChange","oldName","newName","resetForm","validateForm","formDataWithSubjects","validation","validateFormData","isValid","errors","join","submitForm","preventDefault","submissionData","transformFormData","result","updateReportCard","_id","addReportCard","_editData$grade","split","getFullYear","subjectsData","index","usedSubjectsSet","s","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","background","border","borderRadius","padding","marginBottom","color","onSubmit","htmlFor","type","onChange","required","marginTop","minHeight","min","max","subjectOption","disabled","has","onClick","title","colSpan","textAlign","placeholder","window","confirm","marginRight","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/ReportData/ReportData.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './ReportData.css';\nimport ReportDataAPI from '../../services/ReportDataAPI';\nimport { api } from '../../api/client';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nconst ReportData = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n  // Check if we're in edit mode\n  const isEditMode = location.state?.editMode || false;\n  const editData = location.state?.editData || null;\n  \n  // State for form data\n  const [formData, setFormData] = useState({\n    studentId: '',\n    studentName: '',\n    grade: '',\n    class: '',\n    academicYear: '',\n    teacherComments: ''\n  });\n\n  // State for subjects\n  const [subjects, setSubjects] = useState([]);\n  const [usedSubjects, setUsedSubjects] = useState(new Set());\n  \n  // State for API operations\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  // Student lookup status: idle | loading | found | not-found | error\n  const [studentLookupStatus, setStudentLookupStatus] = useState('idle');\n  const lookupTimeout = React.useRef(null);\n  // Common subjects by class level\n  \n  const subjectsByLevel = {\n    '1': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '2': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '3': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '4': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '5': ['Sinhala', 'English', 'Tamil', 'Buddhist', 'Mathematics', 'Science', 'Art', 'Music', 'Dance'],\n    '6': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '7': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '8': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '9': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '10': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies'],\n    '11': ['English', 'Science', 'Mathematics', 'Sinhala', 'Tamil', 'Buddhist', 'History', 'Agriculture', 'Home Science', 'ICT', 'Health and Physical Education', 'Art', 'Dance', 'Music', 'Drama', 'Literature', 'Geography', 'Business and Accounting Studies']\n  };\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear errors when user starts typing\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Debounced student lookup: when studentId changes, try to autofill studentName\n  useEffect(() => {\n    const id = (formData.studentId || '').toString().trim();\n\n    // Clear any pending timeout\n    if (lookupTimeout.current) {\n      clearTimeout(lookupTimeout.current);\n      lookupTimeout.current = null;\n    }\n\n    if (!id) {\n      // Clear name when id cleared\n      setFormData(prev => ({ ...prev, studentName: '' }));\n      setStudentLookupStatus('idle');\n      return;\n    }\n\n    setStudentLookupStatus('loading');\n\n    // Debounce the lookup by 450ms\n    lookupTimeout.current = setTimeout(async () => {\n      try {\n        setStudentLookupStatus('loading');\n\n        // 1) Try students by-index (case-insensitive full match)\n        try {\n          const response = await api.get(`/api/students/by-index/${encodeURIComponent(id)}`);\n          console.log('by-index response:', response?.data);\n          const student = response?.data?.student;\n          if (student && (student.name || student.fullName)) {\n            setFormData(prev => ({ ...prev, studentName: student.name || student.fullName }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          // ignore and try next\n          console.debug('by-index lookup failed:', e?.message || e);\n        }\n\n        // 2) Try users collection via public students/by-userid endpoint (case-insensitive)\n        try {\n          const response = await api.get(`/api/students/by-userid/${encodeURIComponent(id)}`);\n          console.log('by-userid response:', response?.data);\n          const user = response?.data?.user;\n          if (user && (user.fullName || user.name)) {\n            setFormData(prev => ({ ...prev, studentName: user.fullName || user.name }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          console.debug('by-userid lookup failed:', e?.message || e);\n        }\n\n        // 3) Fallback: try /api/students/:id (by ObjectId or exact index)\n        try {\n          const response = await api.get(`/api/students/${encodeURIComponent(id)}`);\n          console.log('direct lookup response:', response?.data);\n          const student2 = response?.data?.student;\n          if (student2 && (student2.name || student2.fullName)) {\n            setFormData(prev => ({ ...prev, studentName: student2.name || student2.fullName }));\n            setStudentLookupStatus('found');\n            return;\n          }\n        } catch (e) {\n          console.debug('students direct lookup failed:', e?.message || e);\n        }\n\n        // Nothing found\n        setFormData(prev => ({ ...prev, studentName: '' }));\n        setStudentLookupStatus('not-found');\n      } catch (err) {\n        console.error('Student lookup unexpected error:', err);\n        setFormData(prev => ({ ...prev, studentName: '' }));\n        setStudentLookupStatus('error');\n      }\n    }, 450);\n\n    // Cleanup on unmount or id change\n    return () => {\n      if (lookupTimeout.current) {\n        clearTimeout(lookupTimeout.current);\n        lookupTimeout.current = null;\n      }\n    };\n  }, [formData.studentId]);\n\n  // Handle class level change\n  const handleClassLevelChange = (e) => {\n    const grade = e.target.value;\n    setFormData(prev => ({\n      ...prev,\n      grade: grade\n    }));\n    \n    // Clear errors when user changes class level\n    if (error) {\n      setError(null);\n    }\n    \n    // Clear subjects when class level changes\n    setSubjects([]);\n    setUsedSubjects(new Set());\n    \n    // Add one empty subject row\n    addSubjectRow();\n  };\n\n  // Add a new subject row\n  const addSubjectRow = useCallback((subjectName = '', term1 = '', term2 = '', term3 = '') => {\n    const newSubject = {\n      id: Date.now() + Math.random(), // Ensure unique ID\n      subjectName: subjectName,\n      term1Marks: term1,\n      term2Marks: term2,\n      term3Marks: term3\n    };\n    \n    console.log('Adding subject row:', newSubject);\n    setSubjects(prev => {\n      const newSubjects = [...prev, newSubject];\n      console.log('Updated subjects:', newSubjects);\n      return newSubjects;\n    });\n    \n    if (subjectName) {\n      setUsedSubjects(prev => new Set([...prev, subjectName]));\n    }\n    \n    // Clear errors when user adds a subject\n    if (error) {\n      setError(null);\n    }\n  }, [error]);\n\n  // Remove a subject row\n  const removeSubjectRow = (id, subjectName) => {\n    console.log('Attempting to remove subject:', { id, subjectName, subjectsCount: subjects.length });\n    \n    // Don't allow removing if it's the only row\n    if (subjects.length <= 1) {\n      alert('At least one subject row is required');\n      return;\n    }\n    \n    setSubjects(prev => prev.filter(subject => subject.id !== id));\n    \n    // Remove from used subjects if it has a name\n    if (subjectName) {\n      setUsedSubjects(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(subjectName);\n        return newSet;\n      });\n    }\n    \n    // Clear errors when user removes a subject\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Update subject data\n  const updateSubject = (id, field, value) => {\n    console.log('Updating subject:', { id, field, value });\n    console.log('Current subjects before update:', subjects);\n    \n    setSubjects(prev => {\n      const updated = prev.map(subject => \n        subject.id === id ? { ...subject, [field]: value } : subject\n      );\n      console.log('Updated subjects after update:', updated);\n      return updated;\n    });\n    \n    // Clear errors when user updates subjects\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Handle subject name change\n  const handleSubjectNameChange = (id, oldName, newName) => {\n    // Remove old subject from used subjects\n    if (oldName) {\n      setUsedSubjects(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(oldName);\n        return newSet;\n      });\n    }\n    \n    // Add new subject to used subjects\n    if (newName) {\n      setUsedSubjects(prev => new Set([...prev, newName]));\n    }\n    \n    // Update subject name\n    updateSubject(id, 'subjectName', newName);\n    \n    // Clear errors when user changes subject\n    if (error) {\n      setError(null);\n    }\n  };\n\n  // Reset the form\n  const resetForm = () => {\n    setFormData({\n      studentId: '',\n      studentName: '',\n      grade: '',\n      class: '',\n      academicYear: '',\n      teacherComments: ''\n    });\n    setSubjects([]);\n    setUsedSubjects(new Set());\n    setError(null);\n    setSuccess(null);\n    addSubjectRow();\n  };\n\n  // Validate the form\n  const validateForm = () => {\n    const formDataWithSubjects = {\n      ...formData,\n      subjects: subjects\n    };\n    \n    const validation = ReportDataAPI.validateFormData(formDataWithSubjects);\n    \n    if (!validation.isValid) {\n      setError(validation.errors.join(', '));\n      return false;\n    }\n    \n    return true;\n  };\n\n  // Submit the form\n  const submitForm = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    \n    try {\n      // Prepare form data for submission\n      const formDataWithSubjects = {\n        ...formData,\n        subjects: subjects\n      };\n      \n      const submissionData = ReportDataAPI.transformFormData(formDataWithSubjects);\n      \n      let result;\n      if (isEditMode && editData) {\n        // Update existing report card\n        result = await ReportDataAPI.updateReportCard(editData._id, submissionData);\n        setSuccess('Report card data updated successfully!');\n        \n        // Navigate back to ReportCard page after successful update\n        setTimeout(() => {\n          navigate('/report-card');\n        }, 2000);\n      } else {\n        // Create new report card\n        await ReportDataAPI.addReportCard(submissionData);\n        setSuccess('Report card data submitted successfully!');\n        \n        // Reset the form after successful submission\n        setTimeout(() => {\n          resetForm();\n        }, 2000);\n      }\n      \n    } catch (err) {\n      setError(err.message || 'Failed to submit report card data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initialize with one subject row\n  useEffect(() => {\n    // Only add a subject row if none exist\n    if (subjects.length === 0) {\n      addSubjectRow();\n    }\n  }, [addSubjectRow, subjects.length]);\n\n  // Clear errors when form data changes\n  useEffect(() => {\n    if (error && formData.grade) {\n      setError(null);\n    }\n  }, [formData.grade, error]);\n\n  // Debug subjects state\n  useEffect(() => {\n    console.log('Subjects state updated:', subjects);\n  }, [subjects]);\n\n  // Pre-fill form when in edit mode\n  useEffect(() => {\n    if (isEditMode && editData) {\n      // Pre-fill form data\n      setFormData({\n        studentId: editData.studentId || '',\n        studentName: editData.studentName || '',\n        grade: editData.grade?.toString() || '',\n        class: editData.class ? editData.class.split('-')[1] || '' : '', // Extract letter from \"11-B\" format\n        academicYear: editData.academicYear || new Date().getFullYear().toString(),\n        teacherComments: editData.teacherComments || ''\n      });\n      \n      // Pre-fill subjects data\n      if (editData.subjects && editData.subjects.length > 0) {\n        const subjectsData = editData.subjects.map((subject, index) => ({\n          id: Date.now() + Math.random() + index, // Generate unique ID for each subject\n          subjectName: subject.subjectName || '',\n          term1Marks: subject.term1Marks || '',\n          term2Marks: subject.term2Marks || '',\n          term3Marks: subject.term3Marks || ''\n        }));\n        setSubjects(subjectsData);\n        \n        // Update used subjects\n        const usedSubjectsSet = new Set(subjectsData.map(s => s.subjectName).filter(name => name));\n        setUsedSubjects(usedSubjectsSet);\n      }\n    }\n  }, [isEditMode, editData]);\n\n  return (\n    <div className=\"container\">\n\n      {/* Page Content */}\n      <div className=\"container\">\n        <div className=\"page-header\">\n          <h2>{isEditMode ? 'Edit Report Card Data' : 'Report Card Data Entry'}</h2>\n          <p>Enter student report card information for the academic year</p>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div style={{\n            background: '#ffebee',\n            border: '1px solid #f44336',\n            borderRadius: '5px',\n            padding: '15px',\n            marginBottom: '20px',\n            color: '#c62828'\n          }}>\n            <strong>Error:</strong> {error}\n          </div>\n        )}\n\n        {/* Success Display */}\n        {success && (\n          <div style={{\n            background: '#e8f5e8',\n            border: '1px solid #4CAF50',\n            borderRadius: '5px',\n            padding: '15px',\n            marginBottom: '20px',\n            color: '#2e7d32'\n          }}>\n            <strong>Success:</strong> {success}\n          </div>\n        )}\n\n        {/* Form Container */}\n        <div className=\"form-container\">\n          <form id=\"reportCardForm\" onSubmit={submitForm}>\n            {/* Student Information Section */}\n            <div className=\"form-section\">\n              <h3 className=\"form-section-title\">Student Information</h3>\n              \n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"studentId\">Student ID *</label>\n                  <input \n                    type=\"text\" \n                    id=\"studentId\" \n                    name=\"studentId\" \n                    value={formData.studentId}\n                    onChange={handleInputChange}\n                    required \n                  />\n                  {/* Inline lookup status for student ID autofill */}\n                  <div style={{ marginTop: '6px', minHeight: '18px' }}>\n                    {studentLookupStatus === 'loading' && (\n                      <small style={{ color: '#0b74a6' }}>Looking up student...</small>\n                    )}\n                    {studentLookupStatus === 'found' && (\n                      <small style={{ color: '#2e7d32' }}>Student found and name autofilled</small>\n                    )}\n                    {studentLookupStatus === 'not-found' && (\n                      <small style={{ color: '#c62828' }}>Student not found</small>\n                    )}\n                    {studentLookupStatus === 'error' && (\n                      <small style={{ color: '#c62828' }}>Lookup error  check server</small>\n                    )}\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"studentName\">Student Name *</label>\n                  <input \n                    type=\"text\" \n                    id=\"studentName\" \n                    name=\"studentName\" \n                    value={formData.studentName}\n                    onChange={handleInputChange}\n                    required \n                  />\n                </div>\n              </div>\n              \n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"grade\">Class Level *</label>\n                  <select \n                    id=\"grade\" \n                    name=\"grade\" \n                    value={formData.grade}\n                    onChange={handleClassLevelChange}\n                    required\n                  >\n                    <option value=\"\">Select Class</option>\n                    <option value=\"1\">Class 1</option>\n                    <option value=\"2\">Class 2</option>\n                    <option value=\"3\">Class 3</option>\n                    <option value=\"4\">Class 4</option>\n                    <option value=\"5\">Class 5</option>\n                    <option value=\"6\">Class 6</option>\n                    <option value=\"7\">Class 7</option>\n                    <option value=\"8\">Class 8</option>\n                    <option value=\"9\">Class 9</option>\n                    <option value=\"10\">Class 10</option>\n                    <option value=\"11\">Class 11</option>\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"class\">Class</label>\n                  <select \n                    id=\"class\" \n                    name=\"class\" \n                    value={formData.class}\n                    onChange={handleInputChange}\n                    required\n                  >\n                    <option value=\"\">Select Class</option>\n                    <option value=\"A\">A</option>\n                    <option value=\"B\">B</option>\n                    <option value=\"C\">C</option>\n                  </select>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"academicYear\">Academic Year *</label>\n                  <input \n                    type=\"number\" \n                    id=\"academicYear\" \n                    name=\"academicYear\" \n                    value={formData.academicYear}\n                    onChange={handleInputChange}\n                    min=\"2020\"\n                    max=\"2030\"\n                    required \n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Subject Marks Section */}\n            <div className=\"form-section\">\n              <h3 className=\"form-section-title\">Subject Marks</h3>\n              \n              <table className=\"subjects-table\" id=\"subjectsTable\">\n                <thead>\n                  <tr>\n                    <th>Subject Name</th>\n                    <th>Term 1 Marks (0-100)</th>\n                    <th>Term 2 Marks (0-100)</th>\n                    <th>Term 3 Marks (0-100)</th>\n                    <th className=\"subject-actions\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody id=\"subjectsBody\">\n                  {subjects.length > 0 ? subjects.map((subject) => (\n                    <tr key={subject.id}>\n                      <td>\n                        <select\n                          value={subject.subjectName}\n                          onChange={(e) => handleSubjectNameChange(subject.id, subject.subjectName, e.target.value)}\n                          required\n                        >\n                          <option value=\"\">Select Subject</option>\n                          {formData.grade && subjectsByLevel[formData.grade] ? \n                            subjectsByLevel[formData.grade].map(subjectOption => (\n                              <option \n                                key={subjectOption} \n                                value={subjectOption}\n                                disabled={usedSubjects.has(subjectOption) && subjectOption !== subject.subjectName}\n                              >\n                                {subjectOption}\n                              </option>\n                            )) : (\n                              <option value=\"\" disabled>Please select a class level first</option>\n                            )\n                          }\n                        </select>\n                      </td>\n                      <td>\n                        <input\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"100\"\n                          value={subject.term1Marks}\n                          onChange={(e) => updateSubject(subject.id, 'term1Marks', e.target.value)}\n                        />\n                      </td>\n                      <td>\n                        <input\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"100\"\n                          value={subject.term2Marks}\n                          onChange={(e) => updateSubject(subject.id, 'term2Marks', e.target.value)}\n                        />\n                      </td>\n                      <td>\n                        <input\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"100\"\n                          value={subject.term3Marks}\n                          onChange={(e) => updateSubject(subject.id, 'term3Marks', e.target.value)}\n                        />\n                      </td>\n                      <td className=\"subject-actions\">\n                        <button\n                          type=\"button\"\n                          className={`btn ${subjects.length <= 1 ? 'btn-secondary' : 'btn-danger'}`}\n                          onClick={() => removeSubjectRow(subject.id, subject.subjectName)}\n                          title={subjects.length <= 1 ? 'At least one subject row is required' : 'Remove this subject'}\n                          disabled={subjects.length <= 1}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  )) : (\n                    <tr>\n                      <td colSpan=\"5\" style={{ textAlign: 'center', padding: '20px', color: '#666' }}>\n                        No subjects added yet. Click \"Add Subject\" to get started.\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n              \n              <div style={{textAlign: 'center', marginTop: '20px'}}>\n                <button \n                  type=\"button\" \n                  className=\"btn btn-primary\" \n                  onClick={() => addSubjectRow()}\n                >\n                  <i className=\"fas fa-plus\"></i> Add Subject\n                </button>\n              </div>\n            </div>\n\n            {/* Teacher Comments Section */}\n            <div className=\"form-section\">\n              <h3 className=\"form-section-title\">Teacher Comments</h3>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"teacherComments\">Comments & Feedback</label>\n                <textarea \n                  id=\"teacherComments\" \n                  name=\"teacherComments\" \n                  value={formData.teacherComments}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter teacher comments and feedback for the student...\"\n                />\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"action-buttons\">\n              <button \n                type=\"button\" \n                className=\"btn btn-danger\" \n                onClick={() => {\n                  if (window.confirm('Are you sure you want to reset the form? All data will be lost.')) {\n                    resetForm();\n                  }\n                }}\n              >\n                Reset Form\n              </button>\n              {isEditMode && (\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary\" \n                  onClick={() => navigate('/report-card')}\n                  style={{ marginRight: '10px' }}\n                >\n                  Cancel Edit\n                </button>\n              )}\n              <button \n                type=\"submit\" \n                className=\"btn btn-success\" \n                id=\"submitBtn\"\n                disabled={loading}\n              >\n                {loading ? 'Submitting...' : (isEditMode ? 'Update Report Card' : 'Submit Report Card')}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default ReportData;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}