{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/App.js\nimport './App.css';\nimport './theme.css';\nimport React from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport Home from \"./Components/Home/Home\";\nimport Login from \"./Components/Login/Login\";\nimport Profile from \"./Components/Profile/Profile\";\nimport OtpVerification from \"./Components/OtpVerification/OtpVerification\";\nimport ResetPassword from \"./Components/ResetPassword/ResetPassword\";\nimport ForgotPassword from \"./Components/ForgotPassword/ForgotPassword\";\nimport ResetPasswordViaEmail from \"./Components/ResetPasswordViaEmail/ResetPasswordViaEmail\";\nimport AdminDashboard from \"./Components/AdminDashboard/AdminDashboard\";\nimport CreateNoticeAdmin from './Components/CreateNotices/Admin/CreateNoticeAdmin';\nimport CreateNoticeTeacher from './Components/CreateNotices/Teachers/CreateNoticeTeacher';\nimport DirectMessages from './Components/DirectMessages/DirectMessages';\nimport DisplayNotices from './Components/DisplayNotices/DisplayNotices';\nimport UpdateNoticeAdmin from './Components/UpdateNotices/Admin/UpdateNoticeAdmin';\nimport UpdateNoticeTeacher from './Components/UpdateNotices/Teachers/UpdateNoticeTeacher';\nimport TimeTableHallArrangement from './Components/TimeTableHallArrangement/TimeTableHallArrangement';\nimport ReportCard from './Components/ReportCard/ReportCard';\nimport ReportCardView from './Components/ReportCardView/ReportCardView';\nimport ProgressAnalysis from './Components/ProgressAnalysis/ProgressAnalysis';\nimport ReportData from './Components/ReportData/ReportData';\nimport TimeTableDataEntry from './Components/TimeTableHallArrangementData/TimeTableDataEntry';\nimport ShuttleServices from './Components/ShuttleServices/ShuttleServices';\nimport Students from './Components/AttendanceManagement/Students';\nimport Attendance from './Components/AttendanceManagement/Attendance';\nimport AttendanceRecords from './Components/AttendanceManagement/AttendanceRecords';\nimport { api } from \"./utils/api\";\n\n// ‚úÖ Enhanced guard: checks token in localStorage and validates it\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RequireAuth({\n  children\n}) {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [authChecked, setAuthChecked] = React.useState(false);\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      // First check: Is there a token?\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        console.log('‚ùå No token found');\n        setIsAuthenticated(false);\n        setIsLoading(false);\n        setAuthChecked(true);\n        return;\n      }\n      try {\n        // Second check: Is the token valid with backend?\n        const response = await api('/auth/me', {\n          method: 'GET'\n        });\n        if (response && response.user) {\n          console.log('‚úÖ Valid authentication');\n          setIsAuthenticated(true);\n        } else {\n          console.log('‚ùå Invalid response from backend');\n          localStorage.removeItem(\"token\");\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        console.log('‚ùå Backend authentication failed:', error.message);\n\n        // If it's a network error, show a message about backend not running\n        if (error.message.includes('Network error') || error.message.includes('fetch')) {\n          console.log('üîß Backend appears to be down');\n        }\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n        setAuthChecked(true);\n      }\n    };\n    checkAuth();\n  }, []);\n\n  // Show loading while checking authentication\n  if (isLoading || !authChecked) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-spinner fa-spin\",\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), \"Verifying authentication...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If not authenticated, show access denied message and redirect\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#d32f2f',\n        flexDirection: 'column',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-lock\",\n          style: {\n            marginRight: '10px',\n            fontSize: '24px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            marginTop: '5px',\n            color: '#666'\n          },\n          children: \"Please log in to access this page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If authenticated, render the protected component\n  console.log('‚úÖ Access granted');\n  return children;\n}\n\n// Guard for OTP stage: checks if otpPending flag exists\n_s(RequireAuth, \"BBtGDE5qM6nHof8mKulbbq01olI=\");\n_c = RequireAuth;\nfunction RequireOtp({\n  children\n}) {\n  const otpPending = typeof window !== \"undefined\" ? localStorage.getItem(\"otpPending\") : null;\n  return otpPending ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 34\n  }, this);\n}\n_c2 = RequireOtp;\nexport default function App() {\n  _s2();\n  // Global authentication state\n  const [globalAuth, setGlobalAuth] = React.useState({\n    isChecking: true,\n    isAuthenticated: false\n  });\n\n  // Check authentication on app load\n  React.useEffect(() => {\n    const checkGlobalAuth = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setGlobalAuth({\n          isChecking: false,\n          isAuthenticated: false\n        });\n        return;\n      }\n      try {\n        const response = await api('/auth/me', {\n          method: 'GET'\n        });\n        if (response && response.user) {\n          setGlobalAuth({\n            isChecking: false,\n            isAuthenticated: true\n          });\n        } else {\n          localStorage.removeItem(\"token\");\n          setGlobalAuth({\n            isChecking: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        localStorage.removeItem(\"token\");\n        setGlobalAuth({\n          isChecking: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    checkGlobalAuth();\n  }, []);\n\n  // Show loading screen while checking global auth\n  if (globalAuth.isChecking) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-spinner fa-spin\",\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), \"Initializing Smart Alert...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/forgot-password\",\n        element: /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/reset-password\",\n        element: /*#__PURE__*/_jsxDEV(ResetPasswordViaEmail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/verify-otp\",\n        element: /*#__PURE__*/_jsxDEV(RequireOtp, {\n          children: /*#__PURE__*/_jsxDEV(OtpVerification, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile/:userId\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/change-password\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-dashboard\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-create-notice\",\n        element: /*#__PURE__*/_jsxDEV(CreateNoticeAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/teacher-create-notice\",\n        element: /*#__PURE__*/_jsxDEV(CreateNoticeTeacher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/direct-message-teacher\",\n        element: /*#__PURE__*/_jsxDEV(DirectMessages, {\n          userType: \"teacher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/direct-message-parent\",\n        element: /*#__PURE__*/_jsxDEV(DirectMessages, {\n          userType: \"parent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/display-notices\",\n        element: /*#__PURE__*/_jsxDEV(DisplayNotices, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/update-admin-notices\",\n        element: /*#__PURE__*/_jsxDEV(UpdateNoticeAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 54\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/update-teacher-notices\",\n        element: /*#__PURE__*/_jsxDEV(UpdateNoticeTeacher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/timetable\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(TimeTableHallArrangement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-card\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportCard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-card/:studentId\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportCardView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/progress-analysis\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ProgressAnalysis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-data\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportData, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/timetable-data-entry\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(TimeTableDataEntry, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shuttle-services\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ShuttleServices, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/students\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Students, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/attendance\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Attendance, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/records\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(AttendanceRecords, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"yvXxhV7fFzVwpqY8+UnqQdgSUIg=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"RequireAuth\");\n$RefreshReg$(_c2, \"RequireOtp\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","Home","Login","Profile","OtpVerification","ResetPassword","ForgotPassword","ResetPasswordViaEmail","AdminDashboard","CreateNoticeAdmin","CreateNoticeTeacher","DirectMessages","DisplayNotices","UpdateNoticeAdmin","UpdateNoticeTeacher","TimeTableHallArrangement","ReportCard","ReportCardView","ProgressAnalysis","ReportData","TimeTableDataEntry","ShuttleServices","Students","Attendance","AttendanceRecords","api","jsxDEV","_jsxDEV","RequireAuth","children","_s","isAuthenticated","setIsAuthenticated","useState","isLoading","setIsLoading","authChecked","setAuthChecked","useEffect","checkAuth","token","localStorage","getItem","console","log","response","method","user","removeItem","error","message","includes","style","display","justifyContent","alignItems","height","fontSize","color","flexDirection","className","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginTop","to","replace","_c","RequireOtp","otpPending","window","_c2","App","_s2","globalAuth","setGlobalAuth","isChecking","checkGlobalAuth","path","element","userType","_c3","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport './App.css';\nimport './theme.css';\nimport React from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport Home from \"./Components/Home/Home\";\nimport Login from \"./Components/Login/Login\";\nimport Profile from \"./Components/Profile/Profile\";\nimport OtpVerification from \"./Components/OtpVerification/OtpVerification\";\nimport ResetPassword from \"./Components/ResetPassword/ResetPassword\";\nimport ForgotPassword from \"./Components/ForgotPassword/ForgotPassword\";\nimport ResetPasswordViaEmail from \"./Components/ResetPasswordViaEmail/ResetPasswordViaEmail\";\nimport AdminDashboard from \"./Components/AdminDashboard/AdminDashboard\";\nimport CreateNoticeAdmin from './Components/CreateNotices/Admin/CreateNoticeAdmin';\nimport CreateNoticeTeacher from './Components/CreateNotices/Teachers/CreateNoticeTeacher';\nimport DirectMessages from './Components/DirectMessages/DirectMessages';\nimport DisplayNotices from './Components/DisplayNotices/DisplayNotices';\nimport UpdateNoticeAdmin from './Components/UpdateNotices/Admin/UpdateNoticeAdmin';\nimport UpdateNoticeTeacher from './Components/UpdateNotices/Teachers/UpdateNoticeTeacher';\nimport TimeTableHallArrangement from './Components/TimeTableHallArrangement/TimeTableHallArrangement';\nimport ReportCard from './Components/ReportCard/ReportCard';\nimport ReportCardView from './Components/ReportCardView/ReportCardView';\nimport ProgressAnalysis from './Components/ProgressAnalysis/ProgressAnalysis';\nimport ReportData from './Components/ReportData/ReportData';\nimport TimeTableDataEntry from './Components/TimeTableHallArrangementData/TimeTableDataEntry';\nimport ShuttleServices from './Components/ShuttleServices/ShuttleServices';\nimport Students from './Components/AttendanceManagement/Students';\nimport Attendance from './Components/AttendanceManagement/Attendance';\nimport AttendanceRecords from './Components/AttendanceManagement/AttendanceRecords';\nimport { api } from \"./utils/api\";\n\n// ‚úÖ Enhanced guard: checks token in localStorage and validates it\nfunction RequireAuth({ children }) {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [authChecked, setAuthChecked] = React.useState(false);\n\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      // First check: Is there a token?\n      const token = localStorage.getItem(\"token\");\n      \n      if (!token) {\n        console.log('‚ùå No token found');\n        setIsAuthenticated(false);\n        setIsLoading(false);\n        setAuthChecked(true);\n        return;\n      }\n\n      try {\n        // Second check: Is the token valid with backend?\n        const response = await api('/auth/me', { method: 'GET' });\n        \n        if (response && response.user) {\n          console.log('‚úÖ Valid authentication');\n          setIsAuthenticated(true);\n        } else {\n          console.log('‚ùå Invalid response from backend');\n          localStorage.removeItem(\"token\");\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        console.log('‚ùå Backend authentication failed:', error.message);\n        \n        // If it's a network error, show a message about backend not running\n        if (error.message.includes('Network error') || error.message.includes('fetch')) {\n          console.log('üîß Backend appears to be down');\n        }\n        \n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n        setAuthChecked(true);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  // Show loading while checking authentication\n  if (isLoading || !authChecked) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      }}>\n        <div>\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\n          Verifying authentication...\n        </div>\n      </div>\n    );\n  }\n\n  // If not authenticated, show access denied message and redirect\n  if (!isAuthenticated) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#d32f2f',\n        flexDirection: 'column',\n        textAlign: 'center'\n      }}>\n        <div>\n          <i className=\"fas fa-lock\" style={{ marginRight: '10px', fontSize: '24px' }}></i>\n          <div style={{ marginTop: '10px' }}>Access Denied</div>\n          <div style={{ fontSize: '14px', marginTop: '5px', color: '#666' }}>\n            Please log in to access this page\n          </div>\n        </div>\n        <Navigate to=\"/login\" replace />\n      </div>\n    );\n  }\n\n  // If authenticated, render the protected component\n  console.log('‚úÖ Access granted');\n  return children;\n}\n\n// Guard for OTP stage: checks if otpPending flag exists\nfunction RequireOtp({ children }) {\n  const otpPending = typeof window !== \"undefined\" ? localStorage.getItem(\"otpPending\") : null;\n  return otpPending ? children : <Navigate to=\"/login\" replace />;\n}\n\nexport default function App() {\n  // Global authentication state\n  const [globalAuth, setGlobalAuth] = React.useState({\n    isChecking: true,\n    isAuthenticated: false\n  });\n\n  // Check authentication on app load\n  React.useEffect(() => {\n    const checkGlobalAuth = async () => {\n      const token = localStorage.getItem(\"token\");\n      \n      if (!token) {\n        setGlobalAuth({ isChecking: false, isAuthenticated: false });\n        return;\n      }\n\n      try {\n        const response = await api('/auth/me', { method: 'GET' });\n        if (response && response.user) {\n          setGlobalAuth({ isChecking: false, isAuthenticated: true });\n        } else {\n          localStorage.removeItem(\"token\");\n          setGlobalAuth({ isChecking: false, isAuthenticated: false });\n        }\n      } catch (error) {\n        localStorage.removeItem(\"token\");\n        setGlobalAuth({ isChecking: false, isAuthenticated: false });\n      }\n    };\n\n    checkGlobalAuth();\n  }, []);\n\n  // Show loading screen while checking global auth\n  if (globalAuth.isChecking) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      }}>\n        <div>\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\n          Initializing Smart Alert...\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        {/* Home Page (only if logged in) */}\n        <Route\n          path=\"/\"\n          element={\n            <RequireAuth>\n              <Home />\n            </RequireAuth>\n          }\n        />\n        \n        \n        {/* Login Page */}\n        <Route path=\"/login\" element={<Login />} />\n\n        {/* Forgot Password Page */}\n        <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n\n        {/* Reset Password via Email Page */}\n        <Route path=\"/reset-password\" element={<ResetPasswordViaEmail />} />\n\n        {/* OTP Verification Page (only if otpPending is true) */}\n        <Route\n          path=\"/verify-otp\"\n          element={\n            <RequireOtp>\n              <OtpVerification />\n            </RequireOtp>\n          }\n        />\n\n        {/* Profile Page (only if logged in) */}\n        <Route\n          path=\"/profile\"\n          element={\n            <RequireAuth>\n              <Profile />\n            </RequireAuth>\n          }\n        />\n\n        {/* Profile Page with User ID (for admin viewing other users) */}\n        <Route\n          path=\"/profile/:userId\"\n          element={\n            <RequireAuth>\n              <Profile />\n            </RequireAuth>\n          }\n        />\n\n        {/* Change Password Page (only if logged in) */}\n        <Route\n          path=\"/change-password\"\n          element={\n            <RequireAuth>\n              <ResetPassword />\n            </RequireAuth>\n          }\n        />\n\n        {/* Admin Dashboard Page (only if logged in) */}\n        <Route\n          path=\"/admin-dashboard\"\n          element={\n            <RequireAuth>\n              <AdminDashboard />\n            </RequireAuth>\n          }\n        />\n\n        {/* Notice Management Routes */}\n        <Route path=\"/admin-create-notice\" element={<CreateNoticeAdmin />} />\n        <Route path=\"/teacher-create-notice\" element={<CreateNoticeTeacher />} />\n        <Route path=\"/direct-message-teacher\" element={<DirectMessages userType=\"teacher\" />} />\n        <Route path=\"/direct-message-parent\" element={<DirectMessages userType=\"parent\" />} />\n        <Route path=\"/display-notices\" element={<DisplayNotices />} />\n        <Route path=\"/update-admin-notices\" element={<UpdateNoticeAdmin />} />\n        <Route path=\"/update-teacher-notices\" element={<UpdateNoticeTeacher />} />\n\n        {/* Examination Management Routes */}\n        <Route \n          path=\"/timetable\" \n          element={\n            <RequireAuth>\n              <TimeTableHallArrangement />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-card\" \n          element={\n            <RequireAuth>\n              <ReportCard />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-card/:studentId\" \n          element={\n            <RequireAuth>\n              <ReportCardView />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/progress-analysis\" \n          element={\n            <RequireAuth>\n              <ProgressAnalysis />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-data\" \n          element={\n            <RequireAuth>\n              <ReportData />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/timetable-data-entry\" \n          element={\n            <RequireAuth>\n              <TimeTableDataEntry />\n            </RequireAuth>\n          } \n        />\n\n        {/* Shuttle Services Management Routes */}\n        <Route \n          path=\"/shuttle-services\" \n          element={\n            <RequireAuth>\n              <ShuttleServices />\n            </RequireAuth>\n          } \n        />\n\n        {/* Attendance Management Routes */}\n        <Route \n          path=\"/students\" \n          element={\n            <RequireAuth>\n              <Students />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/attendance\" \n          element={\n            <RequireAuth>\n              <Attendance />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/records\" \n          element={\n            <RequireAuth>\n              <AttendanceRecords />\n            </RequireAuth>\n          } \n        />\n\n        {/* Default ‚Üí Redirect to home (will redirect to login if not authenticated) */}\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}