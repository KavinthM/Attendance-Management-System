{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/pages/AddStudent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Layout from \"../Components/Layout\";\nimport StudentForm from \"../Components/StudentForm\";\nimport { addStudent } from \"../api/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddStudent = () => {\n  _s();\n  const navigate = useNavigate();\n  const [adding, setAdding] = useState(false);\n  const handleAdd = async (payload, reset) => {\n    setAdding(true);\n    try {\n      await addStudent(payload);\n      // Ensure we navigate back to list to see the update\n      navigate(\"/students\");\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to add student\");\n    } finally {\n      setAdding(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-slate-900\",\n            children: \"Register Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-500 mt-1\",\n            children: \"Add a new student to the system\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/students\",\n          className: \"btn-secondary self-start md:self-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-arrow-left mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), \" Back to List\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StudentForm, {\n        onSubmit: handleAdd,\n        submitting: adding\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n_s(AddStudent, \"fHNRwAQg/3WKMpLizv6mu+BwmD8=\", false, function () {\n  return [useNavigate];\n});\n_c = AddStudent;\nexport default AddStudent;\nvar _c;\n$RefreshReg$(_c, \"AddStudent\");","map":{"version":3,"names":["React","useState","Link","useNavigate","Layout","StudentForm","addStudent","jsxDEV","_jsxDEV","AddStudent","_s","navigate","adding","setAdding","handleAdd","payload","reset","e","_e$response","_e$response$data","alert","response","data","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","submitting","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/pages/AddStudent.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Layout from \"../Components/Layout\";\nimport StudentForm from \"../Components/StudentForm\";\nimport { addStudent } from \"../api/client\";\n\nconst AddStudent = () => {\n    const navigate = useNavigate();\n    const [adding, setAdding] = useState(false);\n\n    const handleAdd = async (payload, reset) => {\n        setAdding(true);\n        try {\n            await addStudent(payload);\n            // Ensure we navigate back to list to see the update\n            navigate(\"/students\");\n        } catch (e) {\n            alert(e?.response?.data?.message || \"Failed to add student\");\n        } finally {\n            setAdding(false);\n        }\n    };\n\n    return (\n        <Layout>\n            <div className=\"max-w-4xl mx-auto\">\n                <div className=\"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-slate-900\">Register Student</h1>\n                        <p className=\"text-slate-500 mt-1\">Add a new student to the system</p>\n                    </div>\n                    <Link to=\"/students\" className=\"btn-secondary self-start md:self-auto\">\n                        <i className=\"fa-solid fa-arrow-left mr-2\"></i> Back to List\n                    </Link>\n                </div>\n\n                <StudentForm onSubmit={handleAdd} submitting={adding} />\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddStudent;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,UAAU,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE3C,MAAMa,SAAS,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,KAAK;IACxCH,SAAS,CAAC,IAAI,CAAC;IACf,IAAI;MACA,MAAMP,UAAU,CAACS,OAAO,CAAC;MACzB;MACAJ,QAAQ,CAAC,WAAW,CAAC;IACzB,CAAC,CAAC,OAAOM,CAAC,EAAE;MAAA,IAAAC,WAAA,EAAAC,gBAAA;MACRC,KAAK,CAAC,CAAAH,CAAC,aAADA,CAAC,wBAAAC,WAAA,GAADD,CAAC,CAAEI,QAAQ,cAAAH,WAAA,wBAAAC,gBAAA,GAAXD,WAAA,CAAaI,IAAI,cAAAH,gBAAA,uBAAjBA,gBAAA,CAAmBI,OAAO,KAAI,uBAAuB,CAAC;IAChE,CAAC,SAAS;MACNV,SAAS,CAAC,KAAK,CAAC;IACpB;EACJ,CAAC;EAED,oBACIL,OAAA,CAACJ,MAAM;IAAAoB,QAAA,eACHhB,OAAA;MAAKiB,SAAS,EAAC,mBAAmB;MAAAD,QAAA,gBAC9BhB,OAAA;QAAKiB,SAAS,EAAC,sEAAsE;QAAAD,QAAA,gBACjFhB,OAAA;UAAAgB,QAAA,gBACIhB,OAAA;YAAIiB,SAAS,EAAC,mCAAmC;YAAAD,QAAA,EAAC;UAAgB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvErB,OAAA;YAAGiB,SAAS,EAAC,qBAAqB;YAAAD,QAAA,EAAC;UAA+B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eACNrB,OAAA,CAACN,IAAI;UAAC4B,EAAE,EAAC,WAAW;UAACL,SAAS,EAAC,uCAAuC;UAAAD,QAAA,gBAClEhB,OAAA;YAAGiB,SAAS,EAAC;UAA6B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,iBACnD;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENrB,OAAA,CAACH,WAAW;QAAC0B,QAAQ,EAAEjB,SAAU;QAACkB,UAAU,EAAEpB;MAAO;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEjB,CAAC;AAACnB,EAAA,CAlCID,UAAU;EAAA,QACKN,WAAW;AAAA;AAAA8B,EAAA,GAD1BxB,UAAU;AAoChB,eAAeA,UAAU;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}