{"ast":null,"code":"import axios from\"axios\";const baseURL=process.env.REACT_APP_API_BASE_URL||\"http://localhost:5001\";export const api=axios.create({baseURL,headers:{\"Content-Type\":\"application/json\"}});// Students\nexport const getStudents=()=>api.get(\"/students\");export const addStudent=payload=>api.post(\"/students\",payload);export const updateStudent=(id,payload)=>api.put(\"/students/\".concat(id),payload);export const deleteStudent=idOrIndex=>api.delete(\"/students/\".concat(idOrIndex));// Attendance\nexport const getAllAttendance=()=>api.get(\"/attendance\");export const markAttendance=payload=>api.post(\"/attendance\",payload);export const updateAttendance=(id,payload)=>api.put(\"/attendance/\".concat(id),payload);export const deleteAttendance=id=>api.delete(\"/attendance/\".concat(id));export const getAttendanceByStudent=idOrIndex=>api.get(\"/attendance/\".concat(idOrIndex));// Notify parents for Absent/Late (WhatsApp)\nexport const notifyParentsForAbsents=items=>api.post(\"/attendance/notify-parents\",{items});// Parent View - Get attendance by student index\nexport const getAttendanceByStudentIndex=studentIndex=>api.post(\"/attendance/parent-view\",{studentIndex});// Leave Requests\nexport const submitLeaveRequest=payload=>api.post(\"/leave-requests\",payload);export const getAllLeaveRequests=status=>api.get(\"/leave-requests\",{params:{status}});export const getPendingLeaveCount=()=>api.get(\"/leave-requests/pending-count\");export const getAcceptedLeave=(studentIndex,date)=>api.get(\"/leave-requests/accepted-leave\",{params:{studentIndex,date}});export const getAcceptedLeavesForDate=date=>api.get(\"/leave-requests/accepted-for-date\",{params:{date}});export const acceptLeaveRequest=(id,reviewedBy)=>api.put(\"/leave-requests/\".concat(id,\"/accept\"),{reviewedBy});export const rejectLeaveRequest=(id,reviewedBy,rejectionReason)=>api.put(\"/leave-requests/\".concat(id,\"/reject\"),{reviewedBy,rejectionReason});export const deleteAllPendingRequests=()=>api.delete(\"/leave-requests/pending/all\");// Notifications\nexport const getNotificationsByStudentIndex=studentIndex=>api.get(\"/notifications/student\",{params:{studentIndex}});export const getUnreadNotificationCount=studentIndex=>api.get(\"/notifications/unread-count\",{params:{studentIndex}});export const markNotificationAsRead=id=>api.put(\"/notifications/\".concat(id,\"/read\"));export const markAllNotificationsAsRead=studentIndex=>api.put(\"/notifications/mark-all-read\",{studentIndex});// Reports\nexport const generateAttendanceReport=params=>api.get(\"/reports/attendance\",{params,responseType:'blob'});export const generateMonthlyReport=params=>api.get(\"/reports/monthly\",{params,responseType:'blob'});export const generateStudentReport=params=>api.get(\"/reports/student\",{params,responseType:'blob'});export const generateFilteredReport=payload=>api.post(\"/reports/generate\",payload,{responseType:'blob'});export const getAvailableSections=()=>api.get(\"/reports/sections\");","map":{"version":3,"names":["axios","baseURL","process","env","REACT_APP_API_BASE_URL","api","create","headers","getStudents","get","addStudent","payload","post","updateStudent","id","put","concat","deleteStudent","idOrIndex","delete","getAllAttendance","markAttendance","updateAttendance","deleteAttendance","getAttendanceByStudent","notifyParentsForAbsents","items","getAttendanceByStudentIndex","studentIndex","submitLeaveRequest","getAllLeaveRequests","status","params","getPendingLeaveCount","getAcceptedLeave","date","getAcceptedLeavesForDate","acceptLeaveRequest","reviewedBy","rejectLeaveRequest","rejectionReason","deleteAllPendingRequests","getNotificationsByStudentIndex","getUnreadNotificationCount","markNotificationAsRead","markAllNotificationsAsRead","generateAttendanceReport","responseType","generateMonthlyReport","generateStudentReport","generateFilteredReport","getAvailableSections"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/api/client.js"],"sourcesContent":["import axios from \"axios\";\n\nconst baseURL = process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\";\n\nexport const api = axios.create({\n  baseURL,\n  headers: { \"Content-Type\": \"application/json\" }\n});\n\n// Students\nexport const getStudents = () => api.get(\"/students\");\nexport const addStudent = (payload) => api.post(\"/students\", payload);\nexport const updateStudent = (id, payload) => api.put(`/students/${id}`, payload);\nexport const deleteStudent = (idOrIndex) => api.delete(`/students/${idOrIndex}`);\n\n// Attendance\nexport const getAllAttendance = () => api.get(\"/attendance\");\nexport const markAttendance = (payload) => api.post(\"/attendance\", payload);\nexport const updateAttendance = (id, payload) => api.put(`/attendance/${id}`, payload);\nexport const deleteAttendance = (id) => api.delete(`/attendance/${id}`);\nexport const getAttendanceByStudent = (idOrIndex) => api.get(`/attendance/${idOrIndex}`);\n\n// Notify parents for Absent/Late (WhatsApp)\nexport const notifyParentsForAbsents = (items) => api.post(\"/attendance/notify-parents\", { items });\n\n// Parent View - Get attendance by student index\nexport const getAttendanceByStudentIndex = (studentIndex) => api.post(\"/attendance/parent-view\", { studentIndex });\n\n// Leave Requests\nexport const submitLeaveRequest = (payload) => api.post(\"/leave-requests\", payload);\nexport const getAllLeaveRequests = (status) => api.get(\"/leave-requests\", { params: { status } });\nexport const getPendingLeaveCount = () => api.get(\"/leave-requests/pending-count\");\nexport const getAcceptedLeave = (studentIndex, date) => api.get(\"/leave-requests/accepted-leave\", { params: { studentIndex, date } });\nexport const getAcceptedLeavesForDate = (date) => api.get(\"/leave-requests/accepted-for-date\", { params: { date } });\nexport const acceptLeaveRequest = (id, reviewedBy) => api.put(`/leave-requests/${id}/accept`, { reviewedBy });\nexport const rejectLeaveRequest = (id, reviewedBy, rejectionReason) => api.put(`/leave-requests/${id}/reject`, { reviewedBy, rejectionReason });\nexport const deleteAllPendingRequests = () => api.delete(\"/leave-requests/pending/all\");\n\n// Notifications\nexport const getNotificationsByStudentIndex = (studentIndex) => api.get(\"/notifications/student\", { params: { studentIndex } });\nexport const getUnreadNotificationCount = (studentIndex) => api.get(\"/notifications/unread-count\", { params: { studentIndex } });\nexport const markNotificationAsRead = (id) => api.put(`/notifications/${id}/read`);\nexport const markAllNotificationsAsRead = (studentIndex) => api.put(\"/notifications/mark-all-read\", { studentIndex });\n\n// Reports\nexport const generateAttendanceReport = (params) => api.get(\"/reports/attendance\", { params, responseType: 'blob' });\nexport const generateMonthlyReport = (params) => api.get(\"/reports/monthly\", { params, responseType: 'blob' });\nexport const generateStudentReport = (params) => api.get(\"/reports/student\", { params, responseType: 'blob' });\nexport const generateFilteredReport = (payload) => api.post(\"/reports/generate\", payload, { responseType: 'blob' });\nexport const getAvailableSections = () => api.get(\"/reports/sections\");\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}