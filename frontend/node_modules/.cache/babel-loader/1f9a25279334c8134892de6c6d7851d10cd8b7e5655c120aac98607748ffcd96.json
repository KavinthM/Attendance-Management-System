{"ast":null,"code":"// @ts-check\nimport { Block } from '../../abstract/Block.js';\nimport { browserFeatures } from '../../utils/browser-info.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { deserializeCsv } from '../utils/comma-separated.js';\nexport class SourceList extends Block {\n  initCallback() {\n    super.initCallback();\n    this.subConfigValue('sourceList', (/** @type {String} */val) => {\n      let list = stringToArray(val);\n      let html = '';\n      list.forEach(srcName => {\n        if (srcName === 'instagram') {\n          console.error(\"Instagram source was removed because the Instagram Basic Display API hasn't been available since December 4, 2024. \" + 'Official statement, see here:' + 'https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/?locale=en_US');\n          return;\n        }\n        if (srcName === 'camera' && browserFeatures.htmlMediaCapture) {\n          this.subConfigValue('cameraModes', (/** @type {String} */val) => {\n            const cameraModes = deserializeCsv(val);\n            cameraModes.forEach(mode => {\n              html += /* HTML */`<uc-source-btn role=\"listitem\" type=\"mobile-${mode}-camera\"></uc-source-btn>`;\n            });\n            if (cameraModes.length === 0) {\n              html += /* HTML */`<uc-source-btn role=\"listitem\" type=\"mobile-photo-camera\"></uc-source-btn>`;\n            }\n          });\n          return;\n        }\n        html += /* HTML */`<uc-source-btn role=\"listitem\" type=\"${srcName}\"></uc-source-btn>`;\n      });\n      if (this.cfg.sourceListWrap) {\n        this.innerHTML = html;\n      } else {\n        this.outerHTML = html;\n      }\n    });\n  }\n}","map":{"version":3,"names":["Block","browserFeatures","stringToArray","deserializeCsv","SourceList","initCallback","subConfigValue","val","list","html","forEach","srcName","console","error","htmlMediaCapture","cameraModes","mode","length","cfg","sourceListWrap","innerHTML","outerHTML"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/SourceList/SourceList.js"],"sourcesContent":["// @ts-check\nimport { Block } from '../../abstract/Block.js';\nimport { browserFeatures } from '../../utils/browser-info.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { deserializeCsv } from '../utils/comma-separated.js';\n\nexport class SourceList extends Block {\n  initCallback() {\n    super.initCallback();\n\n    this.subConfigValue('sourceList', (/** @type {String} */ val) => {\n      let list = stringToArray(val);\n      let html = '';\n\n      list.forEach((srcName) => {\n        if (srcName === 'instagram') {\n          console.error(\n            \"Instagram source was removed because the Instagram Basic Display API hasn't been available since December 4, 2024. \" +\n              'Official statement, see here:' +\n              'https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/?locale=en_US',\n          );\n          return;\n        }\n\n        if (srcName === 'camera' && browserFeatures.htmlMediaCapture) {\n          this.subConfigValue('cameraModes', (/** @type {String} */ val) => {\n            const cameraModes = deserializeCsv(val);\n\n            cameraModes.forEach((mode) => {\n              html += /* HTML */ `<uc-source-btn role=\"listitem\" type=\"mobile-${mode}-camera\"></uc-source-btn>`;\n            });\n\n            if (cameraModes.length === 0) {\n              html += /* HTML */ `<uc-source-btn role=\"listitem\" type=\"mobile-photo-camera\"></uc-source-btn>`;\n            }\n          });\n\n          return;\n        }\n\n        html += /* HTML */ `<uc-source-btn role=\"listitem\" type=\"${srcName}\"></uc-source-btn>`;\n      });\n\n      if (this.cfg.sourceListWrap) {\n        this.innerHTML = html;\n      } else {\n        this.outerHTML = html;\n      }\n    });\n  }\n}\n"],"mappings":"AAAA;AACA,SAASA,KAAK,QAAQ,yBAAyB;AAC/C,SAASC,eAAe,QAAQ,6BAA6B;AAC7D,SAASC,aAAa,QAAQ,8BAA8B;AAC5D,SAASC,cAAc,QAAQ,6BAA6B;AAE5D,OAAO,MAAMC,UAAU,SAASJ,KAAK,CAAC;EACpCK,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;IAEpB,IAAI,CAACC,cAAc,CAAC,YAAY,EAAE,CAAC,qBAAsBC,GAAG,KAAK;MAC/D,IAAIC,IAAI,GAAGN,aAAa,CAACK,GAAG,CAAC;MAC7B,IAAIE,IAAI,GAAG,EAAE;MAEbD,IAAI,CAACE,OAAO,CAAEC,OAAO,IAAK;QACxB,IAAIA,OAAO,KAAK,WAAW,EAAE;UAC3BC,OAAO,CAACC,KAAK,CACX,qHAAqH,GACnH,+BAA+B,GAC/B,0GACJ,CAAC;UACD;QACF;QAEA,IAAIF,OAAO,KAAK,QAAQ,IAAIV,eAAe,CAACa,gBAAgB,EAAE;UAC5D,IAAI,CAACR,cAAc,CAAC,aAAa,EAAE,CAAC,qBAAsBC,GAAG,KAAK;YAChE,MAAMQ,WAAW,GAAGZ,cAAc,CAACI,GAAG,CAAC;YAEvCQ,WAAW,CAACL,OAAO,CAAEM,IAAI,IAAK;cAC5BP,IAAI,IAAI,UAAW,+CAA+CO,IAAI,2BAA2B;YACnG,CAAC,CAAC;YAEF,IAAID,WAAW,CAACE,MAAM,KAAK,CAAC,EAAE;cAC5BR,IAAI,IAAI,UAAW,4EAA4E;YACjG;UACF,CAAC,CAAC;UAEF;QACF;QAEAA,IAAI,IAAI,UAAW,wCAAwCE,OAAO,oBAAoB;MACxF,CAAC,CAAC;MAEF,IAAI,IAAI,CAACO,GAAG,CAACC,cAAc,EAAE;QAC3B,IAAI,CAACC,SAAS,GAAGX,IAAI;MACvB,CAAC,MAAM;QACL,IAAI,CAACY,SAAS,GAAGZ,IAAI;MACvB;IACF,CAAC,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}