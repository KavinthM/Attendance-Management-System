{"ast":null,"code":"// @ts-check\n\n/** @type {import('../../../abstract/ValidationManager.js').FuncFileValidator} */\nexport const validateIsImage = (outputEntry, api) => {\n  const imagesOnly = api.cfg.imgOnly;\n  const isImage = outputEntry.isImage;\n  if (!imagesOnly || isImage) {\n    return;\n  }\n  if (!outputEntry.fileInfo && outputEntry.externalUrl) {\n    // skip validation for not uploaded files with external url, cause we don't know if they're images or not\n    return;\n  }\n  if (!outputEntry.fileInfo && !outputEntry.mimeType) {\n    // skip validation for not uploaded files without mime-type, cause we don't know if they're images or not\n    return;\n  }\n  return {\n    type: 'NOT_AN_IMAGE',\n    message: api.l10n('images-only-accepted'),\n    payload: {\n      entry: outputEntry\n    }\n  };\n};","map":{"version":3,"names":["validateIsImage","outputEntry","api","imagesOnly","cfg","imgOnly","isImage","fileInfo","externalUrl","mimeType","type","message","l10n","payload","entry"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/utils/validators/file/validateIsImage.js"],"sourcesContent":["// @ts-check\n\n/** @type {import('../../../abstract/ValidationManager.js').FuncFileValidator} */\nexport const validateIsImage = (outputEntry, api) => {\n  const imagesOnly = api.cfg.imgOnly;\n  const isImage = outputEntry.isImage;\n\n  if (!imagesOnly || isImage) {\n    return;\n  }\n  if (!outputEntry.fileInfo && outputEntry.externalUrl) {\n    // skip validation for not uploaded files with external url, cause we don't know if they're images or not\n    return;\n  }\n  if (!outputEntry.fileInfo && !outputEntry.mimeType) {\n    // skip validation for not uploaded files without mime-type, cause we don't know if they're images or not\n    return;\n  }\n\n  return {\n    type: 'NOT_AN_IMAGE',\n    message: api.l10n('images-only-accepted'),\n    payload: { entry: outputEntry },\n  };\n};\n"],"mappings":"AAAA;;AAEA;AACA,OAAO,MAAMA,eAAe,GAAGA,CAACC,WAAW,EAAEC,GAAG,KAAK;EACnD,MAAMC,UAAU,GAAGD,GAAG,CAACE,GAAG,CAACC,OAAO;EAClC,MAAMC,OAAO,GAAGL,WAAW,CAACK,OAAO;EAEnC,IAAI,CAACH,UAAU,IAAIG,OAAO,EAAE;IAC1B;EACF;EACA,IAAI,CAACL,WAAW,CAACM,QAAQ,IAAIN,WAAW,CAACO,WAAW,EAAE;IACpD;IACA;EACF;EACA,IAAI,CAACP,WAAW,CAACM,QAAQ,IAAI,CAACN,WAAW,CAACQ,QAAQ,EAAE;IAClD;IACA;EACF;EAEA,OAAO;IACLC,IAAI,EAAE,cAAc;IACpBC,OAAO,EAAET,GAAG,CAACU,IAAI,CAAC,sBAAsB,CAAC;IACzCC,OAAO,EAAE;MAAEC,KAAK,EAAEb;IAAY;EAChC,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}