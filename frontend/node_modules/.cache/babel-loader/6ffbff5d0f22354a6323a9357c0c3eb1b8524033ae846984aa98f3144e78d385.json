{"ast":null,"code":"// @ts-check\nimport { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\nexport class FileUploaderInline extends SolutionBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-file-uploader-inline'];\n  constructor() {\n    super();\n    this.init$ = {\n      ...this.init$,\n      couldCancel: false,\n      cancel: () => {\n        if (this.couldHistoryBack) {\n          this.$['*historyBack']();\n        } else if (this.couldShowList) {\n          this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n        }\n      }\n    };\n  }\n  get couldHistoryBack() {\n    const history = this.$['*history'];\n    return history.length > 1 && history[history.length - 1] !== ActivityBlock.activities.START_FROM;\n  }\n  get couldShowList() {\n    return this.cfg.showEmptyList || this.$['*uploadList'].length > 0;\n  }\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', val => {\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n    this.sub('*uploadList', list => {\n      if (list?.length > 0 && this.$['*currentActivity'] === (uBlock.initActivity || ActivityBlock.activities.START_FROM)) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      }\n    });\n    this.sub('*history', () => {\n      this.$['couldCancel'] = this.couldHistoryBack || this.couldShowList;\n    });\n  }\n}\nFileUploaderInline.template = /* HTML */`\n  <uc-start-from>\n    <uc-drop-area with-icon clickable></uc-drop-area>\n    <uc-source-list role=\"list\" wrap></uc-source-list>\n    <button\n      type=\"button\"\n      l10n=\"start-from-cancel\"\n      class=\"uc-cancel-btn uc-secondary-btn\"\n      set=\"onclick: cancel; @hidden: !couldCancel\"\n    ></button>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list ref=\"uBlock\"></uc-upload-list>\n  <uc-camera-source></uc-camera-source>\n  <uc-url-source></uc-url-source>\n  <uc-external-source></uc-external-source>\n  <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n`;","map":{"version":3,"names":["ActivityBlock","SolutionBlock","FileUploaderInline","styleAttrs","constructor","init$","couldCancel","cancel","couldHistoryBack","$","couldShowList","activities","UPLOAD_LIST","history","length","START_FROM","cfg","showEmptyList","initCallback","uBlock","ref","sub","val","initActivity","list","template"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/solutions/file-uploader/inline/FileUploaderInline.js"],"sourcesContent":["// @ts-check\nimport { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\n\nexport class FileUploaderInline extends SolutionBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-file-uploader-inline'];\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      couldCancel: false,\n      cancel: () => {\n        if (this.couldHistoryBack) {\n          this.$['*historyBack']();\n        } else if (this.couldShowList) {\n          this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n        }\n      },\n    };\n  }\n\n  get couldHistoryBack() {\n    const history = this.$['*history'];\n    return history.length > 1 && history[history.length - 1] !== ActivityBlock.activities.START_FROM;\n  }\n\n  get couldShowList() {\n    return this.cfg.showEmptyList || this.$['*uploadList'].length > 0;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', (val) => {\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.sub('*uploadList', (list) => {\n      if (\n        list?.length > 0 &&\n        this.$['*currentActivity'] === (uBlock.initActivity || ActivityBlock.activities.START_FROM)\n      ) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      }\n    });\n\n    this.sub('*history', () => {\n      this.$['couldCancel'] = this.couldHistoryBack || this.couldShowList;\n    });\n  }\n}\n\nFileUploaderInline.template = /* HTML */ `\n  <uc-start-from>\n    <uc-drop-area with-icon clickable></uc-drop-area>\n    <uc-source-list role=\"list\" wrap></uc-source-list>\n    <button\n      type=\"button\"\n      l10n=\"start-from-cancel\"\n      class=\"uc-cancel-btn uc-secondary-btn\"\n      set=\"onclick: cancel; @hidden: !couldCancel\"\n    ></button>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list ref=\"uBlock\"></uc-upload-list>\n  <uc-camera-source></uc-camera-source>\n  <uc-url-source></uc-url-source>\n  <uc-external-source></uc-external-source>\n  <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n`;\n"],"mappings":"AAAA;AACA,SAASA,aAAa,QAAQ,oCAAoC;AAClE,SAASC,aAAa,QAAQ,oCAAoC;AAElE,OAAO,MAAMC,kBAAkB,SAASD,aAAa,CAAC;EACpD,OAAOE,UAAU,GAAG,CAAC,GAAG,KAAK,CAACA,UAAU,EAAE,yBAAyB,CAAC;EAEpEC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,KAAK,GAAG;MACX,GAAG,IAAI,CAACA,KAAK;MACbC,WAAW,EAAE,KAAK;MAClBC,MAAM,EAAEA,CAAA,KAAM;QACZ,IAAI,IAAI,CAACC,gBAAgB,EAAE;UACzB,IAAI,CAACC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;QAC1B,CAAC,MAAM,IAAI,IAAI,CAACC,aAAa,EAAE;UAC7B,IAAI,CAACD,CAAC,CAAC,kBAAkB,CAAC,GAAGT,aAAa,CAACW,UAAU,CAACC,WAAW;QACnE;MACF;IACF,CAAC;EACH;EAEA,IAAIJ,gBAAgBA,CAAA,EAAG;IACrB,MAAMK,OAAO,GAAG,IAAI,CAACJ,CAAC,CAAC,UAAU,CAAC;IAClC,OAAOI,OAAO,CAACC,MAAM,GAAG,CAAC,IAAID,OAAO,CAACA,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC,KAAKd,aAAa,CAACW,UAAU,CAACI,UAAU;EAClG;EAEA,IAAIL,aAAaA,CAAA,EAAG;IAClB,OAAO,IAAI,CAACM,GAAG,CAACC,aAAa,IAAI,IAAI,CAACR,CAAC,CAAC,aAAa,CAAC,CAACK,MAAM,GAAG,CAAC;EACnE;EAEAI,YAAYA,CAAA,EAAG;IACb,KAAK,CAACA,YAAY,CAAC,CAAC;;IAEpB;IACA,MAAMC,MAAM,GAAG,IAAI,CAACC,GAAG,CAACD,MAAM;IAC9B,IAAI,CAACE,GAAG,CAAC,kBAAkB,EAAGC,GAAG,IAAK;MACpC,IAAI,CAACA,GAAG,EAAE;QACR,IAAI,CAACb,CAAC,CAAC,kBAAkB,CAAC,GAAGU,MAAM,CAACI,YAAY,IAAIvB,aAAa,CAACW,UAAU,CAACI,UAAU;MACzF;IACF,CAAC,CAAC;IAEF,IAAI,CAACM,GAAG,CAAC,aAAa,EAAGG,IAAI,IAAK;MAChC,IACEA,IAAI,EAAEV,MAAM,GAAG,CAAC,IAChB,IAAI,CAACL,CAAC,CAAC,kBAAkB,CAAC,MAAMU,MAAM,CAACI,YAAY,IAAIvB,aAAa,CAACW,UAAU,CAACI,UAAU,CAAC,EAC3F;QACA,IAAI,CAACN,CAAC,CAAC,kBAAkB,CAAC,GAAGT,aAAa,CAACW,UAAU,CAACC,WAAW;MACnE;IACF,CAAC,CAAC;IAEF,IAAI,CAACS,GAAG,CAAC,UAAU,EAAE,MAAM;MACzB,IAAI,CAACZ,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,CAACD,gBAAgB,IAAI,IAAI,CAACE,aAAa;IACrE,CAAC,CAAC;EACJ;AACF;AAEAR,kBAAkB,CAACuB,QAAQ,GAAG,UAAW;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}