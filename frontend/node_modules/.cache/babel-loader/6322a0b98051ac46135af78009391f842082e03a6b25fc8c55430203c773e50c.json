{"ast":null,"code":"// @ts-check\nimport { startKeyUX, hiddenKeyUX, jumpKeyUX, focusGroupKeyUX, pressKeyUX } from 'keyux';\n\n/**\n * MinimalWindow interface is not exported by keyux, so we import it here using tricky way.\n *\n * @typedef {Parameters<import('keyux').KeyUXModule>[0]} MinimalWindow\n */\n\n/**\n * This is global window wrapper that allows to scope event listeners to a specific part of the DOM.\n *\n * It is used to scope the key UX to the widget.\n *\n * @implements {MinimalWindow}\n */\nclass ScopedMinimalWindow {\n  /**\n   * @private\n   * @type {Map<Function, (event: Event) => void>}\n   */\n  _listeners = new Map();\n\n  /**\n   * @private\n   * @type {Node[]}\n   */\n  _scope = [];\n\n  /**\n   * @param {'keydown' | 'keyup'} type\n   * @param {(event: Event) => void} listener\n   */\n  addEventListener(type, listener) {\n    /** @param {Event} e */\n    const wrappedListener = e => {\n      const target = e.target;\n      if (!target) return;\n      if (this._scope.some(el => el === e.target || el.contains(/** @type {Node} */target))) {\n        listener(e);\n      }\n    };\n    this._listeners.set(listener, wrappedListener);\n    window.addEventListener(type, wrappedListener);\n  }\n\n  /**\n   * @param {'keydown' | 'keyup'} type\n   * @param {(event: {}) => void} listener\n   */\n  removeEventListener(type, listener) {\n    const wrappedListener = this._listeners.get(listener);\n    if (wrappedListener) {\n      window.removeEventListener(type, wrappedListener);\n    }\n    this._listeners.delete(listener);\n  }\n  get CustomEvent() {\n    return window.CustomEvent;\n  }\n  get document() {\n    return window.document;\n  }\n  get navigator() {\n    return window.navigator;\n  }\n\n  /** @param {Node} scope */\n  registerScope(scope) {\n    this._scope.push(scope);\n  }\n  destroy() {\n    this._scope = [];\n    this._listeners.forEach((listener, originalListener) => {\n      window.removeEventListener('keydown', listener);\n      window.removeEventListener('keyup', listener);\n      this._listeners.delete(originalListener);\n    });\n  }\n}\nexport class A11y {\n  /**\n   * @private\n   * @type {(() => void) | undefined}\n   */\n  _destroyKeyUX;\n\n  /**\n   * @private\n   * @type {ScopedMinimalWindow}\n   */\n  _scopedWindow;\n  constructor() {\n    this._scopedWindow = new ScopedMinimalWindow();\n    this._destroyKeyUX = startKeyUX(this._scopedWindow, [focusGroupKeyUX(), pressKeyUX('is-pressed'), jumpKeyUX(), hiddenKeyUX()]);\n  }\n\n  /** @param {import('./Block.js').Block} scope */\n  registerBlock(scope) {\n    this._scopedWindow.registerScope(scope);\n  }\n  destroy() {\n    this._destroyKeyUX?.();\n    this._scopedWindow.destroy();\n  }\n}","map":{"version":3,"names":["startKeyUX","hiddenKeyUX","jumpKeyUX","focusGroupKeyUX","pressKeyUX","ScopedMinimalWindow","_listeners","Map","_scope","addEventListener","type","listener","wrappedListener","e","target","some","el","contains","set","window","removeEventListener","get","delete","CustomEvent","document","navigator","registerScope","scope","push","destroy","forEach","originalListener","A11y","_destroyKeyUX","_scopedWindow","constructor","registerBlock"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/abstract/a11y.js"],"sourcesContent":["// @ts-check\nimport { startKeyUX, hiddenKeyUX, jumpKeyUX, focusGroupKeyUX, pressKeyUX } from 'keyux';\n\n/**\n * MinimalWindow interface is not exported by keyux, so we import it here using tricky way.\n *\n * @typedef {Parameters<import('keyux').KeyUXModule>[0]} MinimalWindow\n */\n\n/**\n * This is global window wrapper that allows to scope event listeners to a specific part of the DOM.\n *\n * It is used to scope the key UX to the widget.\n *\n * @implements {MinimalWindow}\n */\nclass ScopedMinimalWindow {\n  /**\n   * @private\n   * @type {Map<Function, (event: Event) => void>}\n   */\n  _listeners = new Map();\n\n  /**\n   * @private\n   * @type {Node[]}\n   */\n  _scope = [];\n\n  /**\n   * @param {'keydown' | 'keyup'} type\n   * @param {(event: Event) => void} listener\n   */\n  addEventListener(type, listener) {\n    /** @param {Event} e */\n    const wrappedListener = (e) => {\n      const target = e.target;\n      if (!target) return;\n      if (this._scope.some((el) => el === e.target || el.contains(/** @type {Node} */ (target)))) {\n        listener(e);\n      }\n    };\n    this._listeners.set(listener, wrappedListener);\n    window.addEventListener(type, wrappedListener);\n  }\n\n  /**\n   * @param {'keydown' | 'keyup'} type\n   * @param {(event: {}) => void} listener\n   */\n  removeEventListener(type, listener) {\n    const wrappedListener = this._listeners.get(listener);\n    if (wrappedListener) {\n      window.removeEventListener(type, wrappedListener);\n    }\n    this._listeners.delete(listener);\n  }\n\n  get CustomEvent() {\n    return window.CustomEvent;\n  }\n\n  get document() {\n    return window.document;\n  }\n\n  get navigator() {\n    return window.navigator;\n  }\n\n  /** @param {Node} scope */\n  registerScope(scope) {\n    this._scope.push(scope);\n  }\n\n  destroy() {\n    this._scope = [];\n    this._listeners.forEach((listener, originalListener) => {\n      window.removeEventListener('keydown', listener);\n      window.removeEventListener('keyup', listener);\n      this._listeners.delete(originalListener);\n    });\n  }\n}\n\nexport class A11y {\n  /**\n   * @private\n   * @type {(() => void) | undefined}\n   */\n  _destroyKeyUX;\n\n  /**\n   * @private\n   * @type {ScopedMinimalWindow}\n   */\n  _scopedWindow;\n\n  constructor() {\n    this._scopedWindow = new ScopedMinimalWindow();\n    this._destroyKeyUX = startKeyUX(this._scopedWindow, [\n      focusGroupKeyUX(),\n      pressKeyUX('is-pressed'),\n      jumpKeyUX(),\n      hiddenKeyUX(),\n    ]);\n  }\n\n  /** @param {import('./Block.js').Block} scope */\n  registerBlock(scope) {\n    this._scopedWindow.registerScope(scope);\n  }\n\n  destroy() {\n    this._destroyKeyUX?.();\n    this._scopedWindow.destroy();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}