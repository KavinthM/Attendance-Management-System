{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/pages/AddStudent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Layout from \"../Components/Layout\";\nimport StudentForm from \"../Components/StudentForm\";\nimport { addStudent, getNextStudentIndex } from \"../api/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddStudent = () => {\n  _s();\n  const navigate = useNavigate();\n  const [adding, setAdding] = useState(false);\n  const [nextIndex, setNextIndex] = useState(\"\");\n  React.useEffect(() => {\n    getNextStudentIndex().then(({\n      data\n    }) => setNextIndex(data.nextIndex)).catch(console.error);\n  }, []);\n  const handleAdd = async (payload, reset) => {\n    setAdding(true);\n    try {\n      await addStudent(payload);\n      // Ensure we navigate back to list to see the update\n      navigate(\"/students\");\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || \"Failed to add student\");\n    } finally {\n      setAdding(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-slate-900\",\n            children: \"Register Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-500 mt-1\",\n            children: \"Add a new student to the system\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/students\",\n          className: \"btn-secondary self-start md:self-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-arrow-left mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this), \" Back to List\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StudentForm, {\n        onSubmit: handleAdd,\n        submitting: adding,\n        nextIndex: nextIndex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(AddStudent, \"LQgfulTbQAeRGcQRIlFgHGMtKUI=\", false, function () {\n  return [useNavigate];\n});\n_c = AddStudent;\nexport default AddStudent;\nvar _c;\n$RefreshReg$(_c, \"AddStudent\");","map":{"version":3,"names":["React","useState","Link","useNavigate","Layout","StudentForm","addStudent","getNextStudentIndex","jsxDEV","_jsxDEV","AddStudent","_s","navigate","adding","setAdding","nextIndex","setNextIndex","useEffect","then","data","catch","console","error","handleAdd","payload","reset","e","_e$response","_e$response$data","alert","response","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","submitting","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/pages/AddStudent.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Layout from \"../Components/Layout\";\nimport StudentForm from \"../Components/StudentForm\";\nimport { addStudent, getNextStudentIndex } from \"../api/client\";\n\nconst AddStudent = () => {\n    const navigate = useNavigate();\n    const [adding, setAdding] = useState(false);\n    const [nextIndex, setNextIndex] = useState(\"\");\n\n    React.useEffect(() => {\n        getNextStudentIndex().then(({ data }) => setNextIndex(data.nextIndex)).catch(console.error);\n    }, []);\n\n    const handleAdd = async (payload, reset) => {\n        setAdding(true);\n        try {\n            await addStudent(payload);\n            // Ensure we navigate back to list to see the update\n            navigate(\"/students\");\n        } catch (e) {\n            alert(e?.response?.data?.message || \"Failed to add student\");\n        } finally {\n            setAdding(false);\n        }\n    };\n\n    return (\n        <Layout>\n            <div className=\"max-w-4xl mx-auto\">\n                <div className=\"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-slate-900\">Register Student</h1>\n                        <p className=\"text-slate-500 mt-1\">Add a new student to the system</p>\n                    </div>\n                    <Link to=\"/students\" className=\"btn-secondary self-start md:self-auto\">\n                        <i className=\"fa-solid fa-arrow-left mr-2\"></i> Back to List\n                    </Link>\n                </div>\n\n                <StudentForm onSubmit={handleAdd} submitting={adding} nextIndex={nextIndex} />\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddStudent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}