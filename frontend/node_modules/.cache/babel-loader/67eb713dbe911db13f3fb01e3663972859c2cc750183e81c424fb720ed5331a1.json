{"ast":null,"code":"// @ts-check\n\n/**\n * @template {import('./Block.js').Block} T\n * @param {DocumentFragment} fr\n * @param {T} fnCtx\n */\nexport function testModeProcessor(fr, fnCtx) {\n  const elementsWithTestId = fr.querySelectorAll('[data-testid]');\n  if (elementsWithTestId.length === 0) {\n    return;\n  }\n  const valuesPerElement = new WeakMap();\n  for (const el of elementsWithTestId) {\n    const testIdValue = el.getAttribute('data-testid');\n    if (testIdValue) {\n      valuesPerElement.set(el, testIdValue);\n    }\n  }\n  fnCtx.subConfigValue('testMode', testMode => {\n    if (!testMode) {\n      for (const el of elementsWithTestId) {\n        el.removeAttribute('data-testid');\n      }\n      return;\n    }\n    const testIdPrefix = fnCtx.testId;\n    for (const el of elementsWithTestId) {\n      const testIdValue = valuesPerElement.get(el);\n      if (!testIdValue) {\n        continue;\n      }\n      el.setAttribute(`data-testid`, `${testIdPrefix}--${testIdValue}`);\n    }\n  });\n}","map":{"version":3,"names":["testModeProcessor","fr","fnCtx","elementsWithTestId","querySelectorAll","length","valuesPerElement","WeakMap","el","testIdValue","getAttribute","set","subConfigValue","testMode","removeAttribute","testIdPrefix","testId","get","setAttribute"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/abstract/testModeProcessor.js"],"sourcesContent":["// @ts-check\n\n/**\n * @template {import('./Block.js').Block} T\n * @param {DocumentFragment} fr\n * @param {T} fnCtx\n */\nexport function testModeProcessor(fr, fnCtx) {\n  const elementsWithTestId = fr.querySelectorAll('[data-testid]');\n  if (elementsWithTestId.length === 0) {\n    return;\n  }\n  const valuesPerElement = new WeakMap();\n\n  for (const el of elementsWithTestId) {\n    const testIdValue = el.getAttribute('data-testid');\n    if (testIdValue) {\n      valuesPerElement.set(el, testIdValue);\n    }\n  }\n\n  fnCtx.subConfigValue('testMode', (testMode) => {\n    if (!testMode) {\n      for (const el of elementsWithTestId) {\n        el.removeAttribute('data-testid');\n      }\n      return;\n    }\n\n    const testIdPrefix = fnCtx.testId;\n    for (const el of elementsWithTestId) {\n      const testIdValue = valuesPerElement.get(el);\n      if (!testIdValue) {\n        continue;\n      }\n      el.setAttribute(`data-testid`, `${testIdPrefix}--${testIdValue}`);\n    }\n  });\n}\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,iBAAiBA,CAACC,EAAE,EAAEC,KAAK,EAAE;EAC3C,MAAMC,kBAAkB,GAAGF,EAAE,CAACG,gBAAgB,CAAC,eAAe,CAAC;EAC/D,IAAID,kBAAkB,CAACE,MAAM,KAAK,CAAC,EAAE;IACnC;EACF;EACA,MAAMC,gBAAgB,GAAG,IAAIC,OAAO,CAAC,CAAC;EAEtC,KAAK,MAAMC,EAAE,IAAIL,kBAAkB,EAAE;IACnC,MAAMM,WAAW,GAAGD,EAAE,CAACE,YAAY,CAAC,aAAa,CAAC;IAClD,IAAID,WAAW,EAAE;MACfH,gBAAgB,CAACK,GAAG,CAACH,EAAE,EAAEC,WAAW,CAAC;IACvC;EACF;EAEAP,KAAK,CAACU,cAAc,CAAC,UAAU,EAAGC,QAAQ,IAAK;IAC7C,IAAI,CAACA,QAAQ,EAAE;MACb,KAAK,MAAML,EAAE,IAAIL,kBAAkB,EAAE;QACnCK,EAAE,CAACM,eAAe,CAAC,aAAa,CAAC;MACnC;MACA;IACF;IAEA,MAAMC,YAAY,GAAGb,KAAK,CAACc,MAAM;IACjC,KAAK,MAAMR,EAAE,IAAIL,kBAAkB,EAAE;MACnC,MAAMM,WAAW,GAAGH,gBAAgB,CAACW,GAAG,CAACT,EAAE,CAAC;MAC5C,IAAI,CAACC,WAAW,EAAE;QAChB;MACF;MACAD,EAAE,CAACU,YAAY,CAAC,aAAa,EAAE,GAAGH,YAAY,KAAKN,WAAW,EAAE,CAAC;IACnE;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}