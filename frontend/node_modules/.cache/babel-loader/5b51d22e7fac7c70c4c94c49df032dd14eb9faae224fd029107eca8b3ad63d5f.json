{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/App.js\nimport './App.css';\nimport './theme.css';\nimport React from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport Home from \"./Components/Home/Home\";\nimport Login from \"./Components/Login/Login\";\nimport Profile from \"./Components/Profile/Profile\";\nimport OtpVerification from \"./Components/OtpVerification/OtpVerification\";\nimport ResetPassword from \"./Components/ResetPassword/ResetPassword\";\nimport ForgotPassword from \"./Components/ForgotPassword/ForgotPassword\";\nimport ResetPasswordViaEmail from \"./Components/ResetPasswordViaEmail/ResetPasswordViaEmail\";\nimport AdminDashboard from \"./Components/AdminDashboard/AdminDashboard\";\nimport CreateNoticeAdmin from './Components/CreateNotices/Admin/CreateNoticeAdmin';\nimport CreateNoticeTeacher from './Components/CreateNotices/Teachers/CreateNoticeTeacher';\nimport DirectMessages from './Components/DirectMessages/DirectMessages';\nimport DisplayNotices from './Components/DisplayNotices/DisplayNotices';\nimport UpdateNoticeAdmin from './Components/UpdateNotices/Admin/UpdateNoticeAdmin';\nimport UpdateNoticeTeacher from './Components/UpdateNotices/Teachers/UpdateNoticeTeacher';\nimport TimeTableHallArrangement from './Components/TimeTableHallArrangement/TimeTableHallArrangement';\nimport ReportCard from './Components/ReportCard/ReportCard';\nimport ReportCardView from './Components/ReportCardView/ReportCardView';\nimport ProgressAnalysis from './Components/ProgressAnalysis/ProgressAnalysis';\nimport ReportData from './Components/ReportData/ReportData';\nimport TimeTableDataEntry from './Components/TimeTableHallArrangementData/TimeTableDataEntry';\nimport Examination from './Components/Examination/Examination';\nimport ExamOnly from './Components/Examination/ExamOnly';\nimport ShuttleServices from './Components/ShuttleServices/ShuttleServices';\nimport Students from './Components/AttendanceManagement/Students';\nimport Attendance from './Components/AttendanceManagement/Attendance';\nimport AttendanceRecords from './Components/AttendanceManagement/AttendanceRecords';\nimport ParentView from './Components/ParentView/ParentView';\nimport { api } from \"./utils/api\";\n\n// ✅ Enhanced guard: checks token in localStorage and validates it\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RequireAuth({\n  children\n}) {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [authChecked, setAuthChecked] = React.useState(false);\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      // First check: Is there a token?\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        // No token is normal for logged-out users - not an error\n        setIsAuthenticated(false);\n        setIsLoading(false);\n        setAuthChecked(true);\n        return;\n      }\n      try {\n        // Second check: Is the token valid with backend?\n        const response = await api('/auth/me', {\n          method: 'GET'\n        });\n        if (response && response.user) {\n          setIsAuthenticated(true);\n        } else {\n          localStorage.removeItem(\"token\");\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        // Token is invalid or backend is unreachable\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n        setAuthChecked(true);\n      }\n    };\n    checkAuth();\n  }, []);\n\n  // Show loading while checking authentication\n  if (isLoading || !authChecked) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-spinner fa-spin\",\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), \"Verifying authentication...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If not authenticated, show access denied message and redirect\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#d32f2f',\n        flexDirection: 'column',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-lock\",\n          style: {\n            marginRight: '10px',\n            fontSize: '24px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            marginTop: '5px',\n            color: '#666'\n          },\n          children: \"Please log in to access this page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If authenticated, render the protected component\n  console.log('✅ Access granted');\n  return children;\n}\n\n// Guard for OTP stage: checks if otpPending flag exists\n_s(RequireAuth, \"BBtGDE5qM6nHof8mKulbbq01olI=\");\n_c = RequireAuth;\nfunction RequireOtp({\n  children\n}) {\n  const otpPending = typeof window !== \"undefined\" ? localStorage.getItem(\"otpPending\") : null;\n  return otpPending ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 34\n  }, this);\n}\n_c2 = RequireOtp;\nexport default function App() {\n  _s2();\n  // Global authentication state\n  const [globalAuth, setGlobalAuth] = React.useState({\n    isChecking: true,\n    isAuthenticated: false\n  });\n\n  // Check authentication on app load\n  React.useEffect(() => {\n    const checkGlobalAuth = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setGlobalAuth({\n          isChecking: false,\n          isAuthenticated: false\n        });\n        return;\n      }\n      try {\n        const response = await api('/auth/me', {\n          method: 'GET'\n        });\n        if (response && response.user) {\n          setGlobalAuth({\n            isChecking: false,\n            isAuthenticated: true\n          });\n        } else {\n          localStorage.removeItem(\"token\");\n          setGlobalAuth({\n            isChecking: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        localStorage.removeItem(\"token\");\n        setGlobalAuth({\n          isChecking: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    checkGlobalAuth();\n  }, []);\n\n  // Show loading screen while checking global auth\n  if (globalAuth.isChecking) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-spinner fa-spin\",\n          style: {\n            marginRight: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), \"Initializing Smart Alert...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/forgot-password\",\n        element: /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/reset-password\",\n        element: /*#__PURE__*/_jsxDEV(ResetPasswordViaEmail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/verify-otp\",\n        element: /*#__PURE__*/_jsxDEV(RequireOtp, {\n          children: /*#__PURE__*/_jsxDEV(OtpVerification, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile/:userId\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/change-password\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-dashboard\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-create-notice\",\n        element: /*#__PURE__*/_jsxDEV(CreateNoticeAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/teacher-create-notice\",\n        element: /*#__PURE__*/_jsxDEV(CreateNoticeTeacher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/direct-message-teacher\",\n        element: /*#__PURE__*/_jsxDEV(DirectMessages, {\n          userType: \"teacher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/direct-message-parent\",\n        element: /*#__PURE__*/_jsxDEV(DirectMessages, {\n          userType: \"parent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/display-notices\",\n        element: /*#__PURE__*/_jsxDEV(DisplayNotices, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/update-admin-notices\",\n        element: /*#__PURE__*/_jsxDEV(UpdateNoticeAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 54\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/update-teacher-notices\",\n        element: /*#__PURE__*/_jsxDEV(UpdateNoticeTeacher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/examination\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Examination, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/exams\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ExamOnly, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/timetable\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(TimeTableHallArrangement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-card\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportCard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-card/:studentId\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportCardView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/progress-analysis\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ProgressAnalysis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-data\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ReportData, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/timetable-data-entry\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(TimeTableDataEntry, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shuttle-services\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ShuttleServices, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/students\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Students, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/attendance\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(Attendance, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/records\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(AttendanceRecords, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/parent-view\",\n        element: /*#__PURE__*/_jsxDEV(RequireAuth, {\n          children: /*#__PURE__*/_jsxDEV(ParentView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"yvXxhV7fFzVwpqY8+UnqQdgSUIg=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"RequireAuth\");\n$RefreshReg$(_c2, \"RequireOtp\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","Home","Login","Profile","OtpVerification","ResetPassword","ForgotPassword","ResetPasswordViaEmail","AdminDashboard","CreateNoticeAdmin","CreateNoticeTeacher","DirectMessages","DisplayNotices","UpdateNoticeAdmin","UpdateNoticeTeacher","TimeTableHallArrangement","ReportCard","ReportCardView","ProgressAnalysis","ReportData","TimeTableDataEntry","Examination","ExamOnly","ShuttleServices","Students","Attendance","AttendanceRecords","ParentView","api","jsxDEV","_jsxDEV","RequireAuth","children","_s","isAuthenticated","setIsAuthenticated","useState","isLoading","setIsLoading","authChecked","setAuthChecked","useEffect","checkAuth","token","localStorage","getItem","response","method","user","removeItem","error","style","display","justifyContent","alignItems","height","fontSize","color","flexDirection","className","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginTop","to","replace","console","log","_c","RequireOtp","otpPending","window","_c2","App","_s2","globalAuth","setGlobalAuth","isChecking","checkGlobalAuth","path","element","userType","_c3","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport './App.css';\nimport './theme.css';\nimport React from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport Home from \"./Components/Home/Home\";\nimport Login from \"./Components/Login/Login\";\nimport Profile from \"./Components/Profile/Profile\";\nimport OtpVerification from \"./Components/OtpVerification/OtpVerification\";\nimport ResetPassword from \"./Components/ResetPassword/ResetPassword\";\nimport ForgotPassword from \"./Components/ForgotPassword/ForgotPassword\";\nimport ResetPasswordViaEmail from \"./Components/ResetPasswordViaEmail/ResetPasswordViaEmail\";\nimport AdminDashboard from \"./Components/AdminDashboard/AdminDashboard\";\nimport CreateNoticeAdmin from './Components/CreateNotices/Admin/CreateNoticeAdmin';\nimport CreateNoticeTeacher from './Components/CreateNotices/Teachers/CreateNoticeTeacher';\nimport DirectMessages from './Components/DirectMessages/DirectMessages';\nimport DisplayNotices from './Components/DisplayNotices/DisplayNotices';\nimport UpdateNoticeAdmin from './Components/UpdateNotices/Admin/UpdateNoticeAdmin';\nimport UpdateNoticeTeacher from './Components/UpdateNotices/Teachers/UpdateNoticeTeacher';\nimport TimeTableHallArrangement from './Components/TimeTableHallArrangement/TimeTableHallArrangement';\nimport ReportCard from './Components/ReportCard/ReportCard';\nimport ReportCardView from './Components/ReportCardView/ReportCardView';\nimport ProgressAnalysis from './Components/ProgressAnalysis/ProgressAnalysis';\nimport ReportData from './Components/ReportData/ReportData';\nimport TimeTableDataEntry from './Components/TimeTableHallArrangementData/TimeTableDataEntry';\nimport Examination from './Components/Examination/Examination';\nimport ExamOnly from './Components/Examination/ExamOnly';\nimport ShuttleServices from './Components/ShuttleServices/ShuttleServices';\nimport Students from './Components/AttendanceManagement/Students';\nimport Attendance from './Components/AttendanceManagement/Attendance';\nimport AttendanceRecords from './Components/AttendanceManagement/AttendanceRecords';\nimport ParentView from './Components/ParentView/ParentView';\nimport { api } from \"./utils/api\";\n\n// ✅ Enhanced guard: checks token in localStorage and validates it\nfunction RequireAuth({ children }) {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [authChecked, setAuthChecked] = React.useState(false);\n\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      // First check: Is there a token?\n      const token = localStorage.getItem(\"token\");\n      \n      if (!token) {\n        // No token is normal for logged-out users - not an error\n        setIsAuthenticated(false);\n        setIsLoading(false);\n        setAuthChecked(true);\n        return;\n      }\n\n      try {\n        // Second check: Is the token valid with backend?\n        const response = await api('/auth/me', { method: 'GET' });\n        \n        if (response && response.user) {\n          setIsAuthenticated(true);\n        } else {\n          localStorage.removeItem(\"token\");\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        // Token is invalid or backend is unreachable\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n        setAuthChecked(true);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  // Show loading while checking authentication\n  if (isLoading || !authChecked) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      }}>\n        <div>\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\n          Verifying authentication...\n        </div>\n      </div>\n    );\n  }\n\n  // If not authenticated, show access denied message and redirect\n  if (!isAuthenticated) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#d32f2f',\n        flexDirection: 'column',\n        textAlign: 'center'\n      }}>\n        <div>\n          <i className=\"fas fa-lock\" style={{ marginRight: '10px', fontSize: '24px' }}></i>\n          <div style={{ marginTop: '10px' }}>Access Denied</div>\n          <div style={{ fontSize: '14px', marginTop: '5px', color: '#666' }}>\n            Please log in to access this page\n          </div>\n        </div>\n        <Navigate to=\"/login\" replace />\n      </div>\n    );\n  }\n\n  // If authenticated, render the protected component\n  console.log('✅ Access granted');\n  return children;\n}\n\n// Guard for OTP stage: checks if otpPending flag exists\nfunction RequireOtp({ children }) {\n  const otpPending = typeof window !== \"undefined\" ? localStorage.getItem(\"otpPending\") : null;\n  return otpPending ? children : <Navigate to=\"/login\" replace />;\n}\n\nexport default function App() {\n  // Global authentication state\n  const [globalAuth, setGlobalAuth] = React.useState({\n    isChecking: true,\n    isAuthenticated: false\n  });\n\n  // Check authentication on app load\n  React.useEffect(() => {\n    const checkGlobalAuth = async () => {\n      const token = localStorage.getItem(\"token\");\n      \n      if (!token) {\n        setGlobalAuth({ isChecking: false, isAuthenticated: false });\n        return;\n      }\n\n      try {\n        const response = await api('/auth/me', { method: 'GET' });\n        if (response && response.user) {\n          setGlobalAuth({ isChecking: false, isAuthenticated: true });\n        } else {\n          localStorage.removeItem(\"token\");\n          setGlobalAuth({ isChecking: false, isAuthenticated: false });\n        }\n      } catch (error) {\n        localStorage.removeItem(\"token\");\n        setGlobalAuth({ isChecking: false, isAuthenticated: false });\n      }\n    };\n\n    checkGlobalAuth();\n  }, []);\n\n  // Show loading screen while checking global auth\n  if (globalAuth.isChecking) {\n  return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        fontSize: '18px',\n        color: '#00897b',\n        flexDirection: 'column'\n      }}>\n        <div>\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\n          Initializing Smart Alert...\n        </div>\n    </div>\n  );\n}\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        {/* Home Page (only if logged in) */}\n        <Route\n          path=\"/\"\n          element={\n            <RequireAuth>\n              <Home />\n            </RequireAuth>\n          }\n        />\n        \n        \n        {/* Login Page */}\n        <Route path=\"/login\" element={<Login />} />\n\n        {/* Forgot Password Page */}\n        <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n\n        {/* Reset Password via Email Page */}\n        <Route path=\"/reset-password\" element={<ResetPasswordViaEmail />} />\n\n        {/* OTP Verification Page (only if otpPending is true) */}\n        <Route\n          path=\"/verify-otp\"\n          element={\n            <RequireOtp>\n              <OtpVerification />\n            </RequireOtp>\n          }\n        />\n\n        {/* Profile Page (only if logged in) */}\n        <Route\n          path=\"/profile\"\n          element={\n            <RequireAuth>\n              <Profile />\n            </RequireAuth>\n          }\n        />\n\n        {/* Profile Page with User ID (for admin viewing other users) */}\n        <Route\n          path=\"/profile/:userId\"\n          element={\n            <RequireAuth>\n              <Profile />\n            </RequireAuth>\n          }\n        />\n\n        {/* Change Password Page (only if logged in) */}\n        <Route\n          path=\"/change-password\"\n          element={\n            <RequireAuth>\n              <ResetPassword />\n            </RequireAuth>\n          }\n        />\n\n        {/* Admin Dashboard Page (only if logged in) */}\n        <Route\n          path=\"/admin-dashboard\"\n          element={\n            <RequireAuth>\n              <AdminDashboard />\n            </RequireAuth>\n          }\n        />\n\n        {/* Notice Management Routes */}\n        <Route path=\"/admin-create-notice\" element={<CreateNoticeAdmin />} />\n        <Route path=\"/teacher-create-notice\" element={<CreateNoticeTeacher />} />\n        <Route path=\"/direct-message-teacher\" element={<DirectMessages userType=\"teacher\" />} />\n        <Route path=\"/direct-message-parent\" element={<DirectMessages userType=\"parent\" />} />\n        <Route path=\"/display-notices\" element={<DisplayNotices />} />\n        <Route path=\"/update-admin-notices\" element={<UpdateNoticeAdmin />} />\n        <Route path=\"/update-teacher-notices\" element={<UpdateNoticeTeacher />} />\n\n        {/* Examination Management Routes */}\n        <Route \n          path=\"/examination\" \n          element={\n            <RequireAuth>\n              <Examination />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/exams\"\n          element={\n            <RequireAuth>\n              <ExamOnly />\n            </RequireAuth>\n          }\n        />\n        <Route \n          path=\"/timetable\" \n          element={\n            <RequireAuth>\n              <TimeTableHallArrangement />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-card\" \n          element={\n            <RequireAuth>\n              <ReportCard />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-card/:studentId\" \n          element={\n            <RequireAuth>\n              <ReportCardView />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/progress-analysis\" \n          element={\n            <RequireAuth>\n              <ProgressAnalysis />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/report-data\" \n          element={\n            <RequireAuth>\n              <ReportData />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/timetable-data-entry\" \n          element={\n            <RequireAuth>\n              <TimeTableDataEntry />\n            </RequireAuth>\n          } \n        />\n\n        {/* Shuttle Services Management Routes */}\n        <Route \n          path=\"/shuttle-services\" \n          element={\n            <RequireAuth>\n              <ShuttleServices />\n            </RequireAuth>\n          } \n        />\n\n        {/* Attendance Management Routes */}\n        <Route \n          path=\"/students\" \n          element={\n            <RequireAuth>\n              <Students />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/attendance\" \n          element={\n            <RequireAuth>\n              <Attendance />\n            </RequireAuth>\n          } \n        />\n        <Route \n          path=\"/records\" \n          element={\n            <RequireAuth>\n              <AttendanceRecords />\n            </RequireAuth>\n          } \n        />\n\n        {/* Parent View - Only for Parents/Students */}\n        <Route \n          path=\"/parent-view\" \n          element={\n            <RequireAuth>\n              <ParentView />\n            </RequireAuth>\n          } \n        />\n\n        {/* Default → Redirect to home (will redirect to login if not authenticated) */}\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}