{"ast":null,"code":"//@ts-check\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nexport class FileItemConfig extends UploaderBlock {\n  /** @protected */\n  _entrySubs = new Set();\n\n  /**\n   * @type {import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData | null}\n   * @protected\n   */\n  _entry = null;\n\n  /**\n   * @template {any[]} A\n   * @template {(entry: import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData, ...args: A) => any} T\n   * @param {T} fn\n   * @returns {(...args: A) => ReturnType<T>}\n   * @protected\n   */\n  _withEntry(fn) {\n    const wrapperFn = /** @type {(...args: A) => ReturnType<T>} */\n    (...args) => {\n      const entry = this._entry;\n      if (!entry) {\n        console.warn('No entry found');\n        return;\n      }\n      return fn(entry, ...args);\n    };\n    return wrapperFn;\n  }\n\n  /**\n   * @template {import('../../abstract/uploadEntrySchema.js').UploadEntryKeys} K\n   * @param {K} prop_\n   * @param {(value: import('../../abstract/uploadEntrySchema.js').UploadEntryData[K]) => void} handler_\n   * @protected\n   */\n  _subEntry(prop_, handler_) {\n    return this._withEntry(\n    /**\n     * @template {import('../../abstract/uploadEntrySchema.js').UploadEntryKeys} K\n     * @param {import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData} entry\n     * @param {K} prop\n     * @param {(value: import('../../abstract/uploadEntrySchema.js').UploadEntryData[K]) => void} handler\n     */\n    (entry, prop, handler) => {\n      let sub = entry.subscribe(prop, value => {\n        if (this.isConnected) {\n          handler(value);\n        }\n      });\n      this._entrySubs.add(sub);\n    })(prop_, handler_);\n  }\n\n  /** @protected */\n  _reset() {\n    for (let sub of this._entrySubs) {\n      sub.remove();\n    }\n    this._entrySubs = new Set();\n    this._entry = null;\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._entrySubs = new Set();\n  }\n}","map":{"version":3,"names":["UploaderBlock","FileItemConfig","_entrySubs","Set","_entry","_withEntry","fn","wrapperFn","args","entry","console","warn","_subEntry","prop_","handler_","prop","handler","sub","subscribe","value","isConnected","add","_reset","remove","disconnectedCallback"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/blocks/FileItem/FileItemConfig.js"],"sourcesContent":["//@ts-check\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\n\nexport class FileItemConfig extends UploaderBlock {\n  /** @protected */\n  _entrySubs = new Set();\n\n  /**\n   * @type {import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData | null}\n   * @protected\n   */\n  _entry = null;\n\n  /**\n   * @template {any[]} A\n   * @template {(entry: import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData, ...args: A) => any} T\n   * @param {T} fn\n   * @returns {(...args: A) => ReturnType<T>}\n   * @protected\n   */\n  _withEntry(fn) {\n    const wrapperFn = /** @type {(...args: A) => ReturnType<T>} */ (\n      (...args) => {\n        const entry = this._entry;\n        if (!entry) {\n          console.warn('No entry found');\n          return;\n        }\n        return fn(entry, ...args);\n      }\n    );\n    return wrapperFn;\n  }\n\n  /**\n   * @template {import('../../abstract/uploadEntrySchema.js').UploadEntryKeys} K\n   * @param {K} prop_\n   * @param {(value: import('../../abstract/uploadEntrySchema.js').UploadEntryData[K]) => void} handler_\n   * @protected\n   */\n  _subEntry(prop_, handler_) {\n    return this._withEntry(\n      /**\n       * @template {import('../../abstract/uploadEntrySchema.js').UploadEntryKeys} K\n       * @param {import('../../abstract/uploadEntrySchema.js').UploadEntryTypedData} entry\n       * @param {K} prop\n       * @param {(value: import('../../abstract/uploadEntrySchema.js').UploadEntryData[K]) => void} handler\n       */\n      (entry, prop, handler) => {\n        let sub = entry.subscribe(prop, (value) => {\n          if (this.isConnected) {\n            handler(value);\n          }\n        });\n        this._entrySubs.add(sub);\n      },\n    )(prop_, handler_);\n  }\n\n  /** @protected */\n  _reset() {\n    for (let sub of this._entrySubs) {\n      sub.remove();\n    }\n\n    this._entrySubs = new Set();\n    this._entry = null;\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._entrySubs = new Set();\n  }\n}\n"],"mappings":"AAAA;AACA,SAASA,aAAa,QAAQ,iCAAiC;AAE/D,OAAO,MAAMC,cAAc,SAASD,aAAa,CAAC;EAChD;EACAE,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC;;EAEtB;AACF;AACA;AACA;EACEC,MAAM,GAAG,IAAI;;EAEb;AACF;AACA;AACA;AACA;AACA;AACA;EACEC,UAAUA,CAACC,EAAE,EAAE;IACb,MAAMC,SAAS,GAAG;IAChBA,CAAC,GAAGC,IAAI,KAAK;MACX,MAAMC,KAAK,GAAG,IAAI,CAACL,MAAM;MACzB,IAAI,CAACK,KAAK,EAAE;QACVC,OAAO,CAACC,IAAI,CAAC,gBAAgB,CAAC;QAC9B;MACF;MACA,OAAOL,EAAE,CAACG,KAAK,EAAE,GAAGD,IAAI,CAAC;IAC3B,CACD;IACD,OAAOD,SAAS;EAClB;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEK,SAASA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IACzB,OAAO,IAAI,CAACT,UAAU;IACpB;AACN;AACA;AACA;AACA;AACA;IACM,CAACI,KAAK,EAAEM,IAAI,EAAEC,OAAO,KAAK;MACxB,IAAIC,GAAG,GAAGR,KAAK,CAACS,SAAS,CAACH,IAAI,EAAGI,KAAK,IAAK;QACzC,IAAI,IAAI,CAACC,WAAW,EAAE;UACpBJ,OAAO,CAACG,KAAK,CAAC;QAChB;MACF,CAAC,CAAC;MACF,IAAI,CAACjB,UAAU,CAACmB,GAAG,CAACJ,GAAG,CAAC;IAC1B,CACF,CAAC,CAACJ,KAAK,EAAEC,QAAQ,CAAC;EACpB;;EAEA;EACAQ,MAAMA,CAAA,EAAG;IACP,KAAK,IAAIL,GAAG,IAAI,IAAI,CAACf,UAAU,EAAE;MAC/Be,GAAG,CAACM,MAAM,CAAC,CAAC;IACd;IAEA,IAAI,CAACrB,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC3B,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;EAEAoB,oBAAoBA,CAAA,EAAG;IACrB,KAAK,CAACA,oBAAoB,CAAC,CAAC;IAC5B,IAAI,CAACtB,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC7B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}