{"ast":null,"code":"//@ts-check\nimport { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\nimport { ModalEvents } from '../../../abstract/ModalManager.js';\nconst ACTIVE_CLASS = 'active';\nconst EMPTY_CLASS = '';\nexport class FileUploaderMinimal extends SolutionBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-file-uploader-minimal'];\n  constructor() {\n    super();\n    this.init$ = {\n      ...this.init$,\n      singleUpload: false,\n      isHiddenStartFrom: false,\n      classUploadList: EMPTY_CLASS,\n      classStartFrom: EMPTY_CLASS\n    };\n  }\n\n  /** @type {import('../../../abstract/ModalManager.js').ModalCb} */\n  _handleModalOpen(e) {\n    if (e.id === ActivityBlock.activities.CLOUD_IMG_EDIT) {\n      this.set$({\n        classUploadList: ACTIVE_CLASS\n      });\n    }\n    if (this.$['*currentActivity'] === ActivityBlock.activities.UPLOAD_LIST) {\n      this.set$({\n        classUploadList: ACTIVE_CLASS,\n        isHiddenStartFrom: true\n      });\n    }\n    if (this.$['*uploadList']?.length <= 0) {\n      this.set$({\n        classStartFrom: ACTIVE_CLASS\n      });\n    }\n  }\n\n  /** @type {import('../../../abstract/ModalManager.js').ModalCb} */\n  _handleModalClose(e) {\n    if (e.id === this.$['*currentActivity']) {\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      this.set$({\n        isHiddenStartFrom: false\n      });\n    }\n    if (e.id === ActivityBlock.activities.CLOUD_IMG_EDIT) {\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n    }\n  }\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', val => {\n      if (val === ActivityBlock.activities.UPLOAD_LIST) {\n        this.modalManager.closeAll();\n      }\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n    this.sub('*uploadList', list => {\n      if (list?.length > 0) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n        this.set$({\n          classStartFrom: EMPTY_CLASS\n        });\n      } else {\n        this.set$({\n          classUploadList: EMPTY_CLASS,\n          isHiddenStartFrom: false\n        });\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n    this.subConfigValue('confirmUpload', confirmUpload => {\n      if (confirmUpload !== false) {\n        this.cfg.confirmUpload = false;\n      }\n    });\n    this.subConfigValue('filesViewMode', mode => {\n      this.setAttribute('mode', mode);\n      this.subConfigValue('multiple', multiple => {\n        if (mode === 'grid') {\n          if (multiple) {\n            this.style.removeProperty('--uc-grid-col');\n          } else {\n            this.style.setProperty('--uc-grid-col', '1');\n          }\n          this.$.singleUpload = !multiple;\n        } else {\n          this.style.removeProperty('--uc-grid-col');\n          this.$.singleUpload = false;\n        }\n      });\n    });\n    this.handleModalOpen = this._handleModalOpen.bind(this);\n    this.handleModalClose = this._handleModalClose.bind(this);\n    this.modalManager.subscribe(ModalEvents.OPEN, this.handleModalOpen);\n    this.modalManager.subscribe(ModalEvents.CLOSE, this.handleModalClose);\n  }\n  destroyCallback() {\n    super.destroyCallback();\n    this.modalManager.unsubscribe(ModalEvents.OPEN, this.handleModalOpen);\n    this.modalManager.unsubscribe(ModalEvents.CLOSE, this.handleModalClose);\n  }\n}\nFileUploaderMinimal.template = /* HTML */`\n  <uc-start-from set=\"@hidden: isHiddenStartFrom; @class:classStartFrom\">\n    <uc-drop-area set=\"@single:singleUpload;\" initflow clickable tabindex=\"0\" l10n=\"choose-file\"></uc-drop-area>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list set=\"@class:classUploadList\" ref=\"uBlock\"></uc-upload-list>\n\n  <uc-modal id=\"start-from\" strokes block-body-scrolling>\n    <uc-start-from>\n      <uc-drop-area with-icon clickable></uc-drop-area>\n      <uc-source-list role=\"list\" wrap></uc-source-list>\n      <button type=\"button\" l10n=\"start-from-cancel\" class=\"uc-secondary-btn\" set=\"onclick: *historyBack\"></button>\n    </uc-start-from>\n  </uc-modal>\n\n  <uc-modal id=\"camera\" strokes block-body-scrolling>\n    <uc-camera-source></uc-camera-source>\n  </uc-modal>\n\n  <uc-modal id=\"url\" strokes block-body-scrolling>\n    <uc-url-source></uc-url-source>\n  </uc-modal>\n\n  <uc-modal id=\"external\" strokes block-body-scrolling>\n    <uc-external-source></uc-external-source>\n  </uc-modal>\n\n  <uc-modal id=\"cloud-image-edit\" strokes block-body-scrolling>\n    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n  </uc-modal>\n`;","map":{"version":3,"names":["ActivityBlock","SolutionBlock","ModalEvents","ACTIVE_CLASS","EMPTY_CLASS","FileUploaderMinimal","styleAttrs","constructor","init$","singleUpload","isHiddenStartFrom","classUploadList","classStartFrom","_handleModalOpen","e","id","activities","CLOUD_IMG_EDIT","set$","$","UPLOAD_LIST","length","_handleModalClose","initCallback","uBlock","ref","sub","val","modalManager","closeAll","initActivity","START_FROM","list","subConfigValue","confirmUpload","cfg","mode","setAttribute","multiple","style","removeProperty","setProperty","handleModalOpen","bind","handleModalClose","subscribe","OPEN","CLOSE","destroyCallback","unsubscribe","template"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/node_modules/@uploadcare/file-uploader/solutions/file-uploader/minimal/FileUploaderMinimal.js"],"sourcesContent":["//@ts-check\nimport { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\nimport { ModalEvents } from '../../../abstract/ModalManager.js';\n\nconst ACTIVE_CLASS = 'active';\nconst EMPTY_CLASS = '';\n\nexport class FileUploaderMinimal extends SolutionBlock {\n  static styleAttrs = [...super.styleAttrs, 'uc-file-uploader-minimal'];\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      singleUpload: false,\n      isHiddenStartFrom: false,\n      classUploadList: EMPTY_CLASS,\n      classStartFrom: EMPTY_CLASS,\n    };\n  }\n\n  /** @type {import('../../../abstract/ModalManager.js').ModalCb} */\n  _handleModalOpen(e) {\n    if (e.id === ActivityBlock.activities.CLOUD_IMG_EDIT) {\n      this.set$({\n        classUploadList: ACTIVE_CLASS,\n      });\n    }\n\n    if (this.$['*currentActivity'] === ActivityBlock.activities.UPLOAD_LIST) {\n      this.set$({\n        classUploadList: ACTIVE_CLASS,\n        isHiddenStartFrom: true,\n      });\n    }\n\n    if (this.$['*uploadList']?.length <= 0) {\n      this.set$({\n        classStartFrom: ACTIVE_CLASS,\n      });\n    }\n  }\n\n  /** @type {import('../../../abstract/ModalManager.js').ModalCb} */\n  _handleModalClose(e) {\n    if (e.id === this.$['*currentActivity']) {\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      this.set$({\n        isHiddenStartFrom: false,\n      });\n    }\n\n    if (e.id === ActivityBlock.activities.CLOUD_IMG_EDIT) {\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', (val) => {\n      if (val === ActivityBlock.activities.UPLOAD_LIST) {\n        this.modalManager.closeAll();\n      }\n\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.sub('*uploadList', (list) => {\n      if (list?.length > 0) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n        this.set$({\n          classStartFrom: EMPTY_CLASS,\n        });\n      } else {\n        this.set$({\n          classUploadList: EMPTY_CLASS,\n          isHiddenStartFrom: false,\n        });\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.subConfigValue('confirmUpload', (confirmUpload) => {\n      if (confirmUpload !== false) {\n        this.cfg.confirmUpload = false;\n      }\n    });\n\n    this.subConfigValue('filesViewMode', (mode) => {\n      this.setAttribute('mode', mode);\n\n      this.subConfigValue('multiple', (multiple) => {\n        if (mode === 'grid') {\n          if (multiple) {\n            this.style.removeProperty('--uc-grid-col');\n          } else {\n            this.style.setProperty('--uc-grid-col', '1');\n          }\n\n          this.$.singleUpload = !multiple;\n        } else {\n          this.style.removeProperty('--uc-grid-col');\n          this.$.singleUpload = false;\n        }\n      });\n    });\n\n    this.handleModalOpen = this._handleModalOpen.bind(this);\n    this.handleModalClose = this._handleModalClose.bind(this);\n\n    this.modalManager.subscribe(ModalEvents.OPEN, this.handleModalOpen);\n    this.modalManager.subscribe(ModalEvents.CLOSE, this.handleModalClose);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    this.modalManager.unsubscribe(ModalEvents.OPEN, this.handleModalOpen);\n    this.modalManager.unsubscribe(ModalEvents.CLOSE, this.handleModalClose);\n  }\n}\n\nFileUploaderMinimal.template = /* HTML */ `\n  <uc-start-from set=\"@hidden: isHiddenStartFrom; @class:classStartFrom\">\n    <uc-drop-area set=\"@single:singleUpload;\" initflow clickable tabindex=\"0\" l10n=\"choose-file\"></uc-drop-area>\n    <uc-copyright></uc-copyright>\n  </uc-start-from>\n  <uc-upload-list set=\"@class:classUploadList\" ref=\"uBlock\"></uc-upload-list>\n\n  <uc-modal id=\"start-from\" strokes block-body-scrolling>\n    <uc-start-from>\n      <uc-drop-area with-icon clickable></uc-drop-area>\n      <uc-source-list role=\"list\" wrap></uc-source-list>\n      <button type=\"button\" l10n=\"start-from-cancel\" class=\"uc-secondary-btn\" set=\"onclick: *historyBack\"></button>\n    </uc-start-from>\n  </uc-modal>\n\n  <uc-modal id=\"camera\" strokes block-body-scrolling>\n    <uc-camera-source></uc-camera-source>\n  </uc-modal>\n\n  <uc-modal id=\"url\" strokes block-body-scrolling>\n    <uc-url-source></uc-url-source>\n  </uc-modal>\n\n  <uc-modal id=\"external\" strokes block-body-scrolling>\n    <uc-external-source></uc-external-source>\n  </uc-modal>\n\n  <uc-modal id=\"cloud-image-edit\" strokes block-body-scrolling>\n    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>\n  </uc-modal>\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}