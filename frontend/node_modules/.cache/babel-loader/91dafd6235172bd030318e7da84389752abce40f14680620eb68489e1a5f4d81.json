{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AdminDashboard/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../../utils/api';\nimport './AdminDashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  var _assignContext$user2, _assignContext$user3, _assignContext$user4, _assignContext$user5, _assignContext$user6;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [dashboardStats, setDashboardStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    shuttleStaff: 0,\n    todayAttendance: 0,\n    activeBuses: 0,\n    activeAnnouncements: 0\n  });\n  const [recentActivity, setRecentActivity] = useState([]);\n\n  // Student management state\n  const [students, setStudents] = useState([]);\n  const [filteredStudents, setFilteredStudents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('userID');\n  const [emailStatusFilter, setEmailStatusFilter] = useState('');\n  const [showStudentModal, setShowStudentModal] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [studentForm, setStudentForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Parent',\n    // Parent contact fields included so student + parent can be entered in one form\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [studentFormErrors, setStudentFormErrors] = useState({});\n\n  // Teacher management state\n  const [teachers, setTeachers] = useState([]);\n  const [filteredTeachers, setFilteredTeachers] = useState([]);\n  const [teacherSearchTerm, setTeacherSearchTerm] = useState('');\n  const [teacherSortBy, setTeacherSortBy] = useState('userID');\n  const [teacherEmailStatusFilter, setTeacherEmailStatusFilter] = useState('');\n  const [showTeacherModal, setShowTeacherModal] = useState(false);\n  const [editingTeacher, setEditingTeacher] = useState(null);\n  const [teacherForm, setTeacherForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Teacher',\n    grade: '',\n    class: 'A',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [teacherFormErrors, setTeacherFormErrors] = useState({});\n\n  // Academic assignment state\n  const [academicByUserId, setAcademicByUserId] = useState({}); // { [userID]: { grade, class } }\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [assignContext, setAssignContext] = useState({\n    role: '',\n    user: null\n  });\n  const [assignForm, setAssignForm] = useState({\n    grade: '',\n    class: 'A'\n  });\n\n  // Parent details form states\n  const [showParentDetailsModal, setShowParentDetailsModal] = useState(false);\n  const [parentDetailsForm, setParentDetailsForm] = useState({\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [parentDetailsErrors, setParentDetailsErrors] = useState({});\n  // Track which userIDs had parent details saved during this session to avoid re-prompting\n  const [parentDetailsSaved, setParentDetailsSaved] = useState({});\n\n  // Shuttle Staff management state\n  const [shuttleStaff, setShuttleStaff] = useState([]);\n  const [filteredShuttleStaff, setFilteredShuttleStaff] = useState([]);\n  const [shuttleSearchTerm, setShuttleSearchTerm] = useState('');\n  const [shuttleSortBy, setShuttleSortBy] = useState('userID');\n  const [shuttleEmailStatusFilter, setShuttleEmailStatusFilter] = useState('');\n  const [showShuttleModal, setShowShuttleModal] = useState(false);\n  const [editingShuttle, setEditingShuttle] = useState(null);\n  const [shuttleForm, setShuttleForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'ShuttleStaff',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [shuttleFormErrors, setShuttleFormErrors] = useState({});\n\n  // Admin management state\n  const [admins, setAdmins] = useState([]);\n  const [filteredAdmins, setFilteredAdmins] = useState([]);\n  const [adminSearchTerm, setAdminSearchTerm] = useState('');\n  const [adminSortBy, setAdminSortBy] = useState('userID');\n  const [adminEmailStatusFilter, setAdminEmailStatusFilter] = useState('');\n  const [showAdminModal, setShowAdminModal] = useState(false);\n  const [editingAdmin, setEditingAdmin] = useState(null);\n  const [adminForm, setAdminForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Admin',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [adminFormErrors, setAdminFormErrors] = useState({});\n\n  // Load user data and dashboard statistics\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const userData = await api('/auth/me');\n        setUser((userData === null || userData === void 0 ? void 0 : userData.user) || userData);\n      } catch (error) {\n        console.error('Failed to load user data:', error);\n        // If authentication fails, clear token and redirect to login\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n    const loadDashboardStats = async () => {\n      try {\n        const stats = await api('/users/stats');\n        setDashboardStats({\n          totalStudents: stats.parents || 0,\n          totalTeachers: stats.teachers || 0,\n          shuttleStaff: stats.shuttleStaff || 0,\n          todayAttendance: 0,\n          // This would come from attendance API\n          activeBuses: 12,\n          // This would come from transport API\n          activeAnnouncements: 7 // This would come from announcements API\n        });\n      } catch (error) {\n        console.error('Failed to load dashboard statistics:', error);\n      }\n    };\n    loadUserData();\n    loadDashboardStats();\n    // Note: recent activity depends on the loaded `user` and is handled in a separate effect\n  }, [navigate]);\n\n  // Load recent activity once we have a userID available. This avoids reading properties on null.\n  useEffect(() => {\n    const loadRecentActivity = async () => {\n      try {\n        if (user !== null && user !== void 0 && user.userID) {\n          const response = await api(`/activities/recent/${user.userID}`);\n          setRecentActivity(response.activities || []);\n        } else {\n          setRecentActivity([]);\n        }\n      } catch (error) {\n        console.error('Failed to load recent activity:', error);\n        setRecentActivity([]);\n      }\n    };\n    loadRecentActivity();\n  }, [user === null || user === void 0 ? void 0 : user.userID]);\n\n  // State to track which row's kebab menu is open (store unique id like user._id)\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Close kebab menu when clicking outside\n  useEffect(() => {\n    const handleDocClick = e => {\n      // If click is outside any open kebab menu, close it\n      if (!e.target.closest || !document.querySelector('.kebab-menu')) return;\n      const openMenu = document.querySelector('.kebab-menu.open');\n      if (openMenu && !openMenu.contains(e.target) && !e.target.closest('.kebab-button')) {\n        setOpenMenuId(null);\n      }\n    };\n    document.addEventListener('click', handleDocClick);\n    return () => document.removeEventListener('click', handleDocClick);\n  }, []);\n\n  // Small reusable KebabMenu component (inline)\n  const KebabMenu = ({\n    id,\n    onEdit,\n    onDelete,\n    extraItems\n  }) => {\n    const isOpen = openMenuId === id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kebab-container\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"kebab-button\",\n        \"aria-label\": \"More options\",\n        onClick: e => {\n          e.stopPropagation();\n          setOpenMenuId(isOpen ? null : id);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kebab-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `kebab-menu ${isOpen ? 'open' : ''}`,\n        role: \"menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-item edit-item\",\n          onClick: () => {\n            setOpenMenuId(null);\n            onEdit && onEdit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-icon edit-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), \"Edit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), extraItems, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-item delete-item\",\n          onClick: () => {\n            setOpenMenuId(null);\n            onDelete && onDelete();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-icon delete-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), \"Delete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Validate phone: require exactly 10 digits (digits only)\n  const validatePhoneNumber = phone => {\n    if (!phone || !String(phone).trim()) return {\n      isValid: false,\n      message: 'Phone number is required'\n    };\n    const digits = String(phone).replace(/\\D/g, '');\n    if (digits.length !== 10) return {\n      isValid: false,\n      message: 'Phone number must be exactly 10 digits'\n    };\n    return {\n      isValid: true,\n      normalized: digits\n    };\n  };\n\n  // Check if user is admin, if not redirect to home\n  useEffect(() => {\n    if (user && user.role && user.role.toLowerCase() !== 'admin') {\n      navigate('/');\n    }\n  }, [user, navigate]);\n\n  // Handle tab parameter from URL\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const tabParam = searchParams.get('tab');\n    if (tabParam && ['dashboard', 'students', 'teachers', 'shuttle-staff', 'admins'].includes(tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [location.search]);\n  const handleMenuToggle = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n  const handleMenuClick = menuItem => {\n    setActiveTab(menuItem);\n    // Close sidebar on mobile\n    if (window.innerWidth <= 576) {\n      setSidebarOpen(false);\n    }\n  };\n\n  // Student management functions\n  const loadStudents = useCallback(async () => {\n    try {\n      // Load users from the API and filter only parents\n      const response = await api('/users');\n      const users = response.users || [];\n      const parentUsers = users.filter(user => user.role === 'Parent');\n      setStudents(parentUsers);\n      setFilteredStudents(parentUsers);\n      // Load academic info for parents\n      await loadAcademicAssignments('Parent');\n    } catch (error) {\n      console.error('Failed to load students:', error);\n      // Fallback to empty array if API fails\n      setStudents([]);\n      setFilteredStudents([]);\n    }\n  }, []);\n\n  // Teacher management functions\n  const loadTeachers = useCallback(async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const teacherUsers = users.filter(user => user.role === 'Teacher');\n      setTeachers(teacherUsers);\n      setFilteredTeachers(teacherUsers);\n      // Load academic info for teachers\n      await loadAcademicAssignments('Teacher');\n    } catch (error) {\n      console.error('Failed to load teachers:', error);\n      setTeachers([]);\n      setFilteredTeachers([]);\n    }\n  }, []);\n\n  // Shuttle Staff management functions\n  const loadShuttleStaff = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const shuttleUsers = users.filter(user => user.role === 'ShuttleStaff');\n      setShuttleStaff(shuttleUsers);\n      setFilteredShuttleStaff(shuttleUsers);\n    } catch (error) {\n      console.error('Failed to load shuttle staff:', error);\n      setShuttleStaff([]);\n      setFilteredShuttleStaff([]);\n    }\n  };\n\n  // Admin management functions\n  const loadAdmins = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const adminUsers = users.filter(user => user.role === 'Admin');\n      setAdmins(adminUsers);\n      setFilteredAdmins(adminUsers);\n    } catch (error) {\n      console.error('Failed to load admins:', error);\n      setAdmins([]);\n      setFilteredAdmins([]);\n    }\n  };\n  const filterAndSortStudents = useCallback(() => {\n    let filtered = [...students];\n\n    // Enhanced search filter with better matching\n    if (searchTerm && searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName, _user$email, _user$userID, _user$address;\n        // Check all searchable fields\n        const fullName = ((_user$fullName = user.fullName) === null || _user$fullName === void 0 ? void 0 : _user$fullName.toLowerCase()) || '';\n        const email = ((_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.toLowerCase()) || '';\n        const userID = ((_user$userID = user.userID) === null || _user$userID === void 0 ? void 0 : _user$userID.toLowerCase()) || '';\n        const address = ((_user$address = user.address) === null || _user$address === void 0 ? void 0 : _user$address.toLowerCase()) || '';\n\n        // Search in multiple fields\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n\n    // Email verification status filter\n    if (emailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (emailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (emailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n\n    // Sort users\n    switch (sortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredStudents(filtered);\n  }, [students, searchTerm, emailStatusFilter, sortBy]);\n\n  // Load academic assignments by role and index by userID\n  const loadAcademicAssignments = async role => {\n    try {\n      console.log(`Making API call to /academic?role=${encodeURIComponent(role)}`);\n      const res = await api(`/academic?role=${encodeURIComponent(role)}`);\n      console.log('API response:', res);\n      // Backend returns { academicRecords: [...] }. Be defensive about shapes.\n      const list = Array.isArray(res.academicRecords) ? res.academicRecords : Array.isArray(res) ? res : [];\n      console.log(`Loading academic assignments for ${role}:`, list);\n      setAcademicByUserId(prev => {\n        const copy = {\n          ...prev\n        };\n        list.forEach(r => {\n          // r.userID may be an object (populated) or a string; backend also provides originalUserID\n          const uid = r.userID && r.userID.userID || r.originalUserID || r.userID || null;\n          console.log(`Processing academic record for userID: ${uid}, grade: ${r.grade}, class: ${r.class}`);\n          if (uid) {\n            copy[uid] = {\n              grade: r.grade,\n              class: r.class\n            };\n          }\n        });\n        console.log('Updated academicByUserId:', copy);\n        return copy;\n      });\n    } catch (e) {\n      console.error('Failed to load academic assignments:', e);\n    }\n  };\n  const openAssignModal = (user, role) => {\n    const current = academicByUserId[user.userID] || {\n      grade: '',\n      class: 'A'\n    };\n    setAssignContext({\n      role,\n      user\n    });\n    setAssignForm({\n      grade: current.grade || '',\n      class: current.class || 'A'\n    });\n    setShowAssignModal(true);\n  };\n  const saveAssignment = async e => {\n    e.preventDefault();\n    if (!assignForm.grade || !assignForm.class) return;\n    try {\n      // Try to create assignment first, if it fails with \"already assigned\", then update\n      try {\n        await api('/academic/assign', {\n          method: 'POST',\n          body: {\n            userID: assignContext.user.userID,\n            grade: Number(assignForm.grade),\n            class: assignForm.class\n          }\n        });\n      } catch (createError) {\n        // If creation fails because already assigned, try to update instead\n        if (createError.message && createError.message.includes('already assigned')) {\n          await api(`/academic/${assignContext.user.userID}`, {\n            method: 'PUT',\n            body: {\n              grade: Number(assignForm.grade),\n              class: assignForm.class\n            }\n          });\n        } else {\n          throw createError; // Re-throw if it's a different error\n        }\n      }\n      // Refresh cache for the role\n      await loadAcademicAssignments(assignContext.role);\n\n      // If this was a new student assignment, refresh the students list\n      if (assignContext.role === 'Parent') {\n        var _assignContext$user;\n        await loadStudents();\n        // Show parent details form after academic assignment only if parent details not already saved\n        setShowAssignModal(false);\n        const uid = (_assignContext$user = assignContext.user) === null || _assignContext$user === void 0 ? void 0 : _assignContext$user.userID;\n        if (!uid || !parentDetailsSaved[uid]) {\n          setShowParentDetailsModal(true);\n        }\n        return;\n      }\n      setShowAssignModal(false);\n    } catch (error) {\n      console.error('Failed to save academic assignment:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      alert(`Failed to save assignment: ${error.message || 'Please try again.'}`);\n    }\n  };\n\n  // Teacher filter and sort function\n  const filterAndSortTeachers = useCallback(() => {\n    let filtered = [...teachers];\n    if (teacherSearchTerm && teacherSearchTerm.trim()) {\n      const searchLower = teacherSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName2, _user$email2, _user$userID2, _user$address2;\n        const fullName = ((_user$fullName2 = user.fullName) === null || _user$fullName2 === void 0 ? void 0 : _user$fullName2.toLowerCase()) || '';\n        const email = ((_user$email2 = user.email) === null || _user$email2 === void 0 ? void 0 : _user$email2.toLowerCase()) || '';\n        const userID = ((_user$userID2 = user.userID) === null || _user$userID2 === void 0 ? void 0 : _user$userID2.toLowerCase()) || '';\n        const address = ((_user$address2 = user.address) === null || _user$address2 === void 0 ? void 0 : _user$address2.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (teacherEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (teacherEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (teacherEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (teacherSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredTeachers(filtered);\n  }, [teachers, teacherSearchTerm, teacherEmailStatusFilter, teacherSortBy]);\n\n  // Shuttle Staff filter and sort function\n  const filterAndSortShuttleStaff = useCallback(() => {\n    let filtered = [...shuttleStaff];\n    if (shuttleSearchTerm && shuttleSearchTerm.trim()) {\n      const searchLower = shuttleSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName3, _user$email3, _user$userID3, _user$address3;\n        const fullName = ((_user$fullName3 = user.fullName) === null || _user$fullName3 === void 0 ? void 0 : _user$fullName3.toLowerCase()) || '';\n        const email = ((_user$email3 = user.email) === null || _user$email3 === void 0 ? void 0 : _user$email3.toLowerCase()) || '';\n        const userID = ((_user$userID3 = user.userID) === null || _user$userID3 === void 0 ? void 0 : _user$userID3.toLowerCase()) || '';\n        const address = ((_user$address3 = user.address) === null || _user$address3 === void 0 ? void 0 : _user$address3.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (shuttleEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (shuttleEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (shuttleEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (shuttleSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredShuttleStaff(filtered);\n  }, [shuttleStaff, shuttleSearchTerm, shuttleEmailStatusFilter, shuttleSortBy]);\n\n  // Admin filter and sort function\n  const filterAndSortAdmins = useCallback(() => {\n    let filtered = [...admins];\n    if (adminSearchTerm && adminSearchTerm.trim()) {\n      const searchLower = adminSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        var _user$fullName4, _user$email4, _user$userID4, _user$address4;\n        const fullName = ((_user$fullName4 = user.fullName) === null || _user$fullName4 === void 0 ? void 0 : _user$fullName4.toLowerCase()) || '';\n        const email = ((_user$email4 = user.email) === null || _user$email4 === void 0 ? void 0 : _user$email4.toLowerCase()) || '';\n        const userID = ((_user$userID4 = user.userID) === null || _user$userID4 === void 0 ? void 0 : _user$userID4.toLowerCase()) || '';\n        const address = ((_user$address4 = user.address) === null || _user$address4 === void 0 ? void 0 : _user$address4.toLowerCase()) || '';\n        return fullName.includes(searchLower) || email.includes(searchLower) || userID.includes(searchLower) || address.includes(searchLower);\n      });\n    }\n    if (adminEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (adminEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (adminEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    switch (adminSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    setFilteredAdmins(filtered);\n  }, [admins, adminSearchTerm, adminEmailStatusFilter, adminSortBy]);\n  const handleAddStudent = () => {\n    setEditingStudent(null);\n    setStudentForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Parent'\n    });\n    setShowStudentModal(true);\n  };\n  const handleEditStudent = user => {\n    setEditingStudent(user);\n    setStudentForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role\n    });\n    // If editing a Parent user, try to load existing parent details and merge into the form\n    if (user.role === 'Parent') {\n      (async () => {\n        try {\n          const parentResp = await api(`/parents/${user.userID}`);\n          if (parentResp && parentResp.parentDetails) {\n            setStudentForm(prev => ({\n              ...prev,\n              parentName: parentResp.parentDetails.parentName || '',\n              contactNumber: parentResp.parentDetails.contactNumber || '',\n              whatsappNumber: parentResp.parentDetails.whatsappNumber || ''\n            }));\n          }\n        } catch (err) {\n          // ignore - parent details may not exist yet\n          console.debug('No parent details to preload for user:', user.userID, err.message || err);\n        }\n      })();\n    }\n    setShowStudentModal(true);\n  };\n  const handleDeleteStudent = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedStudents = students.filter(user => user._id !== userId);\n        setStudents(updatedStudents);\n        filterAndSortStudents();\n      } catch (error) {\n        console.error('Failed to delete user:', error);\n        alert('Failed to delete user. Please try again.');\n      }\n    }\n  };\n\n  // Calculate grade based on age\n  const calculateGradeFromAge = birthday => {\n    if (!birthday) return null;\n    const today = new Date();\n    const birthDate = new Date(birthday);\n    const age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    const actualAge = monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate() ? age - 1 : age;\n\n    // Grade calculation: (current year - birth year) - 5 = grade\n    // This means: age 6 = grade 1, age 7 = grade 2, etc.\n    // Ages 6-16 correspond to grades 1-11\n    if (actualAge >= 6 && actualAge <= 16) {\n      return actualAge - 5; // 6 years old = grade 1, 7 years old = grade 2, etc.\n    }\n    return null; // Invalid age range\n  };\n  const handleSaveStudent = async e => {\n    e.preventDefault();\n\n    // Clear previous errors\n    setStudentFormErrors({});\n\n    // Validate form\n    const birthdayValidation = validateBirthday(studentForm.birthday, studentForm.role);\n    if (!birthdayValidation.isValid) {\n      setStudentFormErrors({\n        birthday: birthdayValidation.message\n      });\n      return;\n    }\n\n    // Basic validation\n    if (!studentForm.fullName.trim()) {\n      setStudentFormErrors({\n        fullName: 'Full name is required'\n      });\n      return;\n    }\n    if (!studentForm.email.trim()) {\n      setStudentFormErrors({\n        email: 'Email is required'\n      });\n      return;\n    }\n    if (!studentForm.address.trim()) {\n      setStudentFormErrors({\n        address: 'Address is required'\n      });\n      return;\n    }\n    // Validate parent phone fields if role is Parent and any phone is provided\n    if (studentForm.role === 'Parent') {\n      const errs = {};\n      if (studentForm.contactNumber && studentForm.contactNumber.trim()) {\n        const v = validatePhoneNumber(studentForm.contactNumber);\n        if (!v.isValid) errs.contactNumber = v.message;else studentForm.contactNumber = v.normalized;\n      }\n      if (studentForm.whatsappNumber && studentForm.whatsappNumber.trim()) {\n        const v2 = validatePhoneNumber(studentForm.whatsappNumber);\n        if (!v2.isValid) errs.whatsappNumber = v2.message;else studentForm.whatsappNumber = v2.normalized;\n      }\n      if (Object.keys(errs).length > 0) {\n        setStudentFormErrors(errs);\n        return;\n      }\n    }\n    try {\n      if (editingStudent) {\n        // Update existing user - use MongoDB _id for updates\n        console.log('Updating student with data:', studentForm);\n        const response = await api(`/users/${editingStudent._id}`, {\n          method: 'PUT',\n          body: studentForm\n        });\n        console.log('Student updated successfully:', response);\n        const updatedStudents = students.map(user => user._id === editingStudent._id ? {\n          ...user,\n          ...studentForm\n        } : user);\n        setStudents(updatedStudents);\n        // If user is a Parent, also update/create parent details and mark saved\n        if (studentForm.role === 'Parent') {\n          var _response$user;\n          const targetUserID = ((_response$user = response.user) === null || _response$user === void 0 ? void 0 : _response$user.userID) || editingStudent.userID;\n          try {\n            // Try create first\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: targetUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({\n              ...prev,\n              [targetUserID]: true\n            }));\n          } catch (createErr) {\n            // If creation fails (likely exists), attempt update\n            try {\n              await api(`/parents/${targetUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({\n                ...prev,\n                [targetUserID]: true\n              }));\n            } catch (updateErr) {\n              console.error('Failed to save parent details after updating user:', updateErr);\n            }\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      } else {\n        // Add new user\n        console.log('Creating new student with data:', studentForm);\n        console.log('Student form validation passed, sending to backend...');\n        const response = await api('/users', {\n          method: 'POST',\n          body: studentForm\n        });\n        console.log('Student created successfully:', response);\n        setStudents([...students, response.user]);\n\n        // For new students (parents), calculate grade and show assignment modal\n        // Persist parent details if role is Parent and mark saved\n        if (studentForm.role === 'Parent') {\n          const newUserID = response.user.userID;\n          try {\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: newUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({\n              ...prev,\n              [newUserID]: true\n            }));\n          } catch (parentCreateErr) {\n            // If already exists, try update\n            try {\n              await api(`/parents/${newUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({\n                ...prev,\n                [newUserID]: true\n              }));\n            } catch (parentUpdateErr) {\n              console.error('Failed to create/update parent details for new user:', parentCreateErr, parentUpdateErr);\n            }\n          }\n        }\n        if (studentForm.role === 'Parent') {\n          const calculatedGrade = calculateGradeFromAge(studentForm.birthday);\n          console.log('Calculated grade for birthday', studentForm.birthday, ':', calculatedGrade);\n          if (calculatedGrade) {\n            console.log('Opening assignment modal with grade:', calculatedGrade);\n            // Set up the assignment modal with calculated grade\n            setAssignContext({\n              role: 'Parent',\n              user: response.user\n            });\n            setAssignForm({\n              grade: calculatedGrade.toString(),\n              class: 'A'\n            });\n            setShowStudentModal(false);\n            setShowAssignModal(true);\n            setStudentFormErrors({});\n            console.log('Modal states set - showStudentModal: false, showAssignModal: true');\n            return;\n          } else {\n            console.log('No grade calculated, closing modal');\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      }\n    } catch (error) {\n      console.error('Failed to save user:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      if (error.errors && Array.isArray(error.errors)) {\n        // Handle backend validation errors\n        const errorObj = {};\n        error.errors.forEach(err => {\n          if (err.includes('birthday') || err.includes('Birthday')) {\n            errorObj.birthday = err;\n          } else if (err.includes('email') || err.includes('Email')) {\n            errorObj.email = err;\n          } else if (err.includes('name') || err.includes('Name')) {\n            errorObj.fullName = err;\n          } else if (err.includes('address') || err.includes('Address')) {\n            errorObj.address = err;\n          }\n        });\n        setStudentFormErrors(errorObj);\n      } else {\n        alert(`Failed to save user: ${error.message || 'Please try again.'}`);\n      }\n    }\n  };\n\n  // Teacher handlers\n  const handleAddTeacher = () => {\n    setEditingTeacher(null);\n    setTeacherForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Teacher',\n      grade: '',\n      class: 'A',\n      phone: ''\n    });\n    setShowTeacherModal(true);\n  };\n  const handleEditTeacher = user => {\n    var _academicByUserId$use, _academicByUserId$use2;\n    setEditingTeacher(user);\n    setTeacherForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      grade: ((_academicByUserId$use = academicByUserId[user.userID]) === null || _academicByUserId$use === void 0 ? void 0 : _academicByUserId$use.grade) || '',\n      class: ((_academicByUserId$use2 = academicByUserId[user.userID]) === null || _academicByUserId$use2 === void 0 ? void 0 : _academicByUserId$use2.class) || 'A',\n      phone: user.phone || ''\n    });\n    setShowTeacherModal(true);\n  };\n  const handleDeleteTeacher = async userId => {\n    if (window.confirm('Are you sure you want to delete this teacher?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedTeachers = teachers.filter(user => user._id !== userId);\n        setTeachers(updatedTeachers);\n        filterAndSortTeachers();\n      } catch (error) {\n        console.error('Failed to delete teacher:', error);\n        alert('Failed to delete teacher. Please try again.');\n      }\n    }\n  };\n  const handleSaveTeacher = async e => {\n    e.preventDefault();\n    // Validate phone if provided\n    if (teacherForm.phone && teacherForm.phone.trim()) {\n      const v = validatePhoneNumber(teacherForm.phone);\n      if (!v.isValid) {\n        setTeacherFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setTeacherForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingTeacher) {\n        await api(`/users/${editingTeacher._id}`, {\n          method: 'PUT',\n          body: teacherForm\n        });\n        const updatedTeachers = teachers.map(user => user._id === editingTeacher._id ? {\n          ...user,\n          ...teacherForm\n        } : user);\n        setTeachers(updatedTeachers);\n        // If a grade/class was assigned, save academic assignment for teacher\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: {\n                userID: editingTeacher.userID,\n                grade: Number(teacherForm.grade),\n                class: teacherForm.class || 'A'\n              }\n            });\n          } catch (assignErr) {\n            // If already assigned, update\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              await api(`/academic/${editingTeacher.userID}`, {\n                method: 'PUT',\n                body: {\n                  grade: Number(teacherForm.grade),\n                  class: teacherForm.class || 'A'\n                }\n              });\n            } else {\n              console.error('Failed to assign academic info to teacher:', assignErr);\n            }\n          }\n          // refresh academic cache\n          await loadAcademicAssignments('Teacher');\n        }\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: teacherForm\n        });\n        setTeachers([...teachers, response.user]);\n        // If a grade/class was provided during creation, create academic assignment\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: {\n                userID: response.user.userID,\n                grade: Number(teacherForm.grade),\n                class: teacherForm.class || 'A'\n              }\n            });\n          } catch (assignErr) {\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              try {\n                await api(`/academic/${response.user.userID}`, {\n                  method: 'PUT',\n                  body: {\n                    grade: Number(teacherForm.grade),\n                    class: teacherForm.class || 'A'\n                  }\n                });\n              } catch (uErr) {\n                console.error('Failed to update academic assignment after create:', uErr);\n              }\n            } else {\n              console.error('Failed to assign academic info to new teacher:', assignErr);\n            }\n          }\n          await loadAcademicAssignments('Teacher');\n        }\n      }\n      setShowTeacherModal(false);\n      filterAndSortTeachers();\n    } catch (error) {\n      console.error('Failed to save teacher:', error);\n      alert('Failed to save teacher. Please try again.');\n    }\n  };\n\n  // Shuttle Staff handlers\n  const handleAddShuttle = () => {\n    setEditingShuttle(null);\n    setShuttleForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'ShuttleStaff',\n      phone: ''\n    });\n    setShowShuttleModal(true);\n  };\n  const handleEditShuttle = user => {\n    setEditingShuttle(user);\n    setShuttleForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowShuttleModal(true);\n  };\n  const handleDeleteShuttle = async userId => {\n    if (window.confirm('Are you sure you want to delete this shuttle staff member?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedShuttleStaff = shuttleStaff.filter(user => user._id !== userId);\n        setShuttleStaff(updatedShuttleStaff);\n        filterAndSortShuttleStaff();\n      } catch (error) {\n        console.error('Failed to delete shuttle staff:', error);\n        alert('Failed to delete shuttle staff. Please try again.');\n      }\n    }\n  };\n  const handleSaveShuttle = async e => {\n    e.preventDefault();\n    if (shuttleForm.phone && shuttleForm.phone.trim()) {\n      const v = validatePhoneNumber(shuttleForm.phone);\n      if (!v.isValid) {\n        setShuttleFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setShuttleForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingShuttle) {\n        await api(`/users/${editingShuttle._id}`, {\n          method: 'PUT',\n          body: shuttleForm\n        });\n        const updatedShuttleStaff = shuttleStaff.map(user => user._id === editingShuttle._id ? {\n          ...user,\n          ...shuttleForm\n        } : user);\n        setShuttleStaff(updatedShuttleStaff);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: shuttleForm\n        });\n        setShuttleStaff([...shuttleStaff, response.user]);\n      }\n      setShowShuttleModal(false);\n      filterAndSortShuttleStaff();\n    } catch (error) {\n      console.error('Failed to save shuttle staff:', error);\n      alert('Failed to save shuttle staff. Please try again.');\n    }\n  };\n\n  // Admin handlers\n  const handleAddAdmin = () => {\n    setEditingAdmin(null);\n    setAdminForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Admin',\n      phone: ''\n    });\n    setShowAdminModal(true);\n  };\n  const handleEditAdmin = user => {\n    setEditingAdmin(user);\n    setAdminForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowAdminModal(true);\n  };\n  const handleDeleteAdmin = async userId => {\n    if (window.confirm('Are you sure you want to delete this admin?')) {\n      try {\n        await api(`/users/${userId}`, {\n          method: 'DELETE'\n        });\n        const updatedAdmins = admins.filter(user => user._id !== userId);\n        setAdmins(updatedAdmins);\n        filterAndSortAdmins();\n      } catch (error) {\n        console.error('Failed to delete admin:', error);\n        alert('Failed to delete admin. Please try again.');\n      }\n    }\n  };\n  const handleSaveAdmin = async e => {\n    e.preventDefault();\n    if (adminForm.phone && adminForm.phone.trim()) {\n      const v = validatePhoneNumber(adminForm.phone);\n      if (!v.isValid) {\n        setAdminFormErrors({\n          phone: v.message\n        });\n        return;\n      } else {\n        setAdminForm(prev => ({\n          ...prev,\n          phone: v.normalized\n        }));\n      }\n    }\n    try {\n      if (editingAdmin) {\n        await api(`/users/${editingAdmin._id}`, {\n          method: 'PUT',\n          body: adminForm\n        });\n        const updatedAdmins = admins.map(user => user._id === editingAdmin._id ? {\n          ...user,\n          ...adminForm\n        } : user);\n        setAdmins(updatedAdmins);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: adminForm\n        });\n        setAdmins([...admins, response.user]);\n      }\n      setShowAdminModal(false);\n      filterAndSortAdmins();\n    } catch (error) {\n      console.error('Failed to save admin:', error);\n      alert('Failed to save admin. Please try again.');\n    }\n  };\n\n  // Load data when tabs are active\n  useEffect(() => {\n    if (activeTab === 'students') {\n      loadStudents();\n      // Also load academic assignments for students\n      loadAcademicAssignments('Parent');\n    } else if (activeTab === 'teachers') {\n      loadTeachers();\n      // Also load academic assignments for teachers\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'assignments') {\n      loadAcademicAssignments('Parent');\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'shuttle-staff') {\n      loadShuttleStaff();\n    } else if (activeTab === 'admins') {\n      loadAdmins();\n    } else if (activeTab === 'dashboard') {\n      // Log dashboard access\n      logDashboardAccess();\n    }\n  }, [activeTab, loadStudents, loadTeachers]);\n\n  // Load academic data on component mount\n  useEffect(() => {\n    loadAcademicAssignments('Parent');\n    loadAcademicAssignments('Teacher');\n  }, []);\n\n  // Log dashboard access\n  const logDashboardAccess = async () => {\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'dashboard_viewed',\n          targetType: 'dashboard',\n          targetId: null,\n          targetName: 'Admin Dashboard',\n          description: 'Accessed admin dashboard',\n          details: {\n            section: 'dashboard'\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log dashboard access:', error);\n    }\n  };\n\n  // Filter and sort when filters change\n  useEffect(() => {\n    filterAndSortStudents();\n  }, [searchTerm, sortBy, emailStatusFilter, students, filterAndSortStudents]);\n  useEffect(() => {\n    filterAndSortTeachers();\n  }, [teacherSearchTerm, teacherSortBy, teacherEmailStatusFilter, teachers, filterAndSortTeachers]);\n  useEffect(() => {\n    filterAndSortShuttleStaff();\n  }, [shuttleSearchTerm, shuttleSortBy, shuttleEmailStatusFilter, shuttleStaff, filterAndSortShuttleStaff]);\n  useEffect(() => {\n    filterAndSortAdmins();\n  }, [adminSearchTerm, adminSortBy, adminEmailStatusFilter, admins, filterAndSortAdmins]);\n\n  // Debug modal state changes\n  useEffect(() => {\n    console.log('Modal state changed - showStudentModal:', showStudentModal, 'showAssignModal:', showAssignModal);\n    if (showAssignModal) {\n      console.log('Assignment modal context:', assignContext);\n      console.log('Assignment form:', assignForm);\n    }\n  }, [showStudentModal, showAssignModal, assignContext, assignForm]);\n\n  // Test function to manually load academic data\n  const testLoadAcademic = async () => {\n    console.log('Testing academic data load...');\n    console.log('Current academicByUserId before load:', academicByUserId);\n    await loadAcademicAssignments('Parent');\n    console.log('Current academicByUserId after load:', academicByUserId);\n\n    // Also test the API directly\n    try {\n      const res = await api('/academic?role=Parent');\n      console.log('Direct API call result:', res);\n    } catch (error) {\n      console.error('Direct API call failed:', error);\n    }\n  };\n\n  // Parent details form handlers\n  const handleParentDetailsChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [field]: value\n      }));\n    }\n    // Clear error when user starts typing\n    if (parentDetailsErrors[field]) {\n      setParentDetailsErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n  const handleSaveParentDetails = async e => {\n    e.preventDefault();\n\n    // Validate form\n    const errors = {};\n    if (!parentDetailsForm.parentName.trim()) errors.parentName = 'Parent name is required';\n    if (!parentDetailsForm.contactNumber.trim()) errors.contactNumber = 'Contact number is required';else {\n      const v = validatePhoneNumber(parentDetailsForm.contactNumber);\n      if (!v.isValid) errors.contactNumber = v.message;else parentDetailsForm.contactNumber = v.normalized;\n    }\n    if (!parentDetailsForm.whatsappNumber.trim()) errors.whatsappNumber = 'WhatsApp number is required';else {\n      const v2 = validatePhoneNumber(parentDetailsForm.whatsappNumber);\n      if (!v2.isValid) errors.whatsappNumber = v2.message;else parentDetailsForm.whatsappNumber = v2.normalized;\n    }\n    if (Object.keys(errors).length > 0) {\n      setParentDetailsErrors(errors);\n      return;\n    }\n    try {\n      // Create parent details using the new parent API\n      await api('/parents', {\n        method: 'POST',\n        body: {\n          userID: assignContext.user.userID,\n          ...parentDetailsForm\n        }\n      });\n      setShowParentDetailsModal(false);\n      setParentDetailsForm({\n        parentName: '',\n        contactNumber: '',\n        whatsappNumber: ''\n      });\n      setParentDetailsErrors({});\n\n      // Refresh students list\n      await loadStudents();\n      alert('Parent details saved successfully!');\n    } catch (error) {\n      console.error('Failed to save parent details:', error);\n      alert('Failed to save parent details. Please try again.');\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n  const handleBackToHome = () => {\n    navigate('/');\n  };\n\n  // Validation functions\n  const validateBirthday = (birthday, role) => {\n    if (!birthday) return {\n      isValid: false,\n      message: 'Birthday is required'\n    };\n    const today = new Date();\n    const birthDate = new Date(birthday);\n\n    // Check if birthday is in the future\n    if (birthDate > today) {\n      return {\n        isValid: false,\n        message: 'Birthday cannot be in the future'\n      };\n    }\n\n    // Check age limits for Parent role (students should be 6-16 years old for grades 1-11)\n    if (role === 'Parent') {\n      const age = today.getFullYear() - birthDate.getFullYear();\n      const monthDiff = today.getMonth() - birthDate.getMonth();\n      const actualAge = monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate() ? age - 1 : age;\n      if (actualAge < 6) {\n        return {\n          isValid: false,\n          message: 'Student must be at least 6 years old'\n        };\n      }\n      if (actualAge > 16) {\n        return {\n          isValid: false,\n          message: 'Student cannot be older than 16 years'\n        };\n      }\n    }\n    return {\n      isValid: true,\n      message: ''\n    };\n  };\n\n  // Enhanced search handler with debouncing\n  const handleSearchChange = e => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    // Real-time search - no need for manual trigger\n  };\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    filterAndSortStudents();\n  };\n  const clearSearch = () => {\n    setSearchTerm('');\n    filterAndSortStudents();\n  };\n  const handleRowClick = async user => {\n    // Log activity for viewing user profile\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'user_viewed',\n          targetType: 'user',\n          targetId: user._id,\n          targetName: user.fullName,\n          description: `Viewed ${user.role} profile: ${user.fullName} (${user.userID})`,\n          details: {\n            role: user.role,\n            email: user.email\n          }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log user view activity:', error);\n      // Continue with navigation even if logging fails\n    }\n\n    // Navigate to profile page with user ID and current tab as parameters\n    navigate(`/profile/${user._id}?from=${activeTab}`);\n  };\n\n  // Function to highlight search terms in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n    return parts.map((part, index) => {\n      if (regex.test(part)) {\n        return /*#__PURE__*/_jsxDEV(\"mark\", {\n          className: \"search-highlight\",\n          children: part\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1413,\n          columnNumber: 16\n        }, this);\n      }\n      return part;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"menu-toggle\",\n      onClick: handleMenuToggle,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-bars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1423,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1422,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar ${sidebarOpen ? 'active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-graduation-cap fa-2x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Smart Alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'dashboard' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('dashboard'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-tachometer-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'students' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('students'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-graduate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1441,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'teachers' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('teachers'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chalkboard-teacher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Teachers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'shuttle-staff' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('shuttle-staff'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bus-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Shuttle Staff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'admins' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('admins'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-shield\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Admins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `menu-item ${activeTab === 'assignments' ? 'active' : ''}`,\n          onClick: () => handleMenuClick('assignments'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Assignments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('attendance'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-clipboard-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('transportation'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Transportation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1463,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('performance'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chart-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Performance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('announcements'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bullhorn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Announcements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('communication'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Communication\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1477,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: () => handleMenuClick('settings'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-cog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1479,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: handleBackToHome,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back to Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-sign-out-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1489,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1434,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1427,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1500,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notifications\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-bell fa-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1505,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"notification-badge\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1506,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info-clickable\",\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              cursor: 'pointer'\n            },\n            onClick: async () => {\n              // Log profile view activity\n              try {\n                await api('/activities/log', {\n                  method: 'POST',\n                  body: {\n                    action: 'profile_viewed',\n                    targetType: 'profile',\n                    targetId: user === null || user === void 0 ? void 0 : user.userID,\n                    targetName: (user === null || user === void 0 ? void 0 : user.name) || 'Admin User',\n                    description: 'Viewed own profile',\n                    details: {\n                      role: user === null || user === void 0 ? void 0 : user.role\n                    }\n                  }\n                });\n              } catch (error) {\n                console.error('Failed to log profile view activity:', error);\n              }\n              navigate('/profile');\n            },\n            title: \"View Profile\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user fa-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1534,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: (user === null || user === void 0 ? void 0 : user.name) || 'Admin User'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1537,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1538,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1536,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1509,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1503,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1497,\n        columnNumber: 9\n      }, this), activeTab === 'dashboard' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.totalStudents.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1552,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total Students\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1553,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon students\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user-graduate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1556,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1550,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.totalTeachers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1564,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Total Teachers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1565,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1563,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon teachers\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chalkboard-teacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1568,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1562,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1561,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dashboardStats.shuttleStaff\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1576,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Shuttle Staff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1577,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1575,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon shuttle-staff\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bus-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1580,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1579,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1574,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1573,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1588,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Today's Attendance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1589,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1587,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon attendance\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clipboard-check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1592,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1591,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1586,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1585,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Active Buses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1601,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1599,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon transport\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1604,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1603,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1597,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1612,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Active Announcements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1613,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1611,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-icon announcements\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-bullhorn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1616,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1615,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1610,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"charts\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Student Performance Overview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1626,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Last 7 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1628,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Last 30 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1629,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Last 3 months\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1630,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1627,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1625,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-placeholder\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chart-bar fa-3x\",\n                  style: {\n                    color: '#00bfa5',\n                    marginBottom: '10px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1634,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1634,\n                  columnNumber: 115\n                }, this), \"Chart visualization would appear here with real data\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1634,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1633,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1624,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Attendance Statistics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1640,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"This Week\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1642,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"This Month\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1643,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"This Year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1644,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1641,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-placeholder\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-chart-pie fa-3x\",\n                  style: {\n                    color: '#00bfa5',\n                    marginBottom: '10px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1648,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1648,\n                  columnNumber: 115\n                }, this), \"Attendance Chart Visualization\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1648,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1647,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1638,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1623,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recent-activity\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1655,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-list\",\n            children: recentActivity.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-icon\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-${activity.type}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1659,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: activity.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: activity.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1664,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1662,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-time\",\n                children: activity.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1666,\n                columnNumber: 21\n              }, this)]\n            }, activity.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1658,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1656,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1654,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'students' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Student Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1679,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-buttons\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: handleAddStudent,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1682,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add New Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1683,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1681,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1680,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1678,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search students by name, userID, email, or address...\",\n              value: searchTerm,\n              onChange: handleSearchChange,\n              onKeyPress: e => e.key === 'Enter' && handleSearchSubmit(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: clearSearch,\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1706,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1700,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleSearchSubmit,\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1714,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1709,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1698,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1690,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"emailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1721,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"emailStatusFilter\",\n                value: emailStatusFilter,\n                onChange: e => setEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1727,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1728,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1729,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1722,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1720,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"sortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1733,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"sortBy\",\n                value: sortBy,\n                onChange: e => setSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1739,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1740,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1741,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1734,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1732,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1719,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1689,\n          columnNumber: 13\n        }, this), (searchTerm || emailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredStudents.length, \" result\", filteredStudents.length !== 1 ? 's' : '', \" found\", searchTerm && ` for \"${highlightText(searchTerm, searchTerm)}\"`, emailStatusFilter && ` (${emailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1750,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSearchTerm('');\n              setEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1755,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1749,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1766,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Student\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1767,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1768,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1769,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1770,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1771,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1772,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1773,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1774,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1775,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1765,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1764,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredStudents.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"8\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No Students found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1781,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1780,\n                columnNumber: 21\n              }, this) : filteredStudents.map((user, index) => {\n                var _academicByUserId$use3, _academicByUserId$use4, _academicByUserId$use5, _academicByUserId$use6;\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1791,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: searchTerm ? highlightText(user.fullName, searchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1795,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", searchTerm ? highlightText(user.userID, searchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1798,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1794,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1793,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1792,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchTerm ? highlightText(user.email, searchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1804,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1807,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1806,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1805,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use3 = (_academicByUserId$use4 = academicByUserId[user.userID]) === null || _academicByUserId$use4 === void 0 ? void 0 : _academicByUserId$use4.grade) !== null && _academicByUserId$use3 !== void 0 ? _academicByUserId$use3 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1811,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use5 = (_academicByUserId$use6 = academicByUserId[user.userID]) === null || _academicByUserId$use6 === void 0 ? void 0 : _academicByUserId$use6.class) !== null && _academicByUserId$use5 !== void 0 ? _academicByUserId$use5 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1812,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchTerm ? highlightText(user.address, searchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1813,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1814,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1815,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `student-${user._id}`,\n                        onEdit: () => handleEditStudent(user),\n                        onDelete: () => handleDeleteStudent(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1818,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1817,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1816,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1790,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1763,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1762,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'teachers' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Teacher Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1840,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddTeacher,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1842,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1843,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1841,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1839,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search teachers by name, userID, email, or address...\",\n              value: teacherSearchTerm,\n              onChange: e => setTeacherSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1850,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [teacherSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setTeacherSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1865,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1859,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortTeachers(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1873,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1868,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1857,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1849,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"teacherEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1880,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"teacherEmailStatusFilter\",\n                value: teacherEmailStatusFilter,\n                onChange: e => setTeacherEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1886,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1887,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1888,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1881,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1879,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"teacherSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1892,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"teacherSortBy\",\n                value: teacherSortBy,\n                onChange: e => setTeacherSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1898,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1899,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1900,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1893,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1891,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1878,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1848,\n          columnNumber: 13\n        }, this), (teacherSearchTerm || teacherEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredTeachers.length, \" result\", filteredTeachers.length !== 1 ? 's' : '', \" found\", teacherSearchTerm && ` for \"${teacherSearchTerm}\"`, teacherEmailStatusFilter && ` (${teacherEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1909,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setTeacherSearchTerm('');\n              setTeacherEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1914,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1908,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1925,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Teacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1926,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1927,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1928,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1929,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1930,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1931,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1932,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1933,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1934,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1935,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1924,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1923,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredTeachers.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"10\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No teachers found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1941,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1940,\n                columnNumber: 21\n              }, this) : filteredTeachers.map((user, index) => {\n                var _academicByUserId$use7, _academicByUserId$use8, _academicByUserId$use9, _academicByUserId$use0;\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1951,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: teacherSearchTerm ? highlightText(user.fullName, teacherSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1955,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", teacherSearchTerm ? highlightText(user.userID, teacherSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1958,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1954,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1953,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1952,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.email, teacherSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1964,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.phone || '-', teacherSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1965,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1968,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1967,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1966,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use7 = (_academicByUserId$use8 = academicByUserId[user.userID]) === null || _academicByUserId$use8 === void 0 ? void 0 : _academicByUserId$use8.grade) !== null && _academicByUserId$use7 !== void 0 ? _academicByUserId$use7 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1972,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_academicByUserId$use9 = (_academicByUserId$use0 = academicByUserId[user.userID]) === null || _academicByUserId$use0 === void 0 ? void 0 : _academicByUserId$use0.class) !== null && _academicByUserId$use9 !== void 0 ? _academicByUserId$use9 : '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1973,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: teacherSearchTerm ? highlightText(user.address, teacherSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1974,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1975,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1976,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `teacher-${user._id}`,\n                        onEdit: () => handleEditTeacher(user),\n                        onDelete: () => handleDeleteTeacher(user._id),\n                        extraItems: /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"divider\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1985,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"menu-item\",\n                            onClick: () => {\n                              setOpenMenuId(null);\n                              openAssignModal(user, 'Teacher');\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"menu-icon\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1987,\n                              columnNumber: 39\n                            }, this), \"Assign\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1986,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1979,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1978,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1977,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1950,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1938,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1922,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1921,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'shuttle-staff' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Shuttle Staff Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2010,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddShuttle,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2012,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Staff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2013,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2011,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2009,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search shuttle staff by name, userID, email, or address...\",\n              value: shuttleSearchTerm,\n              onChange: e => setShuttleSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2020,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [shuttleSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShuttleSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2035,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2029,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortShuttleStaff(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2043,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2038,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2027,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2019,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"shuttleEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2050,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"shuttleEmailStatusFilter\",\n                value: shuttleEmailStatusFilter,\n                onChange: e => setShuttleEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2056,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2057,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2058,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2051,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2049,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"shuttleSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2062,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"shuttleSortBy\",\n                value: shuttleSortBy,\n                onChange: e => setShuttleSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2068,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2069,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2070,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2063,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2061,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2048,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2018,\n          columnNumber: 13\n        }, this), (shuttleSearchTerm || shuttleEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredShuttleStaff.length, \" result\", filteredShuttleStaff.length !== 1 ? 's' : '', \" found\", shuttleSearchTerm && ` for \"${shuttleSearchTerm}\"`, shuttleEmailStatusFilter && ` (${shuttleEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2079,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShuttleSearchTerm('');\n              setShuttleEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2084,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2078,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2095,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Staff Member\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2096,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2097,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2098,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2099,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2100,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2101,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2102,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2103,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2094,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2093,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredShuttleStaff.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"9\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No shuttle staff found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2109,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2108,\n                columnNumber: 21\n              }, this) : filteredShuttleStaff.map((user, index) => {\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2119,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: shuttleSearchTerm ? highlightText(user.fullName, shuttleSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2123,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", shuttleSearchTerm ? highlightText(user.userID, shuttleSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2126,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2122,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2121,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2120,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.email, shuttleSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2132,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.phone || '-', shuttleSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2133,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2136,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2135,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2134,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shuttleSearchTerm ? highlightText(user.address, shuttleSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2140,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2141,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2142,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `shuttle-${user._id}`,\n                        onEdit: () => handleEditShuttle(user),\n                        onDelete: () => handleDeleteShuttle(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2145,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2144,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2143,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2118,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2092,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2091,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'admins' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Admin Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleAddAdmin,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add New Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar-large\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search admins by name, userID, email, or address...\",\n              value: adminSearchTerm,\n              onChange: e => setAdminSearchTerm(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-buttons\",\n              children: [adminSearchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setAdminSearchTerm(''),\n                className: \"clear-search-btn\",\n                title: \"Clear search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2192,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2186,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => filterAndSortAdmins(),\n                title: \"Search\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2200,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filters-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"adminEmailStatusFilter\",\n                children: \"Email Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"adminEmailStatusFilter\",\n                value: adminEmailStatusFilter,\n                onChange: e => setAdminEmailStatusFilter(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2213,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"verified\",\n                  children: \"Verified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2214,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"unverified\",\n                  children: \"Unverified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2215,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"adminSortBy\",\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"adminSortBy\",\n                value: adminSortBy,\n                onChange: e => setAdminSortBy(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"userID\",\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2225,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name\",\n                  children: \"Name (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name (Z-A)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2227,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2220,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2218,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2175,\n          columnNumber: 13\n        }, this), (adminSearchTerm || adminEmailStatusFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [filteredAdmins.length, \" result\", filteredAdmins.length !== 1 ? 's' : '', \" found\", adminSearchTerm && ` for \"${adminSearchTerm}\"`, adminEmailStatusFilter && ` (${adminEmailStatusFilter} emails)`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2236,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setAdminSearchTerm('');\n              setAdminEmailStatusFilter('');\n            },\n            className: \"clear-all-btn\",\n            children: \"Clear filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2241,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2235,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"students-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"students-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2253,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Birthday\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2251,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredAdmins.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"9\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px',\n                    color: 'var(--text-light)'\n                  },\n                  children: \"No admins found matching your criteria.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2266,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2265,\n                columnNumber: 21\n              }, this) : filteredAdmins.map((user, index) => {\n                const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"clickable-row\",\n                  onClick: () => handleRowClick(user),\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"row-number\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2276,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"student-info\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-name\",\n                          children: adminSearchTerm ? highlightText(user.fullName, adminSearchTerm) : user.fullName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2280,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"student-id\",\n                          children: [\"ID: \", adminSearchTerm ? highlightText(user.userID, adminSearchTerm) : user.userID]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2283,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2279,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2278,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2277,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.email, adminSearchTerm) : user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2289,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.phone || '-', adminSearchTerm) : user.phone || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2290,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2293,\n                        columnNumber: 31\n                      }, this), user.isEmailVerified ? 'Verified' : 'Unverified']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2292,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2291,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminSearchTerm ? highlightText(user.address, adminSearchTerm) : user.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2297,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: birthday\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2298,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [age, \" years old\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2299,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: e => e.stopPropagation(),\n                      children: /*#__PURE__*/_jsxDEV(KebabMenu, {\n                        id: `admin-${user._id}`,\n                        onEdit: () => handleEditAdmin(user),\n                        onDelete: () => handleDeleteAdmin(user._id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2302,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2301,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2300,\n                    columnNumber: 27\n                  }, this)]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2275,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2248,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1495,\n      columnNumber: 7\n    }, this), showStudentModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingStudent ? 'Edit Student' : 'Add New Student'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowStudentModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveStudent,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fullName\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"fullName\",\n              value: studentForm.fullName,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  fullName: e.target.value\n                });\n                if (studentFormErrors.fullName) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    fullName: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., John Doe\",\n              className: studentFormErrors.fullName ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2339,\n              columnNumber: 17\n            }, this), studentFormErrors.fullName && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2354,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2359,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              value: studentForm.email,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  email: e.target.value\n                });\n                if (studentFormErrors.email) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    email: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., john.doe@school.edu\",\n              className: studentFormErrors.email ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2360,\n              columnNumber: 17\n            }, this), studentFormErrors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"birthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"birthday\",\n              value: studentForm.birthday,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  birthday: e.target.value\n                });\n                if (studentFormErrors.birthday) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    birthday: ''\n                  });\n                }\n              },\n              required: true,\n              max: new Date().toISOString().split('T')[0],\n              className: studentFormErrors.birthday ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2381,\n              columnNumber: 17\n            }, this), studentFormErrors.birthday && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.birthday\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2396,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"address\",\n              value: studentForm.address,\n              onChange: e => {\n                setStudentForm({\n                  ...studentForm,\n                  address: e.target.value\n                });\n                if (studentFormErrors.address) {\n                  setStudentFormErrors({\n                    ...studentFormErrors,\n                    address: ''\n                  });\n                }\n              },\n              required: true,\n              placeholder: \"e.g., 123 Main St, City, State\",\n              className: studentFormErrors.address ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2402,\n              columnNumber: 17\n            }, this), studentFormErrors.address && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: studentFormErrors.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2417,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"parentName\",\n              children: \"Parent / Guardian Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"parentName\",\n              value: studentForm.parentName,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                parentName: e.target.value\n              }),\n              placeholder: \"e.g., Jane Doe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"contactNumber\",\n              children: \"Parent Contact Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2434,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"contactNumber\",\n              value: studentForm.contactNumber,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                contactNumber: e.target.value\n              }),\n              className: studentFormErrors.contactNumber ? 'error' : '',\n              placeholder: \"e.g., +94 7XX XXX XXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2435,\n              columnNumber: 17\n            }, this), studentFormErrors.contactNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: studentFormErrors.contactNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2444,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2433,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"whatsappNumber\",\n              children: \"Parent WhatsApp Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"whatsappNumber\",\n              value: studentForm.whatsappNumber,\n              onChange: e => setStudentForm({\n                ...studentForm,\n                whatsappNumber: e.target.value\n              }),\n              className: studentFormErrors.whatsappNumber ? 'error' : '',\n              placeholder: \"e.g., +94 7XX XXX XXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2450,\n              columnNumber: 17\n            }, this), studentFormErrors.whatsappNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: studentFormErrors.whatsappNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2459,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowStudentModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingStudent ? 'Update Student' : 'Save Student'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2336,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2323,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2322,\n      columnNumber: 9\n    }, this), showTeacherModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingTeacher ? 'Edit Teacher' : 'Add New Teacher'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowTeacherModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2488,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2484,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveTeacher,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"teacherFullName\",\n              value: teacherForm.fullName,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"teacherEmail\",\n              value: teacherForm.email,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2508,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2506,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"teacherBirthday\",\n              value: teacherForm.birthday,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2518,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2526,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"teacherAddress\",\n              value: teacherForm.address,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2527,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherPhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"teacherPhone\",\n              value: teacherForm.phone,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: teacherFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2536,\n              columnNumber: 17\n            }, this), teacherFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: teacherFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2544,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2534,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherGrade\",\n              children: \"Assign Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2547,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"teacherGrade\",\n              min: \"1\",\n              max: \"11\",\n              value: teacherForm.grade,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                grade: e.target.value\n              }),\n              placeholder: \"e.g., 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2546,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"teacherClass\",\n              children: \"Assign Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2559,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"teacherClass\",\n              value: teacherForm.class,\n              onChange: e => setTeacherForm({\n                ...teacherForm,\n                class: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"A\",\n                children: \"A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2565,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"B\",\n                children: \"B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"C\",\n                children: \"C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowTeacherModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2571,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingTeacher ? 'Update Teacher' : 'Save Teacher'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2570,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2495,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2483,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2482,\n      columnNumber: 9\n    }, this), showShuttleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingShuttle ? 'Edit Shuttle Staff' : 'Add New Shuttle Staff'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2595,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowShuttleModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2598,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2594,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveShuttle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2607,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"shuttleFullName\",\n              value: shuttleForm.fullName,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2608,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2606,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"shuttleEmail\",\n              value: shuttleForm.email,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2618,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2616,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2627,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"shuttleBirthday\",\n              value: shuttleForm.birthday,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2628,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2626,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttleAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2636,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"shuttleAddress\",\n              value: shuttleForm.address,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2635,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttlePhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2645,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"shuttlePhone\",\n              value: shuttleForm.phone,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: shuttleFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2646,\n              columnNumber: 17\n            }, this), shuttleFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: shuttleFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2654,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"shuttlePhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2657,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"shuttlePhone\",\n              value: shuttleForm.phone,\n              onChange: e => setShuttleForm({\n                ...shuttleForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2658,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2656,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowShuttleModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2667,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingShuttle ? 'Update Staff' : 'Save Staff'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2674,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2666,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2605,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2593,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2592,\n      columnNumber: 9\n    }, this), showAdminModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: editingAdmin ? 'Edit Admin' : 'Add New Admin'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowAdminModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2694,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2690,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveAdmin,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminFullName\",\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2703,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"adminFullName\",\n              value: adminForm.fullName,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                fullName: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2704,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2702,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminEmail\",\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2713,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"adminEmail\",\n              value: adminForm.email,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2714,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2712,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminBirthday\",\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2723,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"adminBirthday\",\n              value: adminForm.birthday,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                birthday: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2724,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2722,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminAddress\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2732,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"adminAddress\",\n              value: adminForm.address,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2733,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2731,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"adminPhone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"adminPhone\",\n              value: adminForm.phone,\n              onChange: e => setAdminForm({\n                ...adminForm,\n                phone: e.target.value\n              }),\n              placeholder: \"e.g., +94771234567\",\n              className: adminFormErrors.phone ? 'error' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2742,\n              columnNumber: 17\n            }, this), adminFormErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: adminFormErrors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2750,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowAdminModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: editingAdmin ? 'Update Admin' : 'Save Admin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2760,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2752,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2701,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2689,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2688,\n      columnNumber: 9\n    }, this), showAssignModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: academicByUserId[(_assignContext$user2 = assignContext.user) === null || _assignContext$user2 === void 0 ? void 0 : _assignContext$user2.userID] ? 'Edit Assignment' : 'Assign Grade & Class'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2777,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowAssignModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2780,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2776,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: saveAssignment,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2789,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: `${((_assignContext$user3 = assignContext.user) === null || _assignContext$user3 === void 0 ? void 0 : _assignContext$user3.fullName) || ''} (${((_assignContext$user4 = assignContext.user) === null || _assignContext$user4 === void 0 ? void 0 : _assignContext$user4.userID) || ''})`,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2790,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2788,\n            columnNumber: 15\n          }, this), !academicByUserId[(_assignContext$user5 = assignContext.user) === null || _assignContext$user5 === void 0 ? void 0 : _assignContext$user5.userID] && assignContext.role === 'Parent' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              backgroundColor: '#e8f5e8',\n              padding: '10px',\n              borderRadius: '5px',\n              marginBottom: '15px',\n              border: '1px solid #4caf50'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                color: '#2e7d32',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-info-circle\",\n                style: {\n                  marginRight: '5px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2803,\n                columnNumber: 21\n              }, this), \"Grade \", assignForm.grade, \" has been automatically calculated based on the student's age. You can modify it if needed and select the class.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2802,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2795,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"assignGrade\",\n              children: \"Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"assignGrade\",\n              value: assignForm.grade,\n              onChange: e => setAssignForm({\n                ...assignForm,\n                grade: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Select Grade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2818,\n                columnNumber: 19\n              }, this), Array.from({\n                length: 11\n              }, (_, i) => i + 1).map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: g,\n                children: g\n              }, g, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2820,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2812,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2810,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"assignClass\",\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2825,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"assignClass\",\n              value: assignForm.class,\n              onChange: e => setAssignForm({\n                ...assignForm,\n                class: e.target.value\n              }),\n              required: true,\n              children: ['A', 'B', 'C'].map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c,\n                children: c\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2833,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2826,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2824,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowAssignModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2838,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: academicByUserId[(_assignContext$user6 = assignContext.user) === null || _assignContext$user6 === void 0 ? void 0 : _assignContext$user6.userID] ? 'Update Assignment' : 'Assign Grade & Class'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2845,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2837,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2787,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2775,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2774,\n      columnNumber: 9\n    }, this), showParentDetailsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"modal-title\",\n            children: \"Parent Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2859,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setShowParentDetailsModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2860,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2858,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSaveParentDetails,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"parentName\",\n              children: \"Parent Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2870,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"parentName\",\n              value: parentDetailsForm.parentName,\n              onChange: e => handleParentDetailsChange('parentName', e.target.value),\n              className: parentDetailsErrors.parentName ? 'error' : '',\n              placeholder: \"Enter parent name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2871,\n              columnNumber: 17\n            }, this), parentDetailsErrors.parentName && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.parentName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2880,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2869,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"contactNumber\",\n              children: \"Contact Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2885,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"contactNumber\",\n              value: parentDetailsForm.contactNumber,\n              onChange: e => handleParentDetailsChange('contactNumber', e.target.value),\n              className: parentDetailsErrors.contactNumber ? 'error' : '',\n              placeholder: \"Enter contact number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2886,\n              columnNumber: 17\n            }, this), parentDetailsErrors.contactNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.contactNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2895,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2884,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"whatsappNumber\",\n              children: \"WhatsApp Number *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2900,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"whatsappNumber\",\n              value: parentDetailsForm.whatsappNumber,\n              onChange: e => handleParentDetailsChange('whatsappNumber', e.target.value),\n              className: parentDetailsErrors.whatsappNumber ? 'error' : '',\n              placeholder: \"Enter WhatsApp number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2901,\n              columnNumber: 17\n            }, this), parentDetailsErrors.whatsappNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: parentDetailsErrors.whatsappNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2910,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2899,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-btn btn-cancel\",\n              onClick: () => setShowParentDetailsModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2915,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-btn btn-submit\",\n              children: \"Save Parent Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2922,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2914,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2868,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2857,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2856,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1420,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"symOJtCXUCSdEw52k6//IutWUVc=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useLocation","api","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","_s","_assignContext$user2","_assignContext$user3","_assignContext$user4","_assignContext$user5","_assignContext$user6","navigate","location","sidebarOpen","setSidebarOpen","activeTab","setActiveTab","user","setUser","dashboardStats","setDashboardStats","totalStudents","totalTeachers","shuttleStaff","todayAttendance","activeBuses","activeAnnouncements","recentActivity","setRecentActivity","students","setStudents","filteredStudents","setFilteredStudents","searchTerm","setSearchTerm","sortBy","setSortBy","emailStatusFilter","setEmailStatusFilter","showStudentModal","setShowStudentModal","editingStudent","setEditingStudent","studentForm","setStudentForm","fullName","birthday","address","email","role","parentName","contactNumber","whatsappNumber","studentFormErrors","setStudentFormErrors","teachers","setTeachers","filteredTeachers","setFilteredTeachers","teacherSearchTerm","setTeacherSearchTerm","teacherSortBy","setTeacherSortBy","teacherEmailStatusFilter","setTeacherEmailStatusFilter","showTeacherModal","setShowTeacherModal","editingTeacher","setEditingTeacher","teacherForm","setTeacherForm","grade","class","phone","teacherFormErrors","setTeacherFormErrors","academicByUserId","setAcademicByUserId","showAssignModal","setShowAssignModal","assignContext","setAssignContext","assignForm","setAssignForm","showParentDetailsModal","setShowParentDetailsModal","parentDetailsForm","setParentDetailsForm","parentDetailsErrors","setParentDetailsErrors","parentDetailsSaved","setParentDetailsSaved","setShuttleStaff","filteredShuttleStaff","setFilteredShuttleStaff","shuttleSearchTerm","setShuttleSearchTerm","shuttleSortBy","setShuttleSortBy","shuttleEmailStatusFilter","setShuttleEmailStatusFilter","showShuttleModal","setShowShuttleModal","editingShuttle","setEditingShuttle","shuttleForm","setShuttleForm","shuttleFormErrors","setShuttleFormErrors","admins","setAdmins","filteredAdmins","setFilteredAdmins","adminSearchTerm","setAdminSearchTerm","adminSortBy","setAdminSortBy","adminEmailStatusFilter","setAdminEmailStatusFilter","showAdminModal","setShowAdminModal","editingAdmin","setEditingAdmin","adminForm","setAdminForm","adminFormErrors","setAdminFormErrors","loadUserData","userData","error","console","localStorage","removeItem","loadDashboardStats","stats","parents","loadRecentActivity","userID","response","activities","openMenuId","setOpenMenuId","handleDocClick","e","target","closest","document","querySelector","openMenu","contains","addEventListener","removeEventListener","KebabMenu","id","onEdit","onDelete","extraItems","isOpen","className","onClick","stopPropagation","children","fileName","_jsxFileName","lineNumber","columnNumber","validatePhoneNumber","String","trim","isValid","message","digits","replace","length","normalized","toLowerCase","searchParams","URLSearchParams","search","tabParam","get","includes","handleMenuToggle","handleMenuClick","menuItem","window","innerWidth","loadStudents","users","parentUsers","filter","loadAcademicAssignments","loadTeachers","teacherUsers","loadShuttleStaff","shuttleUsers","loadAdmins","adminUsers","filterAndSortStudents","filtered","searchLower","_user$fullName","_user$email","_user$userID","_user$address","isEmailVerified","sort","a","b","localeCompare","log","encodeURIComponent","res","list","Array","isArray","academicRecords","prev","copy","forEach","r","uid","originalUserID","openAssignModal","current","saveAssignment","preventDefault","method","body","Number","createError","_assignContext$user","alert","filterAndSortTeachers","_user$fullName2","_user$email2","_user$userID2","_user$address2","filterAndSortShuttleStaff","_user$fullName3","_user$email3","_user$userID3","_user$address3","filterAndSortAdmins","_user$fullName4","_user$email4","_user$userID4","_user$address4","handleAddStudent","handleEditStudent","Date","toISOString","split","parentResp","parentDetails","err","debug","handleDeleteStudent","userId","confirm","updatedStudents","_id","calculateGradeFromAge","today","birthDate","age","getFullYear","monthDiff","getMonth","actualAge","getDate","handleSaveStudent","birthdayValidation","validateBirthday","errs","v","v2","Object","keys","map","_response$user","targetUserID","createErr","updateErr","newUserID","parentCreateErr","parentUpdateErr","calculatedGrade","toString","errors","errorObj","handleAddTeacher","handleEditTeacher","_academicByUserId$use","_academicByUserId$use2","handleDeleteTeacher","updatedTeachers","handleSaveTeacher","assignErr","uErr","handleAddShuttle","handleEditShuttle","handleDeleteShuttle","updatedShuttleStaff","handleSaveShuttle","handleAddAdmin","handleEditAdmin","handleDeleteAdmin","updatedAdmins","handleSaveAdmin","logDashboardAccess","action","targetType","targetId","targetName","description","details","section","testLoadAcademic","handleParentDetailsChange","field","value","parent","child","handleSaveParentDetails","handleLogout","handleBackToHome","handleSearchChange","handleSearchSubmit","clearSearch","handleRowClick","highlightText","text","regex","RegExp","parts","part","index","test","type","placeholder","style","display","alignItems","cursor","name","title","toLocaleString","color","marginBottom","activity","time","onChange","onKeyPress","key","htmlFor","colSpan","textAlign","padding","_academicByUserId$use3","_academicByUserId$use4","_academicByUserId$use5","_academicByUserId$use6","Math","floor","toLocaleDateString","_academicByUserId$use7","_academicByUserId$use8","_academicByUserId$use9","_academicByUserId$use0","onSubmit","required","max","min","readOnly","backgroundColor","borderRadius","border","margin","fontSize","marginRight","disabled","from","_","i","g","c","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/AdminDashboard/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../../utils/api';\nimport './AdminDashboard.css';\n\nconst AdminDashboard = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [user, setUser] = useState(null);\n  const [dashboardStats, setDashboardStats] = useState({\n    totalStudents: 0,\n    totalTeachers: 0,\n    shuttleStaff: 0,\n    todayAttendance: 0,\n    activeBuses: 0,\n    activeAnnouncements: 0\n  });\n  const [recentActivity, setRecentActivity] = useState([]);\n  \n  // Student management state\n  const [students, setStudents] = useState([]);\n  const [filteredStudents, setFilteredStudents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('userID');\n  const [emailStatusFilter, setEmailStatusFilter] = useState('');\n  const [showStudentModal, setShowStudentModal] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [studentForm, setStudentForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Parent',\n    // Parent contact fields included so student + parent can be entered in one form\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [studentFormErrors, setStudentFormErrors] = useState({});\n\n  // Teacher management state\n  const [teachers, setTeachers] = useState([]);\n  const [filteredTeachers, setFilteredTeachers] = useState([]);\n  const [teacherSearchTerm, setTeacherSearchTerm] = useState('');\n  const [teacherSortBy, setTeacherSortBy] = useState('userID');\n  const [teacherEmailStatusFilter, setTeacherEmailStatusFilter] = useState('');\n  const [showTeacherModal, setShowTeacherModal] = useState(false);\n  const [editingTeacher, setEditingTeacher] = useState(null);\n  const [teacherForm, setTeacherForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Teacher',\n    grade: '',\n    class: 'A',\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [teacherFormErrors, setTeacherFormErrors] = useState({});\n\n  // Academic assignment state\n  const [academicByUserId, setAcademicByUserId] = useState({}); // { [userID]: { grade, class } }\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [assignContext, setAssignContext] = useState({ role: '', user: null });\n  const [assignForm, setAssignForm] = useState({ grade: '', class: 'A' });\n\n  // Parent details form states\n  const [showParentDetailsModal, setShowParentDetailsModal] = useState(false);\n  const [parentDetailsForm, setParentDetailsForm] = useState({\n    parentName: '',\n    contactNumber: '',\n    whatsappNumber: ''\n  });\n  const [parentDetailsErrors, setParentDetailsErrors] = useState({});\n  // Track which userIDs had parent details saved during this session to avoid re-prompting\n  const [parentDetailsSaved, setParentDetailsSaved] = useState({});\n\n  // Shuttle Staff management state\n  const [shuttleStaff, setShuttleStaff] = useState([]);\n  const [filteredShuttleStaff, setFilteredShuttleStaff] = useState([]);\n  const [shuttleSearchTerm, setShuttleSearchTerm] = useState('');\n  const [shuttleSortBy, setShuttleSortBy] = useState('userID');\n  const [shuttleEmailStatusFilter, setShuttleEmailStatusFilter] = useState('');\n  const [showShuttleModal, setShowShuttleModal] = useState(false);\n  const [editingShuttle, setEditingShuttle] = useState(null);\n  const [shuttleForm, setShuttleForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'ShuttleStaff'\n    ,\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [shuttleFormErrors, setShuttleFormErrors] = useState({});\n\n  // Admin management state\n  const [admins, setAdmins] = useState([]);\n  const [filteredAdmins, setFilteredAdmins] = useState([]);\n  const [adminSearchTerm, setAdminSearchTerm] = useState('');\n  const [adminSortBy, setAdminSortBy] = useState('userID');\n  const [adminEmailStatusFilter, setAdminEmailStatusFilter] = useState('');\n  const [showAdminModal, setShowAdminModal] = useState(false);\n  const [editingAdmin, setEditingAdmin] = useState(null);\n  const [adminForm, setAdminForm] = useState({\n    fullName: '',\n    birthday: '',\n    address: '',\n    email: '',\n    role: 'Admin'\n    ,\n    phone: ''\n  });\n  // eslint-disable-next-line no-unused-vars\n  const [adminFormErrors, setAdminFormErrors] = useState({});\n\n  // Load user data and dashboard statistics\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const userData = await api('/auth/me');\n        setUser(userData?.user || userData);\n      } catch (error) {\n        console.error('Failed to load user data:', error);\n        // If authentication fails, clear token and redirect to login\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n\n    const loadDashboardStats = async () => {\n      try {\n        const stats = await api('/users/stats');\n        setDashboardStats({\n          totalStudents: stats.parents || 0,\n          totalTeachers: stats.teachers || 0,\n          shuttleStaff: stats.shuttleStaff || 0,\n          todayAttendance: 0, // This would come from attendance API\n          activeBuses: 12, // This would come from transport API\n          activeAnnouncements: 7 // This would come from announcements API\n        });\n      } catch (error) {\n        console.error('Failed to load dashboard statistics:', error);\n      }\n    };\n\n    loadUserData();\n    loadDashboardStats();\n    // Note: recent activity depends on the loaded `user` and is handled in a separate effect\n  }, [navigate]);\n\n  // Load recent activity once we have a userID available. This avoids reading properties on null.\n  useEffect(() => {\n    const loadRecentActivity = async () => {\n      try {\n        if (user?.userID) {\n          const response = await api(`/activities/recent/${user.userID}`);\n          setRecentActivity(response.activities || []);\n        } else {\n          setRecentActivity([]);\n        }\n      } catch (error) {\n        console.error('Failed to load recent activity:', error);\n        setRecentActivity([]);\n      }\n    };\n\n    loadRecentActivity();\n  }, [user?.userID]);\n\n  // State to track which row's kebab menu is open (store unique id like user._id)\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Close kebab menu when clicking outside\n  useEffect(() => {\n    const handleDocClick = (e) => {\n      // If click is outside any open kebab menu, close it\n      if (!e.target.closest || !document.querySelector('.kebab-menu')) return;\n      const openMenu = document.querySelector('.kebab-menu.open');\n      if (openMenu && !openMenu.contains(e.target) && !e.target.closest('.kebab-button')) {\n        setOpenMenuId(null);\n      }\n    };\n    document.addEventListener('click', handleDocClick);\n    return () => document.removeEventListener('click', handleDocClick);\n  }, []);\n\n  // Small reusable KebabMenu component (inline)\n  const KebabMenu = ({ id, onEdit, onDelete, extraItems }) => {\n    const isOpen = openMenuId === id;\n    return (\n      <div className=\"kebab-container\" onClick={(e) => e.stopPropagation()}>\n        <button\n          className=\"kebab-button\"\n          aria-label=\"More options\"\n          onClick={(e) => { e.stopPropagation(); setOpenMenuId(isOpen ? null : id); }}\n        >\n          <div className=\"kebab-dot\"></div>\n          <div className=\"kebab-dot\"></div>\n          <div className=\"kebab-dot\"></div>\n        </button>\n        <div className={`kebab-menu ${isOpen ? 'open' : ''}`} role=\"menu\">\n          <button className=\"menu-item edit-item\" onClick={() => { setOpenMenuId(null); onEdit && onEdit(); }}>\n            <div className=\"menu-icon edit-icon\" />\n            Edit\n          </button>\n          {extraItems}\n          <div className=\"divider\" />\n          <button className=\"menu-item delete-item\" onClick={() => { setOpenMenuId(null); onDelete && onDelete(); }}>\n            <div className=\"menu-icon delete-icon\" />\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Validate phone: require exactly 10 digits (digits only)\n  const validatePhoneNumber = (phone) => {\n    if (!phone || !String(phone).trim()) return { isValid: false, message: 'Phone number is required' };\n    const digits = String(phone).replace(/\\D/g, '');\n    if (digits.length !== 10) return { isValid: false, message: 'Phone number must be exactly 10 digits' };\n    return { isValid: true, normalized: digits };\n  };\n\n  // Check if user is admin, if not redirect to home\n  useEffect(() => {\n    if (user && user.role && user.role.toLowerCase() !== 'admin') {\n      navigate('/');\n    }\n  }, [user, navigate]);\n\n  // Handle tab parameter from URL\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const tabParam = searchParams.get('tab');\n    if (tabParam && ['dashboard', 'students', 'teachers', 'shuttle-staff', 'admins'].includes(tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [location.search]);\n\n  const handleMenuToggle = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  const handleMenuClick = (menuItem) => {\n    setActiveTab(menuItem);\n    // Close sidebar on mobile\n    if (window.innerWidth <= 576) {\n      setSidebarOpen(false);\n    }\n  };\n\n  // Student management functions\n  const loadStudents = useCallback(async () => {\n    try {\n      // Load users from the API and filter only parents\n      const response = await api('/users');\n      const users = response.users || [];\n      const parentUsers = users.filter(user => user.role === 'Parent');\n      setStudents(parentUsers);\n      setFilteredStudents(parentUsers);\n      // Load academic info for parents\n      await loadAcademicAssignments('Parent');\n    } catch (error) {\n      console.error('Failed to load students:', error);\n      // Fallback to empty array if API fails\n      setStudents([]);\n      setFilteredStudents([]);\n    }\n  }, []);\n\n  // Teacher management functions\n  const loadTeachers = useCallback(async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const teacherUsers = users.filter(user => user.role === 'Teacher');\n      setTeachers(teacherUsers);\n      setFilteredTeachers(teacherUsers);\n      // Load academic info for teachers\n      await loadAcademicAssignments('Teacher');\n    } catch (error) {\n      console.error('Failed to load teachers:', error);\n      setTeachers([]);\n      setFilteredTeachers([]);\n    }\n  }, []);\n\n  // Shuttle Staff management functions\n  const loadShuttleStaff = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const shuttleUsers = users.filter(user => user.role === 'ShuttleStaff');\n      setShuttleStaff(shuttleUsers);\n      setFilteredShuttleStaff(shuttleUsers);\n    } catch (error) {\n      console.error('Failed to load shuttle staff:', error);\n      setShuttleStaff([]);\n      setFilteredShuttleStaff([]);\n    }\n  };\n\n  // Admin management functions\n  const loadAdmins = async () => {\n    try {\n      const response = await api('/users');\n      const users = response.users || [];\n      const adminUsers = users.filter(user => user.role === 'Admin');\n      setAdmins(adminUsers);\n      setFilteredAdmins(adminUsers);\n    } catch (error) {\n      console.error('Failed to load admins:', error);\n      setAdmins([]);\n      setFilteredAdmins([]);\n    }\n  };\n\n  const filterAndSortStudents = useCallback(() => {\n    let filtered = [...students];\n    \n    // Enhanced search filter with better matching\n    if (searchTerm && searchTerm.trim()) {\n      const searchLower = searchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        // Check all searchable fields\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        // Search in multiple fields\n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    // Email verification status filter\n    if (emailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (emailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (emailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    // Sort users\n    switch(sortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredStudents(filtered);\n  }, [students, searchTerm, emailStatusFilter, sortBy]);\n\n  // Load academic assignments by role and index by userID\n  const loadAcademicAssignments = async (role) => {\n    try {\n      console.log(`Making API call to /academic?role=${encodeURIComponent(role)}`);\n      const res = await api(`/academic?role=${encodeURIComponent(role)}`);\n      console.log('API response:', res);\n      // Backend returns { academicRecords: [...] }. Be defensive about shapes.\n      const list = Array.isArray(res.academicRecords) ? res.academicRecords : (Array.isArray(res) ? res : []);\n      console.log(`Loading academic assignments for ${role}:`, list);\n      setAcademicByUserId(prev => {\n        const copy = { ...prev };\n        list.forEach(r => {\n          // r.userID may be an object (populated) or a string; backend also provides originalUserID\n          const uid = (r.userID && r.userID.userID) || r.originalUserID || r.userID || null;\n          console.log(`Processing academic record for userID: ${uid}, grade: ${r.grade}, class: ${r.class}`);\n          if (uid) {\n            copy[uid] = { grade: r.grade, class: r.class };\n          }\n        });\n        console.log('Updated academicByUserId:', copy);\n        return copy;\n      });\n    } catch (e) {\n      console.error('Failed to load academic assignments:', e);\n    }\n  };\n\n  const openAssignModal = (user, role) => {\n    const current = academicByUserId[user.userID] || { grade: '', class: 'A' };\n    setAssignContext({ role, user });\n    setAssignForm({ grade: current.grade || '', class: current.class || 'A' });\n    setShowAssignModal(true);\n  };\n\n  const saveAssignment = async (e) => {\n    e.preventDefault();\n    if (!assignForm.grade || !assignForm.class) return;\n    try {\n      // Try to create assignment first, if it fails with \"already assigned\", then update\n      try {\n        await api('/academic/assign', {\n          method: 'POST',\n          body: { userID: assignContext.user.userID, grade: Number(assignForm.grade), class: assignForm.class }\n        });\n      } catch (createError) {\n        // If creation fails because already assigned, try to update instead\n        if (createError.message && createError.message.includes('already assigned')) {\n          await api(`/academic/${assignContext.user.userID}`, {\n            method: 'PUT',\n            body: { grade: Number(assignForm.grade), class: assignForm.class }\n          });\n        } else {\n          throw createError; // Re-throw if it's a different error\n        }\n      }\n      // Refresh cache for the role\n      await loadAcademicAssignments(assignContext.role);\n      \n      // If this was a new student assignment, refresh the students list\n      if (assignContext.role === 'Parent') {\n        await loadStudents();\n        // Show parent details form after academic assignment only if parent details not already saved\n        setShowAssignModal(false);\n        const uid = assignContext.user?.userID;\n        if (!uid || !parentDetailsSaved[uid]) {\n          setShowParentDetailsModal(true);\n        }\n        return;\n      }\n      \n      setShowAssignModal(false);\n    } catch (error) {\n      console.error('Failed to save academic assignment:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      alert(`Failed to save assignment: ${error.message || 'Please try again.'}`);\n    }\n  };\n\n  // Teacher filter and sort function\n  const filterAndSortTeachers = useCallback(() => {\n    let filtered = [...teachers];\n    \n    if (teacherSearchTerm && teacherSearchTerm.trim()) {\n      const searchLower = teacherSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (teacherEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (teacherEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (teacherEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(teacherSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredTeachers(filtered);\n  }, [teachers, teacherSearchTerm, teacherEmailStatusFilter, teacherSortBy]);\n\n  // Shuttle Staff filter and sort function\n  const filterAndSortShuttleStaff = useCallback(() => {\n    let filtered = [...shuttleStaff];\n    \n    if (shuttleSearchTerm && shuttleSearchTerm.trim()) {\n      const searchLower = shuttleSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (shuttleEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (shuttleEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (shuttleEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(shuttleSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredShuttleStaff(filtered);\n  }, [shuttleStaff, shuttleSearchTerm, shuttleEmailStatusFilter, shuttleSortBy]);\n\n  // Admin filter and sort function\n  const filterAndSortAdmins = useCallback(() => {\n    let filtered = [...admins];\n    \n    if (adminSearchTerm && adminSearchTerm.trim()) {\n      const searchLower = adminSearchTerm.toLowerCase().trim();\n      filtered = filtered.filter(user => {\n        const fullName = user.fullName?.toLowerCase() || '';\n        const email = user.email?.toLowerCase() || '';\n        const userID = user.userID?.toLowerCase() || '';\n        const address = user.address?.toLowerCase() || '';\n        \n        return fullName.includes(searchLower) ||\n               email.includes(searchLower) ||\n               userID.includes(searchLower) ||\n               address.includes(searchLower);\n      });\n    }\n    \n    if (adminEmailStatusFilter) {\n      filtered = filtered.filter(user => {\n        if (adminEmailStatusFilter === 'verified') {\n          return user.isEmailVerified === true;\n        } else if (adminEmailStatusFilter === 'unverified') {\n          return user.isEmailVerified === false;\n        }\n        return true;\n      });\n    }\n    \n    switch(adminSortBy) {\n      case 'name':\n        filtered.sort((a, b) => a.fullName.localeCompare(b.fullName));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.fullName.localeCompare(a.fullName));\n        break;\n      case 'userID':\n        filtered.sort((a, b) => a.userID.localeCompare(b.userID));\n        break;\n      default:\n        // No sorting\n        break;\n    }\n    \n    setFilteredAdmins(filtered);\n  }, [admins, adminSearchTerm, adminEmailStatusFilter, adminSortBy]);\n\n  const handleAddStudent = () => {\n    setEditingStudent(null);\n    setStudentForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Parent'\n    });\n    setShowStudentModal(true);\n  };\n\n  const handleEditStudent = (user) => {\n    setEditingStudent(user);\n    setStudentForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role\n    });\n    // If editing a Parent user, try to load existing parent details and merge into the form\n    if (user.role === 'Parent') {\n      (async () => {\n        try {\n          const parentResp = await api(`/parents/${user.userID}`);\n          if (parentResp && parentResp.parentDetails) {\n            setStudentForm(prev => ({\n              ...prev,\n              parentName: parentResp.parentDetails.parentName || '',\n              contactNumber: parentResp.parentDetails.contactNumber || '',\n              whatsappNumber: parentResp.parentDetails.whatsappNumber || ''\n            }));\n          }\n        } catch (err) {\n          // ignore - parent details may not exist yet\n          console.debug('No parent details to preload for user:', user.userID, err.message || err);\n        }\n      })();\n    }\n    setShowStudentModal(true);\n  };\n\n  const handleDeleteStudent = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedStudents = students.filter(user => user._id !== userId);\n        setStudents(updatedStudents);\n        filterAndSortStudents();\n      } catch (error) {\n        console.error('Failed to delete user:', error);\n        alert('Failed to delete user. Please try again.');\n      }\n    }\n  };\n\n  // Calculate grade based on age\n  const calculateGradeFromAge = (birthday) => {\n    if (!birthday) return null;\n    \n    const today = new Date();\n    const birthDate = new Date(birthday);\n    const age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    const actualAge = monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate()) ? age - 1 : age;\n    \n    // Grade calculation: (current year - birth year) - 5 = grade\n    // This means: age 6 = grade 1, age 7 = grade 2, etc.\n    // Ages 6-16 correspond to grades 1-11\n    if (actualAge >= 6 && actualAge <= 16) {\n      return actualAge - 5; // 6 years old = grade 1, 7 years old = grade 2, etc.\n    }\n    \n    return null; // Invalid age range\n  };\n\n  const handleSaveStudent = async (e) => {\n    e.preventDefault();\n    \n    // Clear previous errors\n    setStudentFormErrors({});\n    \n    // Validate form\n    const birthdayValidation = validateBirthday(studentForm.birthday, studentForm.role);\n    if (!birthdayValidation.isValid) {\n      setStudentFormErrors({ birthday: birthdayValidation.message });\n      return;\n    }\n    \n    // Basic validation\n    if (!studentForm.fullName.trim()) {\n      setStudentFormErrors({ fullName: 'Full name is required' });\n      return;\n    }\n    if (!studentForm.email.trim()) {\n      setStudentFormErrors({ email: 'Email is required' });\n      return;\n    }\n    if (!studentForm.address.trim()) {\n      setStudentFormErrors({ address: 'Address is required' });\n      return;\n    }\n    // Validate parent phone fields if role is Parent and any phone is provided\n    if (studentForm.role === 'Parent') {\n      const errs = {};\n      if (studentForm.contactNumber && studentForm.contactNumber.trim()) {\n        const v = validatePhoneNumber(studentForm.contactNumber);\n        if (!v.isValid) errs.contactNumber = v.message; else studentForm.contactNumber = v.normalized;\n      }\n      if (studentForm.whatsappNumber && studentForm.whatsappNumber.trim()) {\n        const v2 = validatePhoneNumber(studentForm.whatsappNumber);\n        if (!v2.isValid) errs.whatsappNumber = v2.message; else studentForm.whatsappNumber = v2.normalized;\n      }\n      if (Object.keys(errs).length > 0) {\n        setStudentFormErrors(errs);\n        return;\n      }\n    }\n    \n    try {\n      if (editingStudent) {\n        // Update existing user - use MongoDB _id for updates\n        console.log('Updating student with data:', studentForm);\n        const response = await api(`/users/${editingStudent._id}`, {\n          method: 'PUT',\n          body: studentForm\n        });\n        console.log('Student updated successfully:', response);\n        const updatedStudents = students.map(user => \n          user._id === editingStudent._id \n            ? { ...user, ...studentForm }\n            : user\n        );\n        setStudents(updatedStudents);\n        // If user is a Parent, also update/create parent details and mark saved\n        if (studentForm.role === 'Parent') {\n          const targetUserID = response.user?.userID || editingStudent.userID;\n          try {\n            // Try create first\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: targetUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({ ...prev, [targetUserID]: true }));\n          } catch (createErr) {\n            // If creation fails (likely exists), attempt update\n            try {\n              await api(`/parents/${targetUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({ ...prev, [targetUserID]: true }));\n            } catch (updateErr) {\n              console.error('Failed to save parent details after updating user:', updateErr);\n            }\n          }\n        }\n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      } else {\n        // Add new user\n        console.log('Creating new student with data:', studentForm);\n        console.log('Student form validation passed, sending to backend...');\n        const response = await api('/users', {\n          method: 'POST',\n          body: studentForm\n        });\n        console.log('Student created successfully:', response);\n        setStudents([...students, response.user]);\n        \n        // For new students (parents), calculate grade and show assignment modal\n        // Persist parent details if role is Parent and mark saved\n        if (studentForm.role === 'Parent') {\n          const newUserID = response.user.userID;\n          try {\n            await api('/parents', {\n              method: 'POST',\n              body: {\n                userID: newUserID,\n                parentName: studentForm.parentName,\n                contactNumber: studentForm.contactNumber,\n                whatsappNumber: studentForm.whatsappNumber\n              }\n            });\n            setParentDetailsSaved(prev => ({ ...prev, [newUserID]: true }));\n          } catch (parentCreateErr) {\n            // If already exists, try update\n            try {\n              await api(`/parents/${newUserID}`, {\n                method: 'PUT',\n                body: {\n                  parentName: studentForm.parentName,\n                  contactNumber: studentForm.contactNumber,\n                  whatsappNumber: studentForm.whatsappNumber\n                }\n              });\n              setParentDetailsSaved(prev => ({ ...prev, [newUserID]: true }));\n            } catch (parentUpdateErr) {\n              console.error('Failed to create/update parent details for new user:', parentCreateErr, parentUpdateErr);\n            }\n          }\n        }\n\n        if (studentForm.role === 'Parent') {\n          const calculatedGrade = calculateGradeFromAge(studentForm.birthday);\n          console.log('Calculated grade for birthday', studentForm.birthday, ':', calculatedGrade);\n          if (calculatedGrade) {\n            console.log('Opening assignment modal with grade:', calculatedGrade);\n            // Set up the assignment modal with calculated grade\n            setAssignContext({ \n              role: 'Parent', \n              user: response.user \n            });\n            setAssignForm({ \n              grade: calculatedGrade.toString(), \n              class: 'A' \n            });\n            setShowStudentModal(false);\n            setShowAssignModal(true);\n            setStudentFormErrors({});\n            console.log('Modal states set - showStudentModal: false, showAssignModal: true');\n            return;\n          } else {\n            console.log('No grade calculated, closing modal');\n          }\n        }\n        \n        setShowStudentModal(false);\n        setStudentFormErrors({});\n        filterAndSortStudents();\n      }\n    } catch (error) {\n      console.error('Failed to save user:', error);\n      console.error('Error details:', error.message);\n      console.error('Error response:', error);\n      \n      if (error.errors && Array.isArray(error.errors)) {\n        // Handle backend validation errors\n        const errorObj = {};\n        error.errors.forEach(err => {\n          if (err.includes('birthday') || err.includes('Birthday')) {\n            errorObj.birthday = err;\n          } else if (err.includes('email') || err.includes('Email')) {\n            errorObj.email = err;\n          } else if (err.includes('name') || err.includes('Name')) {\n            errorObj.fullName = err;\n          } else if (err.includes('address') || err.includes('Address')) {\n            errorObj.address = err;\n          }\n        });\n        setStudentFormErrors(errorObj);\n      } else {\n        alert(`Failed to save user: ${error.message || 'Please try again.'}`);\n      }\n    }\n  };\n\n  // Teacher handlers\n  const handleAddTeacher = () => {\n    setEditingTeacher(null);\n    setTeacherForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Teacher',\n      grade: '',\n      class: 'A',\n      phone: ''\n    });\n    setShowTeacherModal(true);\n  };\n\n  const handleEditTeacher = (user) => {\n    setEditingTeacher(user);\n    setTeacherForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      grade: academicByUserId[user.userID]?.grade || '',\n      class: academicByUserId[user.userID]?.class || 'A',\n      phone: user.phone || ''\n    });\n    setShowTeacherModal(true);\n  };\n\n  const handleDeleteTeacher = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this teacher?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedTeachers = teachers.filter(user => user._id !== userId);\n        setTeachers(updatedTeachers);\n        filterAndSortTeachers();\n      } catch (error) {\n        console.error('Failed to delete teacher:', error);\n        alert('Failed to delete teacher. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveTeacher = async (e) => {\n    e.preventDefault();\n    // Validate phone if provided\n    if (teacherForm.phone && teacherForm.phone.trim()) {\n      const v = validatePhoneNumber(teacherForm.phone);\n      if (!v.isValid) {\n        setTeacherFormErrors({ phone: v.message });\n        return;\n      } else {\n        setTeacherForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingTeacher) {\n        await api(`/users/${editingTeacher._id}`, {\n          method: 'PUT',\n          body: teacherForm\n        });\n        const updatedTeachers = teachers.map(user => \n          user._id === editingTeacher._id \n            ? { ...user, ...teacherForm }\n            : user\n        );\n        setTeachers(updatedTeachers);\n        // If a grade/class was assigned, save academic assignment for teacher\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: { userID: editingTeacher.userID, grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n            });\n          } catch (assignErr) {\n            // If already assigned, update\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              await api(`/academic/${editingTeacher.userID}`, {\n                method: 'PUT',\n                body: { grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n              });\n            } else {\n              console.error('Failed to assign academic info to teacher:', assignErr);\n            }\n          }\n          // refresh academic cache\n          await loadAcademicAssignments('Teacher');\n        }\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: teacherForm\n        });\n        setTeachers([...teachers, response.user]);\n        // If a grade/class was provided during creation, create academic assignment\n        if (teacherForm.grade) {\n          try {\n            await api('/academic/assign', {\n              method: 'POST',\n              body: { userID: response.user.userID, grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n            });\n          } catch (assignErr) {\n            if (assignErr.message && assignErr.message.includes('already assigned')) {\n              try {\n                await api(`/academic/${response.user.userID}`, {\n                  method: 'PUT',\n                  body: { grade: Number(teacherForm.grade), class: teacherForm.class || 'A' }\n                });\n              } catch (uErr) {\n                console.error('Failed to update academic assignment after create:', uErr);\n              }\n            } else {\n              console.error('Failed to assign academic info to new teacher:', assignErr);\n            }\n          }\n          await loadAcademicAssignments('Teacher');\n        }\n      }\n      \n      setShowTeacherModal(false);\n      filterAndSortTeachers();\n    } catch (error) {\n      console.error('Failed to save teacher:', error);\n      alert('Failed to save teacher. Please try again.');\n    }\n  };\n\n  // Shuttle Staff handlers\n  const handleAddShuttle = () => {\n    setEditingShuttle(null);\n    setShuttleForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'ShuttleStaff',\n      phone: ''\n    });\n    setShowShuttleModal(true);\n  };\n\n  const handleEditShuttle = (user) => {\n    setEditingShuttle(user);\n    setShuttleForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowShuttleModal(true);\n  };\n\n  const handleDeleteShuttle = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this shuttle staff member?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedShuttleStaff = shuttleStaff.filter(user => user._id !== userId);\n        setShuttleStaff(updatedShuttleStaff);\n        filterAndSortShuttleStaff();\n      } catch (error) {\n        console.error('Failed to delete shuttle staff:', error);\n        alert('Failed to delete shuttle staff. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveShuttle = async (e) => {\n    e.preventDefault();\n    if (shuttleForm.phone && shuttleForm.phone.trim()) {\n      const v = validatePhoneNumber(shuttleForm.phone);\n      if (!v.isValid) {\n        setShuttleFormErrors({ phone: v.message });\n        return;\n      } else {\n        setShuttleForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingShuttle) {\n        await api(`/users/${editingShuttle._id}`, {\n          method: 'PUT',\n          body: shuttleForm\n        });\n        const updatedShuttleStaff = shuttleStaff.map(user => \n          user._id === editingShuttle._id \n            ? { ...user, ...shuttleForm }\n            : user\n        );\n        setShuttleStaff(updatedShuttleStaff);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: shuttleForm\n        });\n        setShuttleStaff([...shuttleStaff, response.user]);\n      }\n      \n      setShowShuttleModal(false);\n      filterAndSortShuttleStaff();\n    } catch (error) {\n      console.error('Failed to save shuttle staff:', error);\n      alert('Failed to save shuttle staff. Please try again.');\n    }\n  };\n\n  // Admin handlers\n  const handleAddAdmin = () => {\n    setEditingAdmin(null);\n    setAdminForm({\n      fullName: '',\n      birthday: '',\n      address: '',\n      email: '',\n      role: 'Admin',\n      phone: ''\n    });\n    setShowAdminModal(true);\n  };\n\n  const handleEditAdmin = (user) => {\n    setEditingAdmin(user);\n    setAdminForm({\n      fullName: user.fullName,\n      birthday: user.birthday ? new Date(user.birthday).toISOString().split('T')[0] : '',\n      address: user.address,\n      email: user.email,\n      role: user.role,\n      phone: user.phone || ''\n    });\n    setShowAdminModal(true);\n  };\n\n  const handleDeleteAdmin = async (userId) => {\n    if (window.confirm('Are you sure you want to delete this admin?')) {\n      try {\n        await api(`/users/${userId}`, { method: 'DELETE' });\n        const updatedAdmins = admins.filter(user => user._id !== userId);\n        setAdmins(updatedAdmins);\n        filterAndSortAdmins();\n      } catch (error) {\n        console.error('Failed to delete admin:', error);\n        alert('Failed to delete admin. Please try again.');\n      }\n    }\n  };\n\n  const handleSaveAdmin = async (e) => {\n    e.preventDefault();\n    if (adminForm.phone && adminForm.phone.trim()) {\n      const v = validatePhoneNumber(adminForm.phone);\n      if (!v.isValid) {\n        setAdminFormErrors({ phone: v.message });\n        return;\n      } else {\n        setAdminForm(prev => ({ ...prev, phone: v.normalized }));\n      }\n    }\n    \n    try {\n      if (editingAdmin) {\n        await api(`/users/${editingAdmin._id}`, {\n          method: 'PUT',\n          body: adminForm\n        });\n        const updatedAdmins = admins.map(user => \n          user._id === editingAdmin._id \n            ? { ...user, ...adminForm }\n            : user\n        );\n        setAdmins(updatedAdmins);\n      } else {\n        const response = await api('/users', {\n          method: 'POST',\n          body: adminForm\n        });\n        setAdmins([...admins, response.user]);\n      }\n      \n      setShowAdminModal(false);\n      filterAndSortAdmins();\n    } catch (error) {\n      console.error('Failed to save admin:', error);\n      alert('Failed to save admin. Please try again.');\n    }\n  };\n\n  // Load data when tabs are active\n  useEffect(() => {\n    if (activeTab === 'students') {\n      loadStudents();\n      // Also load academic assignments for students\n      loadAcademicAssignments('Parent');\n    } else if (activeTab === 'teachers') {\n      loadTeachers();\n      // Also load academic assignments for teachers\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'assignments') {\n      loadAcademicAssignments('Parent');\n      loadAcademicAssignments('Teacher');\n    } else if (activeTab === 'shuttle-staff') {\n      loadShuttleStaff();\n    } else if (activeTab === 'admins') {\n      loadAdmins();\n    } else if (activeTab === 'dashboard') {\n      // Log dashboard access\n      logDashboardAccess();\n    }\n  }, [activeTab, loadStudents, loadTeachers]);\n\n  // Load academic data on component mount\n  useEffect(() => {\n    loadAcademicAssignments('Parent');\n    loadAcademicAssignments('Teacher');\n  }, []);\n\n  // Log dashboard access\n  const logDashboardAccess = async () => {\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'dashboard_viewed',\n          targetType: 'dashboard',\n          targetId: null,\n          targetName: 'Admin Dashboard',\n          description: 'Accessed admin dashboard',\n          details: { section: 'dashboard' }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log dashboard access:', error);\n    }\n  };\n\n  // Filter and sort when filters change\n  useEffect(() => {\n    filterAndSortStudents();\n  }, [searchTerm, sortBy, emailStatusFilter, students, filterAndSortStudents]);\n\n  useEffect(() => {\n    filterAndSortTeachers();\n  }, [teacherSearchTerm, teacherSortBy, teacherEmailStatusFilter, teachers, filterAndSortTeachers]);\n\n  useEffect(() => {\n    filterAndSortShuttleStaff();\n  }, [shuttleSearchTerm, shuttleSortBy, shuttleEmailStatusFilter, shuttleStaff, filterAndSortShuttleStaff]);\n\n  useEffect(() => {\n    filterAndSortAdmins();\n  }, [adminSearchTerm, adminSortBy, adminEmailStatusFilter, admins, filterAndSortAdmins]);\n\n  // Debug modal state changes\n  useEffect(() => {\n    console.log('Modal state changed - showStudentModal:', showStudentModal, 'showAssignModal:', showAssignModal);\n    if (showAssignModal) {\n      console.log('Assignment modal context:', assignContext);\n      console.log('Assignment form:', assignForm);\n    }\n  }, [showStudentModal, showAssignModal, assignContext, assignForm]);\n\n  // Test function to manually load academic data\n  const testLoadAcademic = async () => {\n    console.log('Testing academic data load...');\n    console.log('Current academicByUserId before load:', academicByUserId);\n    await loadAcademicAssignments('Parent');\n    console.log('Current academicByUserId after load:', academicByUserId);\n    \n    // Also test the API directly\n    try {\n      const res = await api('/academic?role=Parent');\n      console.log('Direct API call result:', res);\n    } catch (error) {\n      console.error('Direct API call failed:', error);\n    }\n  };\n\n  // Parent details form handlers\n  const handleParentDetailsChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setParentDetailsForm(prev => ({\n        ...prev,\n        [field]: value\n      }));\n    }\n    // Clear error when user starts typing\n    if (parentDetailsErrors[field]) {\n      setParentDetailsErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n\n  const handleSaveParentDetails = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    const errors = {};\n    if (!parentDetailsForm.parentName.trim()) errors.parentName = 'Parent name is required';\n    if (!parentDetailsForm.contactNumber.trim()) errors.contactNumber = 'Contact number is required';\n    else {\n      const v = validatePhoneNumber(parentDetailsForm.contactNumber);\n      if (!v.isValid) errors.contactNumber = v.message;\n      else parentDetailsForm.contactNumber = v.normalized;\n    }\n    if (!parentDetailsForm.whatsappNumber.trim()) errors.whatsappNumber = 'WhatsApp number is required';\n    else {\n      const v2 = validatePhoneNumber(parentDetailsForm.whatsappNumber);\n      if (!v2.isValid) errors.whatsappNumber = v2.message;\n      else parentDetailsForm.whatsappNumber = v2.normalized;\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setParentDetailsErrors(errors);\n      return;\n    }\n\n    try {\n      // Create parent details using the new parent API\n      await api('/parents', {\n        method: 'POST',\n        body: {\n          userID: assignContext.user.userID,\n          ...parentDetailsForm\n        }\n      });\n\n      setShowParentDetailsModal(false);\n      setParentDetailsForm({\n        parentName: '',\n        contactNumber: '',\n        whatsappNumber: ''\n      });\n      setParentDetailsErrors({});\n      \n      // Refresh students list\n      await loadStudents();\n      alert('Parent details saved successfully!');\n    } catch (error) {\n      console.error('Failed to save parent details:', error);\n      alert('Failed to save parent details. Please try again.');\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  const handleBackToHome = () => {\n    navigate('/');\n  };\n\n  // Validation functions\n  const validateBirthday = (birthday, role) => {\n    if (!birthday) return { isValid: false, message: 'Birthday is required' };\n    \n    const today = new Date();\n    const birthDate = new Date(birthday);\n    \n    // Check if birthday is in the future\n    if (birthDate > today) {\n      return { isValid: false, message: 'Birthday cannot be in the future' };\n    }\n    \n    // Check age limits for Parent role (students should be 6-16 years old for grades 1-11)\n    if (role === 'Parent') {\n      const age = today.getFullYear() - birthDate.getFullYear();\n      const monthDiff = today.getMonth() - birthDate.getMonth();\n      const actualAge = monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate()) ? age - 1 : age;\n      \n      if (actualAge < 6) {\n        return { isValid: false, message: 'Student must be at least 6 years old' };\n      }\n      if (actualAge > 16) {\n        return { isValid: false, message: 'Student cannot be older than 16 years' };\n      }\n    }\n    \n    return { isValid: true, message: '' };\n  };\n\n  // Enhanced search handler with debouncing\n  const handleSearchChange = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    // Real-time search - no need for manual trigger\n  };\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    filterAndSortStudents();\n  };\n\n  const clearSearch = () => {\n    setSearchTerm('');\n    filterAndSortStudents();\n  };\n\n  const handleRowClick = async (user) => {\n    // Log activity for viewing user profile\n    try {\n      await api('/activities/log', {\n        method: 'POST',\n        body: {\n          action: 'user_viewed',\n          targetType: 'user',\n          targetId: user._id,\n          targetName: user.fullName,\n          description: `Viewed ${user.role} profile: ${user.fullName} (${user.userID})`,\n          details: { role: user.role, email: user.email }\n        }\n      });\n    } catch (error) {\n      console.error('Failed to log user view activity:', error);\n      // Continue with navigation even if logging fails\n    }\n    \n    // Navigate to profile page with user ID and current tab as parameters\n    navigate(`/profile/${user._id}?from=${activeTab}`);\n  };\n\n  // Function to highlight search terms in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n    \n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n    \n    return parts.map((part, index) => {\n      if (regex.test(part)) {\n        return <mark key={index} className=\"search-highlight\">{part}</mark>;\n      }\n      return part;\n    });\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      {/* Menu Toggle for Mobile */}\n      <button className=\"menu-toggle\" onClick={handleMenuToggle}>\n        <i className=\"fas fa-bars\"></i>\n      </button>\n      \n      {/* Sidebar */}\n      <div className={`sidebar ${sidebarOpen ? 'active' : ''}`}>\n        <div className=\"sidebar-header\">\n          <i className=\"fas fa-graduation-cap fa-2x\"></i>\n          <h2>Smart Alert</h2>\n          <p>Admin Dashboard</p>\n        </div>\n        \n        <div className=\"sidebar-menu\">\n          <div className={`menu-item ${activeTab === 'dashboard' ? 'active' : ''}`} onClick={() => handleMenuClick('dashboard')}>\n            <i className=\"fas fa-tachometer-alt\"></i>\n            <span>Dashboard</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'students' ? 'active' : ''}`} onClick={() => handleMenuClick('students')}>\n            <i className=\"fas fa-user-graduate\"></i>\n            <span>Students</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'teachers' ? 'active' : ''}`} onClick={() => handleMenuClick('teachers')}>\n            <i className=\"fas fa-chalkboard-teacher\"></i>\n            <span>Teachers</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'shuttle-staff' ? 'active' : ''}`} onClick={() => handleMenuClick('shuttle-staff')}>\n            <i className=\"fas fa-bus-alt\"></i>\n            <span>Shuttle Staff</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'admins' ? 'active' : ''}`} onClick={() => handleMenuClick('admins')}>\n            <i className=\"fas fa-user-shield\"></i>\n            <span>Admins</span>\n          </div>\n          <div className={`menu-item ${activeTab === 'assignments' ? 'active' : ''}`} onClick={() => handleMenuClick('assignments')}>\n            <i className=\"fas fa-tasks\"></i>\n            <span>Assignments</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('attendance')}>\n            <i className=\"fas fa-clipboard-check\"></i>\n            <span>Attendance</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('transportation')}>\n            <i className=\"fas fa-bus\"></i>\n            <span>Transportation</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('performance')}>\n            <i className=\"fas fa-chart-line\"></i>\n            <span>Performance</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('announcements')}>\n            <i className=\"fas fa-bullhorn\"></i>\n            <span>Announcements</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('communication')}>\n            <i className=\"fas fa-comments\"></i>\n            <span>Communication</span>\n          </div>\n          <div className=\"menu-item\" onClick={() => handleMenuClick('settings')}>\n            <i className=\"fas fa-cog\"></i>\n            <span>Settings</span>\n          </div>\n          <div className=\"menu-item\" onClick={handleBackToHome}>\n            <i className=\"fas fa-home\"></i>\n            <span>Back to Home</span>\n          </div>\n          <div className=\"menu-item\" onClick={handleLogout}>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Content */}\n      <div className=\"main-content\">\n        {/* Top Bar */}\n        <div className=\"top-bar\">\n          <div className=\"search-bar\">\n            <i className=\"fas fa-search\"></i>\n            <input type=\"text\" placeholder=\"Search...\" />\n          </div>\n          \n          <div className=\"user-info\">\n            <div className=\"notifications\">\n              <i className=\"fas fa-bell fa-lg\"></i>\n              <span className=\"notification-badge\">5</span>\n            </div>\n            \n            <div \n              className=\"user-info-clickable\"\n              style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }} \n              onClick={async () => {\n                // Log profile view activity\n                try {\n                  await api('/activities/log', {\n                    method: 'POST',\n                    body: {\n                      action: 'profile_viewed',\n                      targetType: 'profile',\n                      targetId: user?.userID,\n                      targetName: user?.name || 'Admin User',\n                      description: 'Viewed own profile',\n                      details: { role: user?.role }\n                    }\n                  });\n                } catch (error) {\n                  console.error('Failed to log profile view activity:', error);\n                }\n                navigate('/profile');\n              }}\n              title=\"View Profile\"\n            >\n              <div className=\"user-avatar\">\n                <i className=\"fas fa-user fa-lg\"></i>\n              </div>\n              <div className=\"user-details\">\n                <h4>{user?.name || 'Admin User'}</h4>\n                <p>Administrator</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Dashboard Content */}\n        {activeTab === 'dashboard' && (\n          <>\n            {/* Dashboard Cards */}\n            <div className=\"dashboard-cards\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.totalStudents.toLocaleString()}</h3>\n                    <p>Total Students</p>\n                  </div>\n                  <div className=\"card-icon students\">\n                    <i className=\"fas fa-user-graduate\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.totalTeachers}</h3>\n                    <p>Total Teachers</p>\n                  </div>\n                  <div className=\"card-icon teachers\">\n                    <i className=\"fas fa-chalkboard-teacher\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>{dashboardStats.shuttleStaff}</h3>\n                    <p>Shuttle Staff</p>\n                  </div>\n                  <div className=\"card-icon shuttle-staff\">\n                    <i className=\"fas fa-bus-alt\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0%</h3>\n                    <p>Today's Attendance</p>\n                  </div>\n                  <div className=\"card-icon attendance\">\n                    <i className=\"fas fa-clipboard-check\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0</h3>\n                    <p>Active Buses</p>\n                  </div>\n                  <div className=\"card-icon transport\">\n                    <i className=\"fas fa-bus\"></i>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <div>\n                    <h3>0</h3>\n                    <p>Active Announcements</p>\n                  </div>\n                  <div className=\"card-icon announcements\">\n                    <i className=\"fas fa-bullhorn\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Charts Section */}\n            <div className=\"charts\">\n              <div className=\"chart-container\">\n                <div className=\"chart-header\">\n                  <h3>Student Performance Overview</h3>\n                  <select>\n                    <option>Last 7 days</option>\n                    <option>Last 30 days</option>\n                    <option>Last 3 months</option>\n                  </select>\n                </div>\n                <div className=\"chart-placeholder\">\n                  <p><i className=\"fas fa-chart-bar fa-3x\" style={{ color: '#00bfa5', marginBottom: '10px' }}></i><br />Chart visualization would appear here with real data</p>\n                </div>\n              </div>\n              \n              <div className=\"chart-container\">\n                <div className=\"chart-header\">\n                  <h3>Attendance Statistics</h3>\n                  <select>\n                    <option>This Week</option>\n                    <option>This Month</option>\n                    <option>This Year</option>\n                  </select>\n                </div>\n                <div className=\"chart-placeholder\">\n                  <p><i className=\"fas fa-chart-pie fa-3x\" style={{ color: '#00bfa5', marginBottom: '10px' }}></i><br />Attendance Chart Visualization</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Recent Activity */}\n            <div className=\"recent-activity\">\n              <h3>Recent Activity</h3>\n              <div className=\"activity-list\">\n                {recentActivity.map(activity => (\n                  <div key={activity.id} className=\"activity-item\">\n                    <div className=\"activity-icon\">\n                      <i className={`fas fa-${activity.type}`}></i>\n                    </div>\n                    <div className=\"activity-content\">\n                      <h4>{activity.title}</h4>\n                      <p>{activity.description}</p>\n                    </div>\n                    <div className=\"activity-time\">{activity.time}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n        \n        {/* Students Management Content */}\n        {activeTab === 'students' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Student Management</h1>\n              <div className=\"header-buttons\">\n                <button className=\"btn btn-primary\" onClick={handleAddStudent}>\n                  <i className=\"fas fa-plus\"></i>\n                  <span>Add New Student</span>\n                </button>\n              </div>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search students by name, userID, email, or address...\" \n                  value={searchTerm}\n                  onChange={handleSearchChange}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSearchSubmit(e)}\n                />\n                <div className=\"search-buttons\">\n                  {searchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={clearSearch}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={handleSearchSubmit}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"emailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"emailStatusFilter\" \n                    value={emailStatusFilter}\n                    onChange={(e) => setEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"sortBy\">Sort By</label>\n                  <select \n                    id=\"sortBy\" \n                    value={sortBy}\n                    onChange={(e) => setSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(searchTerm || emailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredStudents.length} result{filteredStudents.length !== 1 ? 's' : ''} found\n                  {searchTerm && ` for \"${highlightText(searchTerm, searchTerm)}\"`}\n                  {emailStatusFilter && ` (${emailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setSearchTerm(''); setEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Users Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                 <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Student</th>\n                    <th>Email</th>\n                    <th>Email Status</th>\n                    <th>Grade</th>\n                    <th>Class</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                 </thead>\n                <tbody>\n                  {filteredStudents.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"8\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No Students found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredStudents.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {searchTerm ? highlightText(user.fullName, searchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {searchTerm ? highlightText(user.userID, searchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{searchTerm ? highlightText(user.email, searchTerm) : user.email}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{academicByUserId[user.userID]?.grade ?? '-'}</td>\n                          <td>{academicByUserId[user.userID]?.class ?? '-'}</td>\n                          <td>{searchTerm ? highlightText(user.address, searchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`student-${user._id}`}\n                                onEdit={() => handleEditStudent(user)}\n                                onDelete={() => handleDeleteStudent(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Teachers Management Content */}\n        {activeTab === 'teachers' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Teacher Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddTeacher}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Teacher</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search teachers by name, userID, email, or address...\" \n                  value={teacherSearchTerm}\n                  onChange={(e) => setTeacherSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {teacherSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setTeacherSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortTeachers()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"teacherEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"teacherEmailStatusFilter\" \n                    value={teacherEmailStatusFilter}\n                    onChange={(e) => setTeacherEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"teacherSortBy\">Sort By</label>\n                  <select \n                    id=\"teacherSortBy\" \n                    value={teacherSortBy}\n                    onChange={(e) => setTeacherSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(teacherSearchTerm || teacherEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredTeachers.length} result{filteredTeachers.length !== 1 ? 's' : ''} found\n                  {teacherSearchTerm && ` for \"${teacherSearchTerm}\"`}\n                  {teacherEmailStatusFilter && ` (${teacherEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setTeacherSearchTerm(''); setTeacherEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Teachers Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Teacher</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Grade</th>\n                    <th>Class</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredTeachers.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"10\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No teachers found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredTeachers.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {teacherSearchTerm ? highlightText(user.fullName, teacherSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {teacherSearchTerm ? highlightText(user.userID, teacherSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{teacherSearchTerm ? highlightText(user.email, teacherSearchTerm) : user.email}</td>\n                          <td>{teacherSearchTerm ? highlightText(user.phone || '-', teacherSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{academicByUserId[user.userID]?.grade ?? '-'}</td>\n                          <td>{academicByUserId[user.userID]?.class ?? '-'}</td>\n                          <td>{teacherSearchTerm ? highlightText(user.address, teacherSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`teacher-${user._id}`}\n                                onEdit={() => handleEditTeacher(user)}\n                                onDelete={() => handleDeleteTeacher(user._id)}\n                                extraItems={(\n                                  <>\n                                    <div className=\"divider\" />\n                                    <button className=\"menu-item\" onClick={() => { setOpenMenuId(null); openAssignModal(user, 'Teacher'); }}>\n                                      <div className=\"menu-icon\" />\n                                      Assign\n                                    </button>\n                                  </>\n                                )}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Shuttle Staff Management Content */}\n        {activeTab === 'shuttle-staff' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Shuttle Staff Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddShuttle}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Staff</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search shuttle staff by name, userID, email, or address...\" \n                  value={shuttleSearchTerm}\n                  onChange={(e) => setShuttleSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {shuttleSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setShuttleSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortShuttleStaff()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"shuttleEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"shuttleEmailStatusFilter\" \n                    value={shuttleEmailStatusFilter}\n                    onChange={(e) => setShuttleEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"shuttleSortBy\">Sort By</label>\n                  <select \n                    id=\"shuttleSortBy\" \n                    value={shuttleSortBy}\n                    onChange={(e) => setShuttleSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(shuttleSearchTerm || shuttleEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredShuttleStaff.length} result{filteredShuttleStaff.length !== 1 ? 's' : ''} found\n                  {shuttleSearchTerm && ` for \"${shuttleSearchTerm}\"`}\n                  {shuttleEmailStatusFilter && ` (${shuttleEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setShuttleSearchTerm(''); setShuttleEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Shuttle Staff Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Staff Member</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredShuttleStaff.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"9\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No shuttle staff found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredShuttleStaff.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {shuttleSearchTerm ? highlightText(user.fullName, shuttleSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {shuttleSearchTerm ? highlightText(user.userID, shuttleSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{shuttleSearchTerm ? highlightText(user.email, shuttleSearchTerm) : user.email}</td>\n                          <td>{shuttleSearchTerm ? highlightText(user.phone || '-', shuttleSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{shuttleSearchTerm ? highlightText(user.address, shuttleSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`shuttle-${user._id}`}\n                                onEdit={() => handleEditShuttle(user)}\n                                onDelete={() => handleDeleteShuttle(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n\n        {/* Admins Management Content */}\n        {activeTab === 'admins' && (\n          <>\n            {/* Page Header */}\n            <div className=\"page-header\">\n              <h1 className=\"page-title\">Admin Management</h1>\n              <button className=\"btn btn-primary\" onClick={handleAddAdmin}>\n                <i className=\"fas fa-plus\"></i>\n                <span>Add New Admin</span>\n              </button>\n            </div>\n            \n            {/* Controls Section */}\n            <div className=\"controls-section\">\n              <div className=\"search-bar-large\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Search admins by name, userID, email, or address...\" \n                  value={adminSearchTerm}\n                  onChange={(e) => setAdminSearchTerm(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && e.preventDefault()}\n                />\n                <div className=\"search-buttons\">\n                  {adminSearchTerm && (\n                    <button \n                      type=\"button\" \n                      onClick={() => setAdminSearchTerm('')}\n                      className=\"clear-search-btn\"\n                      title=\"Clear search\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                  <button \n                    type=\"button\" \n                    onClick={() => filterAndSortAdmins()}\n                    title=\"Search\"\n                  >\n                    <i className=\"fas fa-search\"></i>\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"filters-row\">\n                <div className=\"filter-group\">\n                  <label htmlFor=\"adminEmailStatusFilter\">Email Status</label>\n                  <select \n                    id=\"adminEmailStatusFilter\" \n                    value={adminEmailStatusFilter}\n                    onChange={(e) => setAdminEmailStatusFilter(e.target.value)}\n                  >\n                    <option value=\"\">All Status</option>\n                    <option value=\"verified\">Verified</option>\n                    <option value=\"unverified\">Unverified</option>\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <label htmlFor=\"adminSortBy\">Sort By</label>\n                  <select \n                    id=\"adminSortBy\" \n                    value={adminSortBy}\n                    onChange={(e) => setAdminSortBy(e.target.value)}\n                  >\n                    <option value=\"userID\">User ID</option>\n                    <option value=\"name\">Name (A-Z)</option>\n                    <option value=\"name-desc\">Name (Z-A)</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            {/* Search Results Info */}\n            {(adminSearchTerm || adminEmailStatusFilter) && (\n              <div className=\"search-results-info\">\n                <span>\n                  {filteredAdmins.length} result{filteredAdmins.length !== 1 ? 's' : ''} found\n                  {adminSearchTerm && ` for \"${adminSearchTerm}\"`}\n                  {adminEmailStatusFilter && ` (${adminEmailStatusFilter} emails)`}\n                </span>\n                <button onClick={() => { setAdminSearchTerm(''); setAdminEmailStatusFilter(''); }} className=\"clear-all-btn\">\n                  Clear filters\n                </button>\n              </div>\n            )}\n            \n            {/* Admins Table */}\n            <div className=\"students-table-container\">\n              <table className=\"students-table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Admin</th>\n                    <th>Email</th>\n                    <th>Phone</th>\n                    <th>Email Status</th>\n                    <th>Address</th>\n                    <th>Birthday</th>\n                    <th>Age</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredAdmins.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"9\" style={{ textAlign: 'center', padding: '40px', color: 'var(--text-light)' }}>\n                        No admins found matching your criteria.\n                      </td>\n                    </tr>\n                  ) : (\n                    filteredAdmins.map((user, index) => {\n                      const age = user.birthday ? Math.floor((new Date() - new Date(user.birthday)) / (365.25 * 24 * 60 * 60 * 1000)) : 'N/A';\n                      const birthday = user.birthday ? new Date(user.birthday).toLocaleDateString() : 'N/A';\n                      return (\n                        <tr key={user._id} className=\"clickable-row\" onClick={() => handleRowClick(user)}>\n                          <td className=\"row-number\">{index + 1}</td>\n                          <td>\n                            <div className=\"student-info\">\n                              <div>\n                                <div className=\"student-name\">\n                                  {adminSearchTerm ? highlightText(user.fullName, adminSearchTerm) : user.fullName}\n                                </div>\n                                <div className=\"student-id\">\n                                  ID: {adminSearchTerm ? highlightText(user.userID, adminSearchTerm) : user.userID}\n                                </div>\n                              </div>\n                            </div>\n                          </td>\n                          <td>{adminSearchTerm ? highlightText(user.email, adminSearchTerm) : user.email}</td>\n                          <td>{adminSearchTerm ? highlightText(user.phone || '-', adminSearchTerm) : (user.phone || '-')}</td>\n                          <td>\n                            <span className={`email-status ${user.isEmailVerified ? 'verified' : 'unverified'}`}>\n                              <i className={`fas ${user.isEmailVerified ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\n                              {user.isEmailVerified ? 'Verified' : 'Unverified'}\n                            </span>\n                          </td>\n                          <td>{adminSearchTerm ? highlightText(user.address, adminSearchTerm) : user.address}</td>\n                          <td>{birthday}</td>\n                          <td>{age} years old</td>\n                          <td>\n                            <div onClick={(e) => e.stopPropagation()}>\n                              <KebabMenu\n                                id={`admin-${user._id}`}\n                                onEdit={() => handleEditAdmin(user)}\n                                onDelete={() => handleDeleteAdmin(user._id)}\n                              />\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n      </div>\n      \n      {/* Add/Edit Parent Modal */}\n      {showStudentModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingStudent ? 'Edit Student' : 'Add New Student'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowStudentModal(false)}\n              >\n                &times;\n              </button>\n            </div>\n            \n            <form onSubmit={handleSaveStudent}>\n              <div className=\"form-group\">\n                <label htmlFor=\"fullName\">Full Name</label>\n                <input \n                  type=\"text\" \n                  id=\"fullName\" \n                  value={studentForm.fullName}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, fullName: e.target.value});\n                    if (studentFormErrors.fullName) {\n                      setStudentFormErrors({...studentFormErrors, fullName: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., John Doe\"\n                  className={studentFormErrors.fullName ? 'error' : ''}\n                />\n                {studentFormErrors.fullName && (\n                  <div className=\"error-message\">{studentFormErrors.fullName}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"email\">Email</label>\n                <input \n                  type=\"email\" \n                  id=\"email\" \n                  value={studentForm.email}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, email: e.target.value});\n                    if (studentFormErrors.email) {\n                      setStudentFormErrors({...studentFormErrors, email: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., john.doe@school.edu\"\n                  className={studentFormErrors.email ? 'error' : ''}\n                />\n                {studentFormErrors.email && (\n                  <div className=\"error-message\">{studentFormErrors.email}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"birthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"birthday\" \n                  value={studentForm.birthday}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, birthday: e.target.value});\n                    if (studentFormErrors.birthday) {\n                      setStudentFormErrors({...studentFormErrors, birthday: ''});\n                    }\n                  }}\n                  required \n                  max={new Date().toISOString().split('T')[0]}\n                  className={studentFormErrors.birthday ? 'error' : ''}\n                />\n                {studentFormErrors.birthday && (\n                  <div className=\"error-message\">{studentFormErrors.birthday}</div>\n                )}\n              </div>\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"address\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"address\" \n                  value={studentForm.address}\n                  onChange={(e) => {\n                    setStudentForm({...studentForm, address: e.target.value});\n                    if (studentFormErrors.address) {\n                      setStudentFormErrors({...studentFormErrors, address: ''});\n                    }\n                  }}\n                  required \n                  placeholder=\"e.g., 123 Main St, City, State\"\n                  className={studentFormErrors.address ? 'error' : ''}\n                />\n                {studentFormErrors.address && (\n                  <div className=\"error-message\">{studentFormErrors.address}</div>\n                )}\n              </div>\n\n              {/* Parent fields - allow entering parent details in the same student modal */}\n              <div className=\"form-group\">\n                <label htmlFor=\"parentName\">Parent / Guardian Name</label>\n                <input\n                  type=\"text\"\n                  id=\"parentName\"\n                  value={studentForm.parentName}\n                  onChange={(e) => setStudentForm({...studentForm, parentName: e.target.value})}\n                  placeholder=\"e.g., Jane Doe\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"contactNumber\">Parent Contact Number</label>\n                <input\n                  type=\"text\"\n                  id=\"contactNumber\"\n                  value={studentForm.contactNumber}\n                  onChange={(e) => setStudentForm({...studentForm, contactNumber: e.target.value})}\n                  className={studentFormErrors.contactNumber ? 'error' : ''}\n                  placeholder=\"e.g., +94 7XX XXX XXX\"\n                />\n                {studentFormErrors.contactNumber && (\n                  <span className=\"error-message\">{studentFormErrors.contactNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"whatsappNumber\">Parent WhatsApp Number</label>\n                <input\n                  type=\"text\"\n                  id=\"whatsappNumber\"\n                  value={studentForm.whatsappNumber}\n                  onChange={(e) => setStudentForm({...studentForm, whatsappNumber: e.target.value})}\n                  className={studentFormErrors.whatsappNumber ? 'error' : ''}\n                  placeholder=\"e.g., +94 7XX XXX XXX\"\n                />\n                {studentFormErrors.whatsappNumber && (\n                  <span className=\"error-message\">{studentFormErrors.whatsappNumber}</span>\n                )}\n              </div>\n              \n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowStudentModal(false)}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"modal-btn btn-submit\">\n                  {editingStudent ? 'Update Student' : 'Save Student'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Teacher Modal */}\n      {showTeacherModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingTeacher ? 'Edit Teacher' : 'Add New Teacher'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowTeacherModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveTeacher}>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"teacherFullName\"\n                  value={teacherForm.fullName}\n                  onChange={(e) => setTeacherForm({...teacherForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"teacherEmail\"\n                  value={teacherForm.email}\n                  onChange={(e) => setTeacherForm({...teacherForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"teacherBirthday\"\n                  value={teacherForm.birthday}\n                  onChange={(e) => setTeacherForm({...teacherForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"teacherAddress\"\n                  value={teacherForm.address}\n                  onChange={(e) => setTeacherForm({...teacherForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherPhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"teacherPhone\"\n                  value={teacherForm.phone}\n                  onChange={(e) => setTeacherForm({...teacherForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={teacherFormErrors.phone ? 'error' : ''}\n                />\n                {teacherFormErrors.phone && <span className=\"error-message\">{teacherFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherGrade\">Assign Grade</label>\n                <input\n                  type=\"number\"\n                  id=\"teacherGrade\"\n                  min=\"1\"\n                  max=\"11\"\n                  value={teacherForm.grade}\n                  onChange={(e) => setTeacherForm({...teacherForm, grade: e.target.value})}\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"teacherClass\">Assign Class</label>\n                <select\n                  id=\"teacherClass\"\n                  value={teacherForm.class}\n                  onChange={(e) => setTeacherForm({...teacherForm, class: e.target.value})}\n                >\n                  <option value=\"A\">A</option>\n                  <option value=\"B\">B</option>\n                  <option value=\"C\">C</option>\n                </select>\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowTeacherModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingTeacher ? 'Update Teacher' : 'Save Teacher'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Shuttle Staff Modal */}\n      {showShuttleModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingShuttle ? 'Edit Shuttle Staff' : 'Add New Shuttle Staff'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowShuttleModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveShuttle}>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"shuttleFullName\"\n                  value={shuttleForm.fullName}\n                  onChange={(e) => setShuttleForm({...shuttleForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"shuttleEmail\"\n                  value={shuttleForm.email}\n                  onChange={(e) => setShuttleForm({...shuttleForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"shuttleBirthday\"\n                  value={shuttleForm.birthday}\n                  onChange={(e) => setShuttleForm({...shuttleForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttleAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"shuttleAddress\"\n                  value={shuttleForm.address}\n                  onChange={(e) => setShuttleForm({...shuttleForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttlePhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"shuttlePhone\"\n                  value={shuttleForm.phone}\n                  onChange={(e) => setShuttleForm({...shuttleForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={shuttleFormErrors.phone ? 'error' : ''}\n                />\n                {shuttleFormErrors.phone && <span className=\"error-message\">{shuttleFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"shuttlePhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"shuttlePhone\"\n                  value={shuttleForm.phone}\n                  onChange={(e) => setShuttleForm({...shuttleForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                />\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowShuttleModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingShuttle ? 'Update Staff' : 'Save Staff'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Admin Modal */}\n      {showAdminModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {editingAdmin ? 'Edit Admin' : 'Add New Admin'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowAdminModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={handleSaveAdmin}>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminFullName\">Full Name *</label>\n                <input \n                  type=\"text\" \n                  id=\"adminFullName\"\n                  value={adminForm.fullName}\n                  onChange={(e) => setAdminForm({...adminForm, fullName: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminEmail\">Email *</label>\n                <input \n                  type=\"email\" \n                  id=\"adminEmail\"\n                  value={adminForm.email}\n                  onChange={(e) => setAdminForm({...adminForm, email: e.target.value})}\n                  required \n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminBirthday\">Birthday</label>\n                <input \n                  type=\"date\" \n                  id=\"adminBirthday\"\n                  value={adminForm.birthday}\n                  onChange={(e) => setAdminForm({...adminForm, birthday: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminAddress\">Address</label>\n                <input \n                  type=\"text\" \n                  id=\"adminAddress\"\n                  value={adminForm.address}\n                  onChange={(e) => setAdminForm({...adminForm, address: e.target.value})}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"adminPhone\">Phone</label>\n                <input\n                  type=\"tel\"\n                  id=\"adminPhone\"\n                  value={adminForm.phone}\n                  onChange={(e) => setAdminForm({...adminForm, phone: e.target.value})}\n                  placeholder=\"e.g., +94771234567\"\n                  className={adminFormErrors.phone ? 'error' : ''}\n                />\n                {adminFormErrors.phone && <span className=\"error-message\">{adminFormErrors.phone}</span>}\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowAdminModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  {editingAdmin ? 'Update Admin' : 'Save Admin'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Assign Grade/Class Modal */}\n      {showAssignModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">\n                {academicByUserId[assignContext.user?.userID] ? 'Edit Assignment' : 'Assign Grade & Class'}\n              </h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowAssignModal(false)}\n              >\n                \n              </button>\n            </div>\n            <form onSubmit={saveAssignment}>\n              <div className=\"form-group\">\n                <label>User</label>\n                <input type=\"text\" value={`${assignContext.user?.fullName || ''} (${assignContext.user?.userID || ''})`} readOnly />\n              </div>\n              \n              {/* Show auto-calculated grade message for new students */}\n              {!academicByUserId[assignContext.user?.userID] && assignContext.role === 'Parent' && (\n                <div className=\"form-group\" style={{ \n                  backgroundColor: '#e8f5e8', \n                  padding: '10px', \n                  borderRadius: '5px', \n                  marginBottom: '15px',\n                  border: '1px solid #4caf50'\n                }}>\n                  <p style={{ margin: 0, color: '#2e7d32', fontSize: '14px' }}>\n                    <i className=\"fas fa-info-circle\" style={{ marginRight: '5px' }}></i>\n                    Grade {assignForm.grade} has been automatically calculated based on the student's age. \n                    You can modify it if needed and select the class.\n                  </p>\n                </div>\n              )}\n              \n              <div className=\"form-group\">\n                <label htmlFor=\"assignGrade\">Grade</label>\n                <select\n                  id=\"assignGrade\"\n                  value={assignForm.grade}\n                  onChange={(e) => setAssignForm({ ...assignForm, grade: e.target.value })}\n                  required\n                >\n                  <option value=\"\" disabled>Select Grade</option>\n                  {Array.from({ length: 11 }, (_, i) => i + 1).map(g => (\n                    <option key={g} value={g}>{g}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"assignClass\">Class</label>\n                <select\n                  id=\"assignClass\"\n                  value={assignForm.class}\n                  onChange={(e) => setAssignForm({ ...assignForm, class: e.target.value })}\n                  required\n                >\n                  {['A','B','C'].map(c => (\n                    <option key={c} value={c}>{c}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\" \n                  onClick={() => setShowAssignModal(false)}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"modal-btn btn-submit\">\n                  {academicByUserId[assignContext.user?.userID] ? 'Update Assignment' : 'Assign Grade & Class'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Parent Details Modal */}\n      {showParentDetailsModal && (\n        <div className=\"modal\" style={{ display: 'flex' }}>\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">Parent Details</h2>\n              <button \n                className=\"close-modal\" \n                onClick={() => setShowParentDetailsModal(false)}\n              >\n                \n              </button>\n            </div>\n            \n            <form onSubmit={handleSaveParentDetails}>\n              <div className=\"form-group\">\n                <label htmlFor=\"parentName\">Parent Name *</label>\n                <input\n                  type=\"text\"\n                  id=\"parentName\"\n                  value={parentDetailsForm.parentName}\n                  onChange={(e) => handleParentDetailsChange('parentName', e.target.value)}\n                  className={parentDetailsErrors.parentName ? 'error' : ''}\n                  placeholder=\"Enter parent name\"\n                />\n                {parentDetailsErrors.parentName && (\n                  <span className=\"error-message\">{parentDetailsErrors.parentName}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"contactNumber\">Contact Number *</label>\n                <input\n                  type=\"tel\"\n                  id=\"contactNumber\"\n                  value={parentDetailsForm.contactNumber}\n                  onChange={(e) => handleParentDetailsChange('contactNumber', e.target.value)}\n                  className={parentDetailsErrors.contactNumber ? 'error' : ''}\n                  placeholder=\"Enter contact number\"\n                />\n                {parentDetailsErrors.contactNumber && (\n                  <span className=\"error-message\">{parentDetailsErrors.contactNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"whatsappNumber\">WhatsApp Number *</label>\n                <input\n                  type=\"tel\"\n                  id=\"whatsappNumber\"\n                  value={parentDetailsForm.whatsappNumber}\n                  onChange={(e) => handleParentDetailsChange('whatsappNumber', e.target.value)}\n                  className={parentDetailsErrors.whatsappNumber ? 'error' : ''}\n                  placeholder=\"Enter WhatsApp number\"\n                />\n                {parentDetailsErrors.whatsappNumber && (\n                  <span className=\"error-message\">{parentDetailsErrors.whatsappNumber}</span>\n                )}\n              </div>\n\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  className=\"modal-btn btn-cancel\"\n                  onClick={() => setShowParentDetailsModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"modal-btn btn-submit\"\n                >\n                  Save Parent Details\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,GAAG,QAAQ,iBAAiB;AACrC,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA;EAC3B,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAMe,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,WAAW,CAAC;EACvD,MAAM,CAACuB,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACyB,cAAc,EAAEC,iBAAiB,CAAC,GAAG1B,QAAQ,CAAC;IACnD2B,aAAa,EAAE,CAAC;IAChBC,aAAa,EAAE,CAAC;IAChBC,YAAY,EAAE,CAAC;IACfC,eAAe,EAAE,CAAC;IAClBC,WAAW,EAAE,CAAC;IACdC,mBAAmB,EAAE;EACvB,CAAC,CAAC;EACF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;;EAExD;EACA,MAAM,CAACmC,QAAQ,EAAEC,WAAW,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACqC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACuC,UAAU,EAAEC,aAAa,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyC,MAAM,EAAEC,SAAS,CAAC,GAAG1C,QAAQ,CAAC,QAAQ,CAAC;EAC9C,MAAM,CAAC2C,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAAC6C,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG9C,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC+C,cAAc,EAAEC,iBAAiB,CAAC,GAAGhD,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACiD,WAAW,EAAEC,cAAc,CAAC,GAAGlD,QAAQ,CAAC;IAC7CmD,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,QAAQ;IACd;IACAC,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE,EAAE;IACjBC,cAAc,EAAE;EAClB,CAAC,CAAC;EACF,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5D,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE9D;EACA,MAAM,CAAC6D,QAAQ,EAAEC,WAAW,CAAC,GAAG9D,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC+D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhE,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACiE,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlE,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACmE,aAAa,EAAEC,gBAAgB,CAAC,GAAGpE,QAAQ,CAAC,QAAQ,CAAC;EAC5D,MAAM,CAACqE,wBAAwB,EAAEC,2BAA2B,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;EAC5E,MAAM,CAACuE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxE,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACyE,cAAc,EAAEC,iBAAiB,CAAC,GAAG1E,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC2E,WAAW,EAAEC,cAAc,CAAC,GAAG5E,QAAQ,CAAC;IAC7CmD,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,SAAS;IACfsB,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,GAAG;IACVC,KAAK,EAAE;EACT,CAAC,CAAC;EACF;EACA,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGjF,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE9D;EACA,MAAM,CAACkF,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnF,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAACoF,eAAe,EAAEC,kBAAkB,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACsF,aAAa,EAAEC,gBAAgB,CAAC,GAAGvF,QAAQ,CAAC;IAAEuD,IAAI,EAAE,EAAE;IAAEhC,IAAI,EAAE;EAAK,CAAC,CAAC;EAC5E,MAAM,CAACiE,UAAU,EAAEC,aAAa,CAAC,GAAGzF,QAAQ,CAAC;IAAE6E,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAI,CAAC,CAAC;;EAEvE;EACA,MAAM,CAACY,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG3F,QAAQ,CAAC,KAAK,CAAC;EAC3E,MAAM,CAAC4F,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7F,QAAQ,CAAC;IACzDwD,UAAU,EAAE,EAAE;IACdC,aAAa,EAAE,EAAE;IACjBC,cAAc,EAAE;EAClB,CAAC,CAAC;EACF,MAAM,CAACoC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG/F,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClE;EACA,MAAM,CAACgG,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGjG,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEhE;EACA,MAAM,CAAC6B,YAAY,EAAEqE,eAAe,CAAC,GAAGlG,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACmG,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpG,QAAQ,CAAC,EAAE,CAAC;EACpE,MAAM,CAACqG,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGtG,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACuG,aAAa,EAAEC,gBAAgB,CAAC,GAAGxG,QAAQ,CAAC,QAAQ,CAAC;EAC5D,MAAM,CAACyG,wBAAwB,EAAEC,2BAA2B,CAAC,GAAG1G,QAAQ,CAAC,EAAE,CAAC;EAC5E,MAAM,CAAC2G,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC6G,cAAc,EAAEC,iBAAiB,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC+G,WAAW,EAAEC,cAAc,CAAC,GAAGhH,QAAQ,CAAC;IAC7CmD,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,cAAc;IAEpBwB,KAAK,EAAE;EACT,CAAC,CAAC;EACF;EACA,MAAM,CAACkC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlH,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE9D;EACA,MAAM,CAACmH,MAAM,EAAEC,SAAS,CAAC,GAAGpH,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqH,cAAc,EAAEC,iBAAiB,CAAC,GAAGtH,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACuH,eAAe,EAAEC,kBAAkB,CAAC,GAAGxH,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACyH,WAAW,EAAEC,cAAc,CAAC,GAAG1H,QAAQ,CAAC,QAAQ,CAAC;EACxD,MAAM,CAAC2H,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG5H,QAAQ,CAAC,EAAE,CAAC;EACxE,MAAM,CAAC6H,cAAc,EAAEC,iBAAiB,CAAC,GAAG9H,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC+H,YAAY,EAAEC,eAAe,CAAC,GAAGhI,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACiI,SAAS,EAAEC,YAAY,CAAC,GAAGlI,QAAQ,CAAC;IACzCmD,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,OAAO;IAEbwB,KAAK,EAAE;EACT,CAAC,CAAC;EACF;EACA,MAAM,CAACoD,eAAe,EAAEC,kBAAkB,CAAC,GAAGpI,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE1D;EACAC,SAAS,CAAC,MAAM;IACd,MAAMoI,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMjI,GAAG,CAAC,UAAU,CAAC;QACtCmB,OAAO,CAAC,CAAA8G,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE/G,IAAI,KAAI+G,QAAQ,CAAC;MACrC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD;QACAE,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAChCzH,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC;IAED,MAAM0H,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,MAAMC,KAAK,GAAG,MAAMvI,GAAG,CAAC,cAAc,CAAC;QACvCqB,iBAAiB,CAAC;UAChBC,aAAa,EAAEiH,KAAK,CAACC,OAAO,IAAI,CAAC;UACjCjH,aAAa,EAAEgH,KAAK,CAAC/E,QAAQ,IAAI,CAAC;UAClChC,YAAY,EAAE+G,KAAK,CAAC/G,YAAY,IAAI,CAAC;UACrCC,eAAe,EAAE,CAAC;UAAE;UACpBC,WAAW,EAAE,EAAE;UAAE;UACjBC,mBAAmB,EAAE,CAAC,CAAC;QACzB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOuG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC9D;IACF,CAAC;IAEDF,YAAY,CAAC,CAAC;IACdM,kBAAkB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAAC1H,QAAQ,CAAC,CAAC;;EAEd;EACAhB,SAAS,CAAC,MAAM;IACd,MAAM6I,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,IAAIvH,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEwH,MAAM,EAAE;UAChB,MAAMC,QAAQ,GAAG,MAAM3I,GAAG,CAAC,sBAAsBkB,IAAI,CAACwH,MAAM,EAAE,CAAC;UAC/D7G,iBAAiB,CAAC8G,QAAQ,CAACC,UAAU,IAAI,EAAE,CAAC;QAC9C,CAAC,MAAM;UACL/G,iBAAiB,CAAC,EAAE,CAAC;QACvB;MACF,CAAC,CAAC,OAAOqG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDrG,iBAAiB,CAAC,EAAE,CAAC;MACvB;IACF,CAAC;IAED4G,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACvH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwH,MAAM,CAAC,CAAC;;EAElB;EACA,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGnJ,QAAQ,CAAC,IAAI,CAAC;;EAElD;EACAC,SAAS,CAAC,MAAM;IACd,MAAMmJ,cAAc,GAAIC,CAAC,IAAK;MAC5B;MACA,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,OAAO,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC,EAAE;MACjE,MAAMC,QAAQ,GAAGF,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;MAC3D,IAAIC,QAAQ,IAAI,CAACA,QAAQ,CAACC,QAAQ,CAACN,CAAC,CAACC,MAAM,CAAC,IAAI,CAACD,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,EAAE;QAClFJ,aAAa,CAAC,IAAI,CAAC;MACrB;IACF,CAAC;IACDK,QAAQ,CAACI,gBAAgB,CAAC,OAAO,EAAER,cAAc,CAAC;IAClD,OAAO,MAAMI,QAAQ,CAACK,mBAAmB,CAAC,OAAO,EAAET,cAAc,CAAC;EACpE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMU,SAAS,GAAGA,CAAC;IAAEC,EAAE;IAAEC,MAAM;IAAEC,QAAQ;IAAEC;EAAW,CAAC,KAAK;IAC1D,MAAMC,MAAM,GAAGjB,UAAU,KAAKa,EAAE;IAChC,oBACExJ,OAAA;MAAK6J,SAAS,EAAC,iBAAiB;MAACC,OAAO,EAAGhB,CAAC,IAAKA,CAAC,CAACiB,eAAe,CAAC,CAAE;MAAAC,QAAA,gBACnEhK,OAAA;QACE6J,SAAS,EAAC,cAAc;QACxB,cAAW,cAAc;QACzBC,OAAO,EAAGhB,CAAC,IAAK;UAAEA,CAAC,CAACiB,eAAe,CAAC,CAAC;UAAEnB,aAAa,CAACgB,MAAM,GAAG,IAAI,GAAGJ,EAAE,CAAC;QAAE,CAAE;QAAAQ,QAAA,gBAE5EhK,OAAA;UAAK6J,SAAS,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjCpK,OAAA;UAAK6J,SAAS,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjCpK,OAAA;UAAK6J,SAAS,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACTpK,OAAA;QAAK6J,SAAS,EAAE,cAAcD,MAAM,GAAG,MAAM,GAAG,EAAE,EAAG;QAAC5G,IAAI,EAAC,MAAM;QAAAgH,QAAA,gBAC/DhK,OAAA;UAAQ6J,SAAS,EAAC,qBAAqB;UAACC,OAAO,EAAEA,CAAA,KAAM;YAAElB,aAAa,CAAC,IAAI,CAAC;YAAEa,MAAM,IAAIA,MAAM,CAAC,CAAC;UAAE,CAAE;UAAAO,QAAA,gBAClGhK,OAAA;YAAK6J,SAAS,EAAC;UAAqB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,QAEzC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACRT,UAAU,eACX3J,OAAA;UAAK6J,SAAS,EAAC;QAAS;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC3BpK,OAAA;UAAQ6J,SAAS,EAAC,uBAAuB;UAACC,OAAO,EAAEA,CAAA,KAAM;YAAElB,aAAa,CAAC,IAAI,CAAC;YAAEc,QAAQ,IAAIA,QAAQ,CAAC,CAAC;UAAE,CAAE;UAAAM,QAAA,gBACxGhK,OAAA;YAAK6J,SAAS,EAAC;UAAuB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,UAE3C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;;EAED;EACA,MAAMC,mBAAmB,GAAI7F,KAAK,IAAK;IACrC,IAAI,CAACA,KAAK,IAAI,CAAC8F,MAAM,CAAC9F,KAAK,CAAC,CAAC+F,IAAI,CAAC,CAAC,EAAE,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAA2B,CAAC;IACnG,MAAMC,MAAM,GAAGJ,MAAM,CAAC9F,KAAK,CAAC,CAACmG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC/C,IAAID,MAAM,CAACE,MAAM,KAAK,EAAE,EAAE,OAAO;MAAEJ,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAyC,CAAC;IACtG,OAAO;MAAED,OAAO,EAAE,IAAI;MAAEK,UAAU,EAAEH;IAAO,CAAC;EAC9C,CAAC;;EAED;EACAhL,SAAS,CAAC,MAAM;IACd,IAAIsB,IAAI,IAAIA,IAAI,CAACgC,IAAI,IAAIhC,IAAI,CAACgC,IAAI,CAAC8H,WAAW,CAAC,CAAC,KAAK,OAAO,EAAE;MAC5DpK,QAAQ,CAAC,GAAG,CAAC;IACf;EACF,CAAC,EAAE,CAACM,IAAI,EAAEN,QAAQ,CAAC,CAAC;;EAEpB;EACAhB,SAAS,CAAC,MAAM;IACd,MAAMqL,YAAY,GAAG,IAAIC,eAAe,CAACrK,QAAQ,CAACsK,MAAM,CAAC;IACzD,MAAMC,QAAQ,GAAGH,YAAY,CAACI,GAAG,CAAC,KAAK,CAAC;IACxC,IAAID,QAAQ,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,eAAe,EAAE,QAAQ,CAAC,CAACE,QAAQ,CAACF,QAAQ,CAAC,EAAE;MACnGnK,YAAY,CAACmK,QAAQ,CAAC;IACxB;EACF,CAAC,EAAE,CAACvK,QAAQ,CAACsK,MAAM,CAAC,CAAC;EAErB,MAAMI,gBAAgB,GAAGA,CAAA,KAAM;IAC7BxK,cAAc,CAAC,CAACD,WAAW,CAAC;EAC9B,CAAC;EAED,MAAM0K,eAAe,GAAIC,QAAQ,IAAK;IACpCxK,YAAY,CAACwK,QAAQ,CAAC;IACtB;IACA,IAAIC,MAAM,CAACC,UAAU,IAAI,GAAG,EAAE;MAC5B5K,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;;EAED;EACA,MAAM6K,YAAY,GAAG/L,WAAW,CAAC,YAAY;IAC3C,IAAI;MACF;MACA,MAAM8I,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,CAAC;MACpC,MAAM6L,KAAK,GAAGlD,QAAQ,CAACkD,KAAK,IAAI,EAAE;MAClC,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACgC,IAAI,KAAK,QAAQ,CAAC;MAChEnB,WAAW,CAAC+J,WAAW,CAAC;MACxB7J,mBAAmB,CAAC6J,WAAW,CAAC;MAChC;MACA,MAAME,uBAAuB,CAAC,QAAQ,CAAC;IACzC,CAAC,CAAC,OAAO9D,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD;MACAnG,WAAW,CAAC,EAAE,CAAC;MACfE,mBAAmB,CAAC,EAAE,CAAC;IACzB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMgK,YAAY,GAAGpM,WAAW,CAAC,YAAY;IAC3C,IAAI;MACF,MAAM8I,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,CAAC;MACpC,MAAM6L,KAAK,GAAGlD,QAAQ,CAACkD,KAAK,IAAI,EAAE;MAClC,MAAMK,YAAY,GAAGL,KAAK,CAACE,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACgC,IAAI,KAAK,SAAS,CAAC;MAClEO,WAAW,CAACyI,YAAY,CAAC;MACzBvI,mBAAmB,CAACuI,YAAY,CAAC;MACjC;MACA,MAAMF,uBAAuB,CAAC,SAAS,CAAC;IAC1C,CAAC,CAAC,OAAO9D,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDzE,WAAW,CAAC,EAAE,CAAC;MACfE,mBAAmB,CAAC,EAAE,CAAC;IACzB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMwI,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMxD,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,CAAC;MACpC,MAAM6L,KAAK,GAAGlD,QAAQ,CAACkD,KAAK,IAAI,EAAE;MAClC,MAAMO,YAAY,GAAGP,KAAK,CAACE,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACgC,IAAI,KAAK,cAAc,CAAC;MACvE2C,eAAe,CAACuG,YAAY,CAAC;MAC7BrG,uBAAuB,CAACqG,YAAY,CAAC;IACvC,CAAC,CAAC,OAAOlE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDrC,eAAe,CAAC,EAAE,CAAC;MACnBE,uBAAuB,CAAC,EAAE,CAAC;IAC7B;EACF,CAAC;;EAED;EACA,MAAMsG,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAM1D,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,CAAC;MACpC,MAAM6L,KAAK,GAAGlD,QAAQ,CAACkD,KAAK,IAAI,EAAE;MAClC,MAAMS,UAAU,GAAGT,KAAK,CAACE,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACgC,IAAI,KAAK,OAAO,CAAC;MAC9D6D,SAAS,CAACuF,UAAU,CAAC;MACrBrF,iBAAiB,CAACqF,UAAU,CAAC;IAC/B,CAAC,CAAC,OAAOpE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CnB,SAAS,CAAC,EAAE,CAAC;MACbE,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC;EAED,MAAMsF,qBAAqB,GAAG1M,WAAW,CAAC,MAAM;IAC9C,IAAI2M,QAAQ,GAAG,CAAC,GAAG1K,QAAQ,CAAC;;IAE5B;IACA,IAAII,UAAU,IAAIA,UAAU,CAACuI,IAAI,CAAC,CAAC,EAAE;MACnC,MAAMgC,WAAW,GAAGvK,UAAU,CAAC8I,WAAW,CAAC,CAAC,CAACP,IAAI,CAAC,CAAC;MACnD+B,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QAAA,IAAAwL,cAAA,EAAAC,WAAA,EAAAC,YAAA,EAAAC,aAAA;QACjC;QACA,MAAM/J,QAAQ,GAAG,EAAA4J,cAAA,GAAAxL,IAAI,CAAC4B,QAAQ,cAAA4J,cAAA,uBAAbA,cAAA,CAAe1B,WAAW,CAAC,CAAC,KAAI,EAAE;QACnD,MAAM/H,KAAK,GAAG,EAAA0J,WAAA,GAAAzL,IAAI,CAAC+B,KAAK,cAAA0J,WAAA,uBAAVA,WAAA,CAAY3B,WAAW,CAAC,CAAC,KAAI,EAAE;QAC7C,MAAMtC,MAAM,GAAG,EAAAkE,YAAA,GAAA1L,IAAI,CAACwH,MAAM,cAAAkE,YAAA,uBAAXA,YAAA,CAAa5B,WAAW,CAAC,CAAC,KAAI,EAAE;QAC/C,MAAMhI,OAAO,GAAG,EAAA6J,aAAA,GAAA3L,IAAI,CAAC8B,OAAO,cAAA6J,aAAA,uBAAZA,aAAA,CAAc7B,WAAW,CAAC,CAAC,KAAI,EAAE;;QAEjD;QACA,OAAOlI,QAAQ,CAACwI,QAAQ,CAACmB,WAAW,CAAC,IAC9BxJ,KAAK,CAACqI,QAAQ,CAACmB,WAAW,CAAC,IAC3B/D,MAAM,CAAC4C,QAAQ,CAACmB,WAAW,CAAC,IAC5BzJ,OAAO,CAACsI,QAAQ,CAACmB,WAAW,CAAC;MACtC,CAAC,CAAC;IACJ;;IAEA;IACA,IAAInK,iBAAiB,EAAE;MACrBkK,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QACjC,IAAIoB,iBAAiB,KAAK,UAAU,EAAE;UACpC,OAAOpB,IAAI,CAAC4L,eAAe,KAAK,IAAI;QACtC,CAAC,MAAM,IAAIxK,iBAAiB,KAAK,YAAY,EAAE;UAC7C,OAAOpB,IAAI,CAAC4L,eAAe,KAAK,KAAK;QACvC;QACA,OAAO,IAAI;MACb,CAAC,CAAC;IACJ;;IAEA;IACA,QAAO1K,MAAM;MACX,KAAK,MAAM;QACToK,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAClK,QAAQ,CAACoK,aAAa,CAACD,CAAC,CAACnK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,WAAW;QACd0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACnK,QAAQ,CAACoK,aAAa,CAACF,CAAC,CAAClK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,QAAQ;QACX0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACtE,MAAM,CAACwE,aAAa,CAACD,CAAC,CAACvE,MAAM,CAAC,CAAC;QACzD;MACF;QACE;QACA;IACJ;IAEAzG,mBAAmB,CAACuK,QAAQ,CAAC;EAC/B,CAAC,EAAE,CAAC1K,QAAQ,EAAEI,UAAU,EAAEI,iBAAiB,EAAEF,MAAM,CAAC,CAAC;;EAErD;EACA,MAAM4J,uBAAuB,GAAG,MAAO9I,IAAI,IAAK;IAC9C,IAAI;MACFiF,OAAO,CAACgF,GAAG,CAAC,qCAAqCC,kBAAkB,CAAClK,IAAI,CAAC,EAAE,CAAC;MAC5E,MAAMmK,GAAG,GAAG,MAAMrN,GAAG,CAAC,kBAAkBoN,kBAAkB,CAAClK,IAAI,CAAC,EAAE,CAAC;MACnEiF,OAAO,CAACgF,GAAG,CAAC,eAAe,EAAEE,GAAG,CAAC;MACjC;MACA,MAAMC,IAAI,GAAGC,KAAK,CAACC,OAAO,CAACH,GAAG,CAACI,eAAe,CAAC,GAAGJ,GAAG,CAACI,eAAe,GAAIF,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,GAAGA,GAAG,GAAG,EAAG;MACvGlF,OAAO,CAACgF,GAAG,CAAC,oCAAoCjK,IAAI,GAAG,EAAEoK,IAAI,CAAC;MAC9DxI,mBAAmB,CAAC4I,IAAI,IAAI;QAC1B,MAAMC,IAAI,GAAG;UAAE,GAAGD;QAAK,CAAC;QACxBJ,IAAI,CAACM,OAAO,CAACC,CAAC,IAAI;UAChB;UACA,MAAMC,GAAG,GAAID,CAAC,CAACnF,MAAM,IAAImF,CAAC,CAACnF,MAAM,CAACA,MAAM,IAAKmF,CAAC,CAACE,cAAc,IAAIF,CAAC,CAACnF,MAAM,IAAI,IAAI;UACjFP,OAAO,CAACgF,GAAG,CAAC,0CAA0CW,GAAG,YAAYD,CAAC,CAACrJ,KAAK,YAAYqJ,CAAC,CAACpJ,KAAK,EAAE,CAAC;UAClG,IAAIqJ,GAAG,EAAE;YACPH,IAAI,CAACG,GAAG,CAAC,GAAG;cAAEtJ,KAAK,EAAEqJ,CAAC,CAACrJ,KAAK;cAAEC,KAAK,EAAEoJ,CAAC,CAACpJ;YAAM,CAAC;UAChD;QACF,CAAC,CAAC;QACF0D,OAAO,CAACgF,GAAG,CAAC,2BAA2B,EAAEQ,IAAI,CAAC;QAC9C,OAAOA,IAAI;MACb,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO3E,CAAC,EAAE;MACVb,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEc,CAAC,CAAC;IAC1D;EACF,CAAC;EAED,MAAMgF,eAAe,GAAGA,CAAC9M,IAAI,EAAEgC,IAAI,KAAK;IACtC,MAAM+K,OAAO,GAAGpJ,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,IAAI;MAAElE,KAAK,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAI,CAAC;IAC1ES,gBAAgB,CAAC;MAAEhC,IAAI;MAAEhC;IAAK,CAAC,CAAC;IAChCkE,aAAa,CAAC;MAAEZ,KAAK,EAAEyJ,OAAO,CAACzJ,KAAK,IAAI,EAAE;MAAEC,KAAK,EAAEwJ,OAAO,CAACxJ,KAAK,IAAI;IAAI,CAAC,CAAC;IAC1EO,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMkJ,cAAc,GAAG,MAAOlF,CAAC,IAAK;IAClCA,CAAC,CAACmF,cAAc,CAAC,CAAC;IAClB,IAAI,CAAChJ,UAAU,CAACX,KAAK,IAAI,CAACW,UAAU,CAACV,KAAK,EAAE;IAC5C,IAAI;MACF;MACA,IAAI;QACF,MAAMzE,GAAG,CAAC,kBAAkB,EAAE;UAC5BoO,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE;YAAE3F,MAAM,EAAEzD,aAAa,CAAC/D,IAAI,CAACwH,MAAM;YAAElE,KAAK,EAAE8J,MAAM,CAACnJ,UAAU,CAACX,KAAK,CAAC;YAAEC,KAAK,EAAEU,UAAU,CAACV;UAAM;QACtG,CAAC,CAAC;MACJ,CAAC,CAAC,OAAO8J,WAAW,EAAE;QACpB;QACA,IAAIA,WAAW,CAAC5D,OAAO,IAAI4D,WAAW,CAAC5D,OAAO,CAACW,QAAQ,CAAC,kBAAkB,CAAC,EAAE;UAC3E,MAAMtL,GAAG,CAAC,aAAaiF,aAAa,CAAC/D,IAAI,CAACwH,MAAM,EAAE,EAAE;YAClD0F,MAAM,EAAE,KAAK;YACbC,IAAI,EAAE;cAAE7J,KAAK,EAAE8J,MAAM,CAACnJ,UAAU,CAACX,KAAK,CAAC;cAAEC,KAAK,EAAEU,UAAU,CAACV;YAAM;UACnE,CAAC,CAAC;QACJ,CAAC,MAAM;UACL,MAAM8J,WAAW,CAAC,CAAC;QACrB;MACF;MACA;MACA,MAAMvC,uBAAuB,CAAC/G,aAAa,CAAC/B,IAAI,CAAC;;MAEjD;MACA,IAAI+B,aAAa,CAAC/B,IAAI,KAAK,QAAQ,EAAE;QAAA,IAAAsL,mBAAA;QACnC,MAAM5C,YAAY,CAAC,CAAC;QACpB;QACA5G,kBAAkB,CAAC,KAAK,CAAC;QACzB,MAAM8I,GAAG,IAAAU,mBAAA,GAAGvJ,aAAa,CAAC/D,IAAI,cAAAsN,mBAAA,uBAAlBA,mBAAA,CAAoB9F,MAAM;QACtC,IAAI,CAACoF,GAAG,IAAI,CAACnI,kBAAkB,CAACmI,GAAG,CAAC,EAAE;UACpCxI,yBAAyB,CAAC,IAAI,CAAC;QACjC;QACA;MACF;MAEAN,kBAAkB,CAAC,KAAK,CAAC;IAC3B,CAAC,CAAC,OAAOkD,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3DC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACyC,OAAO,CAAC;MAC9CxC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCuG,KAAK,CAAC,8BAA8BvG,KAAK,CAACyC,OAAO,IAAI,mBAAmB,EAAE,CAAC;IAC7E;EACF,CAAC;;EAED;EACA,MAAM+D,qBAAqB,GAAG7O,WAAW,CAAC,MAAM;IAC9C,IAAI2M,QAAQ,GAAG,CAAC,GAAGhJ,QAAQ,CAAC;IAE5B,IAAII,iBAAiB,IAAIA,iBAAiB,CAAC6G,IAAI,CAAC,CAAC,EAAE;MACjD,MAAMgC,WAAW,GAAG7I,iBAAiB,CAACoH,WAAW,CAAC,CAAC,CAACP,IAAI,CAAC,CAAC;MAC1D+B,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QAAA,IAAAyN,eAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,cAAA;QACjC,MAAMhM,QAAQ,GAAG,EAAA6L,eAAA,GAAAzN,IAAI,CAAC4B,QAAQ,cAAA6L,eAAA,uBAAbA,eAAA,CAAe3D,WAAW,CAAC,CAAC,KAAI,EAAE;QACnD,MAAM/H,KAAK,GAAG,EAAA2L,YAAA,GAAA1N,IAAI,CAAC+B,KAAK,cAAA2L,YAAA,uBAAVA,YAAA,CAAY5D,WAAW,CAAC,CAAC,KAAI,EAAE;QAC7C,MAAMtC,MAAM,GAAG,EAAAmG,aAAA,GAAA3N,IAAI,CAACwH,MAAM,cAAAmG,aAAA,uBAAXA,aAAA,CAAa7D,WAAW,CAAC,CAAC,KAAI,EAAE;QAC/C,MAAMhI,OAAO,GAAG,EAAA8L,cAAA,GAAA5N,IAAI,CAAC8B,OAAO,cAAA8L,cAAA,uBAAZA,cAAA,CAAc9D,WAAW,CAAC,CAAC,KAAI,EAAE;QAEjD,OAAOlI,QAAQ,CAACwI,QAAQ,CAACmB,WAAW,CAAC,IAC9BxJ,KAAK,CAACqI,QAAQ,CAACmB,WAAW,CAAC,IAC3B/D,MAAM,CAAC4C,QAAQ,CAACmB,WAAW,CAAC,IAC5BzJ,OAAO,CAACsI,QAAQ,CAACmB,WAAW,CAAC;MACtC,CAAC,CAAC;IACJ;IAEA,IAAIzI,wBAAwB,EAAE;MAC5BwI,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QACjC,IAAI8C,wBAAwB,KAAK,UAAU,EAAE;UAC3C,OAAO9C,IAAI,CAAC4L,eAAe,KAAK,IAAI;QACtC,CAAC,MAAM,IAAI9I,wBAAwB,KAAK,YAAY,EAAE;UACpD,OAAO9C,IAAI,CAAC4L,eAAe,KAAK,KAAK;QACvC;QACA,OAAO,IAAI;MACb,CAAC,CAAC;IACJ;IAEA,QAAOhJ,aAAa;MAClB,KAAK,MAAM;QACT0I,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAClK,QAAQ,CAACoK,aAAa,CAACD,CAAC,CAACnK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,WAAW;QACd0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACnK,QAAQ,CAACoK,aAAa,CAACF,CAAC,CAAClK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,QAAQ;QACX0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACtE,MAAM,CAACwE,aAAa,CAACD,CAAC,CAACvE,MAAM,CAAC,CAAC;QACzD;MACF;QACE;QACA;IACJ;IAEA/E,mBAAmB,CAAC6I,QAAQ,CAAC;EAC/B,CAAC,EAAE,CAAChJ,QAAQ,EAAEI,iBAAiB,EAAEI,wBAAwB,EAAEF,aAAa,CAAC,CAAC;;EAE1E;EACA,MAAMiL,yBAAyB,GAAGlP,WAAW,CAAC,MAAM;IAClD,IAAI2M,QAAQ,GAAG,CAAC,GAAGhL,YAAY,CAAC;IAEhC,IAAIwE,iBAAiB,IAAIA,iBAAiB,CAACyE,IAAI,CAAC,CAAC,EAAE;MACjD,MAAMgC,WAAW,GAAGzG,iBAAiB,CAACgF,WAAW,CAAC,CAAC,CAACP,IAAI,CAAC,CAAC;MAC1D+B,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QAAA,IAAA8N,eAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,cAAA;QACjC,MAAMrM,QAAQ,GAAG,EAAAkM,eAAA,GAAA9N,IAAI,CAAC4B,QAAQ,cAAAkM,eAAA,uBAAbA,eAAA,CAAehE,WAAW,CAAC,CAAC,KAAI,EAAE;QACnD,MAAM/H,KAAK,GAAG,EAAAgM,YAAA,GAAA/N,IAAI,CAAC+B,KAAK,cAAAgM,YAAA,uBAAVA,YAAA,CAAYjE,WAAW,CAAC,CAAC,KAAI,EAAE;QAC7C,MAAMtC,MAAM,GAAG,EAAAwG,aAAA,GAAAhO,IAAI,CAACwH,MAAM,cAAAwG,aAAA,uBAAXA,aAAA,CAAalE,WAAW,CAAC,CAAC,KAAI,EAAE;QAC/C,MAAMhI,OAAO,GAAG,EAAAmM,cAAA,GAAAjO,IAAI,CAAC8B,OAAO,cAAAmM,cAAA,uBAAZA,cAAA,CAAcnE,WAAW,CAAC,CAAC,KAAI,EAAE;QAEjD,OAAOlI,QAAQ,CAACwI,QAAQ,CAACmB,WAAW,CAAC,IAC9BxJ,KAAK,CAACqI,QAAQ,CAACmB,WAAW,CAAC,IAC3B/D,MAAM,CAAC4C,QAAQ,CAACmB,WAAW,CAAC,IAC5BzJ,OAAO,CAACsI,QAAQ,CAACmB,WAAW,CAAC;MACtC,CAAC,CAAC;IACJ;IAEA,IAAIrG,wBAAwB,EAAE;MAC5BoG,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QACjC,IAAIkF,wBAAwB,KAAK,UAAU,EAAE;UAC3C,OAAOlF,IAAI,CAAC4L,eAAe,KAAK,IAAI;QACtC,CAAC,MAAM,IAAI1G,wBAAwB,KAAK,YAAY,EAAE;UACpD,OAAOlF,IAAI,CAAC4L,eAAe,KAAK,KAAK;QACvC;QACA,OAAO,IAAI;MACb,CAAC,CAAC;IACJ;IAEA,QAAO5G,aAAa;MAClB,KAAK,MAAM;QACTsG,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAClK,QAAQ,CAACoK,aAAa,CAACD,CAAC,CAACnK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,WAAW;QACd0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACnK,QAAQ,CAACoK,aAAa,CAACF,CAAC,CAAClK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,QAAQ;QACX0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACtE,MAAM,CAACwE,aAAa,CAACD,CAAC,CAACvE,MAAM,CAAC,CAAC;QACzD;MACF;QACE;QACA;IACJ;IAEA3C,uBAAuB,CAACyG,QAAQ,CAAC;EACnC,CAAC,EAAE,CAAChL,YAAY,EAAEwE,iBAAiB,EAAEI,wBAAwB,EAAEF,aAAa,CAAC,CAAC;;EAE9E;EACA,MAAMkJ,mBAAmB,GAAGvP,WAAW,CAAC,MAAM;IAC5C,IAAI2M,QAAQ,GAAG,CAAC,GAAG1F,MAAM,CAAC;IAE1B,IAAII,eAAe,IAAIA,eAAe,CAACuD,IAAI,CAAC,CAAC,EAAE;MAC7C,MAAMgC,WAAW,GAAGvF,eAAe,CAAC8D,WAAW,CAAC,CAAC,CAACP,IAAI,CAAC,CAAC;MACxD+B,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QAAA,IAAAmO,eAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,cAAA;QACjC,MAAM1M,QAAQ,GAAG,EAAAuM,eAAA,GAAAnO,IAAI,CAAC4B,QAAQ,cAAAuM,eAAA,uBAAbA,eAAA,CAAerE,WAAW,CAAC,CAAC,KAAI,EAAE;QACnD,MAAM/H,KAAK,GAAG,EAAAqM,YAAA,GAAApO,IAAI,CAAC+B,KAAK,cAAAqM,YAAA,uBAAVA,YAAA,CAAYtE,WAAW,CAAC,CAAC,KAAI,EAAE;QAC7C,MAAMtC,MAAM,GAAG,EAAA6G,aAAA,GAAArO,IAAI,CAACwH,MAAM,cAAA6G,aAAA,uBAAXA,aAAA,CAAavE,WAAW,CAAC,CAAC,KAAI,EAAE;QAC/C,MAAMhI,OAAO,GAAG,EAAAwM,cAAA,GAAAtO,IAAI,CAAC8B,OAAO,cAAAwM,cAAA,uBAAZA,cAAA,CAAcxE,WAAW,CAAC,CAAC,KAAI,EAAE;QAEjD,OAAOlI,QAAQ,CAACwI,QAAQ,CAACmB,WAAW,CAAC,IAC9BxJ,KAAK,CAACqI,QAAQ,CAACmB,WAAW,CAAC,IAC3B/D,MAAM,CAAC4C,QAAQ,CAACmB,WAAW,CAAC,IAC5BzJ,OAAO,CAACsI,QAAQ,CAACmB,WAAW,CAAC;MACtC,CAAC,CAAC;IACJ;IAEA,IAAInF,sBAAsB,EAAE;MAC1BkF,QAAQ,GAAGA,QAAQ,CAACT,MAAM,CAAC7K,IAAI,IAAI;QACjC,IAAIoG,sBAAsB,KAAK,UAAU,EAAE;UACzC,OAAOpG,IAAI,CAAC4L,eAAe,KAAK,IAAI;QACtC,CAAC,MAAM,IAAIxF,sBAAsB,KAAK,YAAY,EAAE;UAClD,OAAOpG,IAAI,CAAC4L,eAAe,KAAK,KAAK;QACvC;QACA,OAAO,IAAI;MACb,CAAC,CAAC;IACJ;IAEA,QAAO1F,WAAW;MAChB,KAAK,MAAM;QACToF,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAAClK,QAAQ,CAACoK,aAAa,CAACD,CAAC,CAACnK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,WAAW;QACd0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACnK,QAAQ,CAACoK,aAAa,CAACF,CAAC,CAAClK,QAAQ,CAAC,CAAC;QAC7D;MACF,KAAK,QAAQ;QACX0J,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACtE,MAAM,CAACwE,aAAa,CAACD,CAAC,CAACvE,MAAM,CAAC,CAAC;QACzD;MACF;QACE;QACA;IACJ;IAEAzB,iBAAiB,CAACuF,QAAQ,CAAC;EAC7B,CAAC,EAAE,CAAC1F,MAAM,EAAEI,eAAe,EAAEI,sBAAsB,EAAEF,WAAW,CAAC,CAAC;EAElE,MAAMqI,gBAAgB,GAAGA,CAAA,KAAM;IAC7B9M,iBAAiB,CAAC,IAAI,CAAC;IACvBE,cAAc,CAAC;MACbC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;IACR,CAAC,CAAC;IACFT,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMiN,iBAAiB,GAAIxO,IAAI,IAAK;IAClCyB,iBAAiB,CAACzB,IAAI,CAAC;IACvB2B,cAAc,CAAC;MACbC,QAAQ,EAAE5B,IAAI,CAAC4B,QAAQ;MACvBC,QAAQ,EAAE7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC6M,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;MAClF7M,OAAO,EAAE9B,IAAI,CAAC8B,OAAO;MACrBC,KAAK,EAAE/B,IAAI,CAAC+B,KAAK;MACjBC,IAAI,EAAEhC,IAAI,CAACgC;IACb,CAAC,CAAC;IACF;IACA,IAAIhC,IAAI,CAACgC,IAAI,KAAK,QAAQ,EAAE;MAC1B,CAAC,YAAY;QACX,IAAI;UACF,MAAM4M,UAAU,GAAG,MAAM9P,GAAG,CAAC,YAAYkB,IAAI,CAACwH,MAAM,EAAE,CAAC;UACvD,IAAIoH,UAAU,IAAIA,UAAU,CAACC,aAAa,EAAE;YAC1ClN,cAAc,CAAC6K,IAAI,KAAK;cACtB,GAAGA,IAAI;cACPvK,UAAU,EAAE2M,UAAU,CAACC,aAAa,CAAC5M,UAAU,IAAI,EAAE;cACrDC,aAAa,EAAE0M,UAAU,CAACC,aAAa,CAAC3M,aAAa,IAAI,EAAE;cAC3DC,cAAc,EAAEyM,UAAU,CAACC,aAAa,CAAC1M,cAAc,IAAI;YAC7D,CAAC,CAAC,CAAC;UACL;QACF,CAAC,CAAC,OAAO2M,GAAG,EAAE;UACZ;UACA7H,OAAO,CAAC8H,KAAK,CAAC,wCAAwC,EAAE/O,IAAI,CAACwH,MAAM,EAAEsH,GAAG,CAACrF,OAAO,IAAIqF,GAAG,CAAC;QAC1F;MACF,CAAC,EAAE,CAAC;IACN;IACAvN,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMyN,mBAAmB,GAAG,MAAOC,MAAM,IAAK;IAC5C,IAAIzE,MAAM,CAAC0E,OAAO,CAAC,4CAA4C,CAAC,EAAE;MAChE,IAAI;QACF,MAAMpQ,GAAG,CAAC,UAAUmQ,MAAM,EAAE,EAAE;UAAE/B,MAAM,EAAE;QAAS,CAAC,CAAC;QACnD,MAAMiC,eAAe,GAAGvO,QAAQ,CAACiK,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACoP,GAAG,KAAKH,MAAM,CAAC;QACpEpO,WAAW,CAACsO,eAAe,CAAC;QAC5B9D,qBAAqB,CAAC,CAAC;MACzB,CAAC,CAAC,OAAOrE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CuG,KAAK,CAAC,0CAA0C,CAAC;MACnD;IACF;EACF,CAAC;;EAED;EACA,MAAM8B,qBAAqB,GAAIxN,QAAQ,IAAK;IAC1C,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;IAE1B,MAAMyN,KAAK,GAAG,IAAIb,IAAI,CAAC,CAAC;IACxB,MAAMc,SAAS,GAAG,IAAId,IAAI,CAAC5M,QAAQ,CAAC;IACpC,MAAM2N,GAAG,GAAGF,KAAK,CAACG,WAAW,CAAC,CAAC,GAAGF,SAAS,CAACE,WAAW,CAAC,CAAC;IACzD,MAAMC,SAAS,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,GAAGJ,SAAS,CAACI,QAAQ,CAAC,CAAC;IACzD,MAAMC,SAAS,GAAGF,SAAS,GAAG,CAAC,IAAKA,SAAS,KAAK,CAAC,IAAIJ,KAAK,CAACO,OAAO,CAAC,CAAC,GAAGN,SAAS,CAACM,OAAO,CAAC,CAAE,GAAGL,GAAG,GAAG,CAAC,GAAGA,GAAG;;IAE7G;IACA;IACA;IACA,IAAII,SAAS,IAAI,CAAC,IAAIA,SAAS,IAAI,EAAE,EAAE;MACrC,OAAOA,SAAS,GAAG,CAAC,CAAC,CAAC;IACxB;IAEA,OAAO,IAAI,CAAC,CAAC;EACf,CAAC;EAED,MAAME,iBAAiB,GAAG,MAAOhI,CAAC,IAAK;IACrCA,CAAC,CAACmF,cAAc,CAAC,CAAC;;IAElB;IACA5K,oBAAoB,CAAC,CAAC,CAAC,CAAC;;IAExB;IACA,MAAM0N,kBAAkB,GAAGC,gBAAgB,CAACtO,WAAW,CAACG,QAAQ,EAAEH,WAAW,CAACM,IAAI,CAAC;IACnF,IAAI,CAAC+N,kBAAkB,CAACvG,OAAO,EAAE;MAC/BnH,oBAAoB,CAAC;QAAER,QAAQ,EAAEkO,kBAAkB,CAACtG;MAAQ,CAAC,CAAC;MAC9D;IACF;;IAEA;IACA,IAAI,CAAC/H,WAAW,CAACE,QAAQ,CAAC2H,IAAI,CAAC,CAAC,EAAE;MAChClH,oBAAoB,CAAC;QAAET,QAAQ,EAAE;MAAwB,CAAC,CAAC;MAC3D;IACF;IACA,IAAI,CAACF,WAAW,CAACK,KAAK,CAACwH,IAAI,CAAC,CAAC,EAAE;MAC7BlH,oBAAoB,CAAC;QAAEN,KAAK,EAAE;MAAoB,CAAC,CAAC;MACpD;IACF;IACA,IAAI,CAACL,WAAW,CAACI,OAAO,CAACyH,IAAI,CAAC,CAAC,EAAE;MAC/BlH,oBAAoB,CAAC;QAAEP,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxD;IACF;IACA;IACA,IAAIJ,WAAW,CAACM,IAAI,KAAK,QAAQ,EAAE;MACjC,MAAMiO,IAAI,GAAG,CAAC,CAAC;MACf,IAAIvO,WAAW,CAACQ,aAAa,IAAIR,WAAW,CAACQ,aAAa,CAACqH,IAAI,CAAC,CAAC,EAAE;QACjE,MAAM2G,CAAC,GAAG7G,mBAAmB,CAAC3H,WAAW,CAACQ,aAAa,CAAC;QACxD,IAAI,CAACgO,CAAC,CAAC1G,OAAO,EAAEyG,IAAI,CAAC/N,aAAa,GAAGgO,CAAC,CAACzG,OAAO,CAAC,KAAM/H,WAAW,CAACQ,aAAa,GAAGgO,CAAC,CAACrG,UAAU;MAC/F;MACA,IAAInI,WAAW,CAACS,cAAc,IAAIT,WAAW,CAACS,cAAc,CAACoH,IAAI,CAAC,CAAC,EAAE;QACnE,MAAM4G,EAAE,GAAG9G,mBAAmB,CAAC3H,WAAW,CAACS,cAAc,CAAC;QAC1D,IAAI,CAACgO,EAAE,CAAC3G,OAAO,EAAEyG,IAAI,CAAC9N,cAAc,GAAGgO,EAAE,CAAC1G,OAAO,CAAC,KAAM/H,WAAW,CAACS,cAAc,GAAGgO,EAAE,CAACtG,UAAU;MACpG;MACA,IAAIuG,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACrG,MAAM,GAAG,CAAC,EAAE;QAChCvH,oBAAoB,CAAC4N,IAAI,CAAC;QAC1B;MACF;IACF;IAEA,IAAI;MACF,IAAIzO,cAAc,EAAE;QAClB;QACAyF,OAAO,CAACgF,GAAG,CAAC,6BAA6B,EAAEvK,WAAW,CAAC;QACvD,MAAM+F,QAAQ,GAAG,MAAM3I,GAAG,CAAC,UAAU0C,cAAc,CAAC4N,GAAG,EAAE,EAAE;UACzDlC,MAAM,EAAE,KAAK;UACbC,IAAI,EAAEzL;QACR,CAAC,CAAC;QACFuF,OAAO,CAACgF,GAAG,CAAC,+BAA+B,EAAExE,QAAQ,CAAC;QACtD,MAAM0H,eAAe,GAAGvO,QAAQ,CAAC0P,GAAG,CAACtQ,IAAI,IACvCA,IAAI,CAACoP,GAAG,KAAK5N,cAAc,CAAC4N,GAAG,GAC3B;UAAE,GAAGpP,IAAI;UAAE,GAAG0B;QAAY,CAAC,GAC3B1B,IACN,CAAC;QACDa,WAAW,CAACsO,eAAe,CAAC;QAC5B;QACA,IAAIzN,WAAW,CAACM,IAAI,KAAK,QAAQ,EAAE;UAAA,IAAAuO,cAAA;UACjC,MAAMC,YAAY,GAAG,EAAAD,cAAA,GAAA9I,QAAQ,CAACzH,IAAI,cAAAuQ,cAAA,uBAAbA,cAAA,CAAe/I,MAAM,KAAIhG,cAAc,CAACgG,MAAM;UACnE,IAAI;YACF;YACA,MAAM1I,GAAG,CAAC,UAAU,EAAE;cACpBoO,MAAM,EAAE,MAAM;cACdC,IAAI,EAAE;gBACJ3F,MAAM,EAAEgJ,YAAY;gBACpBvO,UAAU,EAAEP,WAAW,CAACO,UAAU;gBAClCC,aAAa,EAAER,WAAW,CAACQ,aAAa;gBACxCC,cAAc,EAAET,WAAW,CAACS;cAC9B;YACF,CAAC,CAAC;YACFuC,qBAAqB,CAAC8H,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAE,CAACgE,YAAY,GAAG;YAAK,CAAC,CAAC,CAAC;UACpE,CAAC,CAAC,OAAOC,SAAS,EAAE;YAClB;YACA,IAAI;cACF,MAAM3R,GAAG,CAAC,YAAY0R,YAAY,EAAE,EAAE;gBACpCtD,MAAM,EAAE,KAAK;gBACbC,IAAI,EAAE;kBACJlL,UAAU,EAAEP,WAAW,CAACO,UAAU;kBAClCC,aAAa,EAAER,WAAW,CAACQ,aAAa;kBACxCC,cAAc,EAAET,WAAW,CAACS;gBAC9B;cACF,CAAC,CAAC;cACFuC,qBAAqB,CAAC8H,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE,CAACgE,YAAY,GAAG;cAAK,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,OAAOE,SAAS,EAAE;cAClBzJ,OAAO,CAACD,KAAK,CAAC,oDAAoD,EAAE0J,SAAS,CAAC;YAChF;UACF;QACF;QACAnP,mBAAmB,CAAC,KAAK,CAAC;QAC1Bc,oBAAoB,CAAC,CAAC,CAAC,CAAC;QACxBgJ,qBAAqB,CAAC,CAAC;MACzB,CAAC,MAAM;QACL;QACApE,OAAO,CAACgF,GAAG,CAAC,iCAAiC,EAAEvK,WAAW,CAAC;QAC3DuF,OAAO,CAACgF,GAAG,CAAC,uDAAuD,CAAC;QACpE,MAAMxE,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,EAAE;UACnCoO,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEzL;QACR,CAAC,CAAC;QACFuF,OAAO,CAACgF,GAAG,CAAC,+BAA+B,EAAExE,QAAQ,CAAC;QACtD5G,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE6G,QAAQ,CAACzH,IAAI,CAAC,CAAC;;QAEzC;QACA;QACA,IAAI0B,WAAW,CAACM,IAAI,KAAK,QAAQ,EAAE;UACjC,MAAM2O,SAAS,GAAGlJ,QAAQ,CAACzH,IAAI,CAACwH,MAAM;UACtC,IAAI;YACF,MAAM1I,GAAG,CAAC,UAAU,EAAE;cACpBoO,MAAM,EAAE,MAAM;cACdC,IAAI,EAAE;gBACJ3F,MAAM,EAAEmJ,SAAS;gBACjB1O,UAAU,EAAEP,WAAW,CAACO,UAAU;gBAClCC,aAAa,EAAER,WAAW,CAACQ,aAAa;gBACxCC,cAAc,EAAET,WAAW,CAACS;cAC9B;YACF,CAAC,CAAC;YACFuC,qBAAqB,CAAC8H,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAE,CAACmE,SAAS,GAAG;YAAK,CAAC,CAAC,CAAC;UACjE,CAAC,CAAC,OAAOC,eAAe,EAAE;YACxB;YACA,IAAI;cACF,MAAM9R,GAAG,CAAC,YAAY6R,SAAS,EAAE,EAAE;gBACjCzD,MAAM,EAAE,KAAK;gBACbC,IAAI,EAAE;kBACJlL,UAAU,EAAEP,WAAW,CAACO,UAAU;kBAClCC,aAAa,EAAER,WAAW,CAACQ,aAAa;kBACxCC,cAAc,EAAET,WAAW,CAACS;gBAC9B;cACF,CAAC,CAAC;cACFuC,qBAAqB,CAAC8H,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE,CAACmE,SAAS,GAAG;cAAK,CAAC,CAAC,CAAC;YACjE,CAAC,CAAC,OAAOE,eAAe,EAAE;cACxB5J,OAAO,CAACD,KAAK,CAAC,sDAAsD,EAAE4J,eAAe,EAAEC,eAAe,CAAC;YACzG;UACF;QACF;QAEA,IAAInP,WAAW,CAACM,IAAI,KAAK,QAAQ,EAAE;UACjC,MAAM8O,eAAe,GAAGzB,qBAAqB,CAAC3N,WAAW,CAACG,QAAQ,CAAC;UACnEoF,OAAO,CAACgF,GAAG,CAAC,+BAA+B,EAAEvK,WAAW,CAACG,QAAQ,EAAE,GAAG,EAAEiP,eAAe,CAAC;UACxF,IAAIA,eAAe,EAAE;YACnB7J,OAAO,CAACgF,GAAG,CAAC,sCAAsC,EAAE6E,eAAe,CAAC;YACpE;YACA9M,gBAAgB,CAAC;cACfhC,IAAI,EAAE,QAAQ;cACdhC,IAAI,EAAEyH,QAAQ,CAACzH;YACjB,CAAC,CAAC;YACFkE,aAAa,CAAC;cACZZ,KAAK,EAAEwN,eAAe,CAACC,QAAQ,CAAC,CAAC;cACjCxN,KAAK,EAAE;YACT,CAAC,CAAC;YACFhC,mBAAmB,CAAC,KAAK,CAAC;YAC1BuC,kBAAkB,CAAC,IAAI,CAAC;YACxBzB,oBAAoB,CAAC,CAAC,CAAC,CAAC;YACxB4E,OAAO,CAACgF,GAAG,CAAC,mEAAmE,CAAC;YAChF;UACF,CAAC,MAAM;YACLhF,OAAO,CAACgF,GAAG,CAAC,oCAAoC,CAAC;UACnD;QACF;QAEA1K,mBAAmB,CAAC,KAAK,CAAC;QAC1Bc,oBAAoB,CAAC,CAAC,CAAC,CAAC;QACxBgJ,qBAAqB,CAAC,CAAC;MACzB;IACF,CAAC,CAAC,OAAOrE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACyC,OAAO,CAAC;MAC9CxC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MAEvC,IAAIA,KAAK,CAACgK,MAAM,IAAI3E,KAAK,CAACC,OAAO,CAACtF,KAAK,CAACgK,MAAM,CAAC,EAAE;QAC/C;QACA,MAAMC,QAAQ,GAAG,CAAC,CAAC;QACnBjK,KAAK,CAACgK,MAAM,CAACtE,OAAO,CAACoC,GAAG,IAAI;UAC1B,IAAIA,GAAG,CAAC1E,QAAQ,CAAC,UAAU,CAAC,IAAI0E,GAAG,CAAC1E,QAAQ,CAAC,UAAU,CAAC,EAAE;YACxD6G,QAAQ,CAACpP,QAAQ,GAAGiN,GAAG;UACzB,CAAC,MAAM,IAAIA,GAAG,CAAC1E,QAAQ,CAAC,OAAO,CAAC,IAAI0E,GAAG,CAAC1E,QAAQ,CAAC,OAAO,CAAC,EAAE;YACzD6G,QAAQ,CAAClP,KAAK,GAAG+M,GAAG;UACtB,CAAC,MAAM,IAAIA,GAAG,CAAC1E,QAAQ,CAAC,MAAM,CAAC,IAAI0E,GAAG,CAAC1E,QAAQ,CAAC,MAAM,CAAC,EAAE;YACvD6G,QAAQ,CAACrP,QAAQ,GAAGkN,GAAG;UACzB,CAAC,MAAM,IAAIA,GAAG,CAAC1E,QAAQ,CAAC,SAAS,CAAC,IAAI0E,GAAG,CAAC1E,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC7D6G,QAAQ,CAACnP,OAAO,GAAGgN,GAAG;UACxB;QACF,CAAC,CAAC;QACFzM,oBAAoB,CAAC4O,QAAQ,CAAC;MAChC,CAAC,MAAM;QACL1D,KAAK,CAAC,wBAAwBvG,KAAK,CAACyC,OAAO,IAAI,mBAAmB,EAAE,CAAC;MACvE;IACF;EACF,CAAC;;EAED;EACA,MAAMyH,gBAAgB,GAAGA,CAAA,KAAM;IAC7B/N,iBAAiB,CAAC,IAAI,CAAC;IACvBE,cAAc,CAAC;MACbzB,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,SAAS;MACfsB,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,GAAG;MACVC,KAAK,EAAE;IACT,CAAC,CAAC;IACFP,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMkO,iBAAiB,GAAInR,IAAI,IAAK;IAAA,IAAAoR,qBAAA,EAAAC,sBAAA;IAClClO,iBAAiB,CAACnD,IAAI,CAAC;IACvBqD,cAAc,CAAC;MACbzB,QAAQ,EAAE5B,IAAI,CAAC4B,QAAQ;MACvBC,QAAQ,EAAE7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC6M,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;MAClF7M,OAAO,EAAE9B,IAAI,CAAC8B,OAAO;MACrBC,KAAK,EAAE/B,IAAI,CAAC+B,KAAK;MACjBC,IAAI,EAAEhC,IAAI,CAACgC,IAAI;MACfsB,KAAK,EAAE,EAAA8N,qBAAA,GAAAzN,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAA4J,qBAAA,uBAA7BA,qBAAA,CAA+B9N,KAAK,KAAI,EAAE;MACjDC,KAAK,EAAE,EAAA8N,sBAAA,GAAA1N,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAA6J,sBAAA,uBAA7BA,sBAAA,CAA+B9N,KAAK,KAAI,GAAG;MAClDC,KAAK,EAAExD,IAAI,CAACwD,KAAK,IAAI;IACvB,CAAC,CAAC;IACFP,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMqO,mBAAmB,GAAG,MAAOrC,MAAM,IAAK;IAC5C,IAAIzE,MAAM,CAAC0E,OAAO,CAAC,+CAA+C,CAAC,EAAE;MACnE,IAAI;QACF,MAAMpQ,GAAG,CAAC,UAAUmQ,MAAM,EAAE,EAAE;UAAE/B,MAAM,EAAE;QAAS,CAAC,CAAC;QACnD,MAAMqE,eAAe,GAAGjP,QAAQ,CAACuI,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACoP,GAAG,KAAKH,MAAM,CAAC;QACpE1M,WAAW,CAACgP,eAAe,CAAC;QAC5B/D,qBAAqB,CAAC,CAAC;MACzB,CAAC,CAAC,OAAOxG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjDuG,KAAK,CAAC,6CAA6C,CAAC;MACtD;IACF;EACF,CAAC;EAED,MAAMiE,iBAAiB,GAAG,MAAO1J,CAAC,IAAK;IACrCA,CAAC,CAACmF,cAAc,CAAC,CAAC;IAClB;IACA,IAAI7J,WAAW,CAACI,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAAC+F,IAAI,CAAC,CAAC,EAAE;MACjD,MAAM2G,CAAC,GAAG7G,mBAAmB,CAACjG,WAAW,CAACI,KAAK,CAAC;MAChD,IAAI,CAAC0M,CAAC,CAAC1G,OAAO,EAAE;QACd9F,oBAAoB,CAAC;UAAEF,KAAK,EAAE0M,CAAC,CAACzG;QAAQ,CAAC,CAAC;QAC1C;MACF,CAAC,MAAM;QACLpG,cAAc,CAACmJ,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEhJ,KAAK,EAAE0M,CAAC,CAACrG;QAAW,CAAC,CAAC,CAAC;MAC5D;IACF;IAEA,IAAI;MACF,IAAI3G,cAAc,EAAE;QAClB,MAAMpE,GAAG,CAAC,UAAUoE,cAAc,CAACkM,GAAG,EAAE,EAAE;UACxClC,MAAM,EAAE,KAAK;UACbC,IAAI,EAAE/J;QACR,CAAC,CAAC;QACF,MAAMmO,eAAe,GAAGjP,QAAQ,CAACgO,GAAG,CAACtQ,IAAI,IACvCA,IAAI,CAACoP,GAAG,KAAKlM,cAAc,CAACkM,GAAG,GAC3B;UAAE,GAAGpP,IAAI;UAAE,GAAGoD;QAAY,CAAC,GAC3BpD,IACN,CAAC;QACDuC,WAAW,CAACgP,eAAe,CAAC;QAC5B;QACA,IAAInO,WAAW,CAACE,KAAK,EAAE;UACrB,IAAI;YACF,MAAMxE,GAAG,CAAC,kBAAkB,EAAE;cAC5BoO,MAAM,EAAE,MAAM;cACdC,IAAI,EAAE;gBAAE3F,MAAM,EAAEtE,cAAc,CAACsE,MAAM;gBAAElE,KAAK,EAAE8J,MAAM,CAAChK,WAAW,CAACE,KAAK,CAAC;gBAAEC,KAAK,EAAEH,WAAW,CAACG,KAAK,IAAI;cAAI;YAC3G,CAAC,CAAC;UACJ,CAAC,CAAC,OAAOkO,SAAS,EAAE;YAClB;YACA,IAAIA,SAAS,CAAChI,OAAO,IAAIgI,SAAS,CAAChI,OAAO,CAACW,QAAQ,CAAC,kBAAkB,CAAC,EAAE;cACvE,MAAMtL,GAAG,CAAC,aAAaoE,cAAc,CAACsE,MAAM,EAAE,EAAE;gBAC9C0F,MAAM,EAAE,KAAK;gBACbC,IAAI,EAAE;kBAAE7J,KAAK,EAAE8J,MAAM,CAAChK,WAAW,CAACE,KAAK,CAAC;kBAAEC,KAAK,EAAEH,WAAW,CAACG,KAAK,IAAI;gBAAI;cAC5E,CAAC,CAAC;YACJ,CAAC,MAAM;cACL0D,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEyK,SAAS,CAAC;YACxE;UACF;UACA;UACA,MAAM3G,uBAAuB,CAAC,SAAS,CAAC;QAC1C;MACF,CAAC,MAAM;QACL,MAAMrD,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,EAAE;UACnCoO,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE/J;QACR,CAAC,CAAC;QACFb,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAEmF,QAAQ,CAACzH,IAAI,CAAC,CAAC;QACzC;QACA,IAAIoD,WAAW,CAACE,KAAK,EAAE;UACrB,IAAI;YACF,MAAMxE,GAAG,CAAC,kBAAkB,EAAE;cAC5BoO,MAAM,EAAE,MAAM;cACdC,IAAI,EAAE;gBAAE3F,MAAM,EAAEC,QAAQ,CAACzH,IAAI,CAACwH,MAAM;gBAAElE,KAAK,EAAE8J,MAAM,CAAChK,WAAW,CAACE,KAAK,CAAC;gBAAEC,KAAK,EAAEH,WAAW,CAACG,KAAK,IAAI;cAAI;YAC1G,CAAC,CAAC;UACJ,CAAC,CAAC,OAAOkO,SAAS,EAAE;YAClB,IAAIA,SAAS,CAAChI,OAAO,IAAIgI,SAAS,CAAChI,OAAO,CAACW,QAAQ,CAAC,kBAAkB,CAAC,EAAE;cACvE,IAAI;gBACF,MAAMtL,GAAG,CAAC,aAAa2I,QAAQ,CAACzH,IAAI,CAACwH,MAAM,EAAE,EAAE;kBAC7C0F,MAAM,EAAE,KAAK;kBACbC,IAAI,EAAE;oBAAE7J,KAAK,EAAE8J,MAAM,CAAChK,WAAW,CAACE,KAAK,CAAC;oBAAEC,KAAK,EAAEH,WAAW,CAACG,KAAK,IAAI;kBAAI;gBAC5E,CAAC,CAAC;cACJ,CAAC,CAAC,OAAOmO,IAAI,EAAE;gBACbzK,OAAO,CAACD,KAAK,CAAC,oDAAoD,EAAE0K,IAAI,CAAC;cAC3E;YACF,CAAC,MAAM;cACLzK,OAAO,CAACD,KAAK,CAAC,gDAAgD,EAAEyK,SAAS,CAAC;YAC5E;UACF;UACA,MAAM3G,uBAAuB,CAAC,SAAS,CAAC;QAC1C;MACF;MAEA7H,mBAAmB,CAAC,KAAK,CAAC;MAC1BuK,qBAAqB,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOxG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CuG,KAAK,CAAC,2CAA2C,CAAC;IACpD;EACF,CAAC;;EAED;EACA,MAAMoE,gBAAgB,GAAGA,CAAA,KAAM;IAC7BpM,iBAAiB,CAAC,IAAI,CAAC;IACvBE,cAAc,CAAC;MACb7D,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,cAAc;MACpBwB,KAAK,EAAE;IACT,CAAC,CAAC;IACF6B,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMuM,iBAAiB,GAAI5R,IAAI,IAAK;IAClCuF,iBAAiB,CAACvF,IAAI,CAAC;IACvByF,cAAc,CAAC;MACb7D,QAAQ,EAAE5B,IAAI,CAAC4B,QAAQ;MACvBC,QAAQ,EAAE7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC6M,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;MAClF7M,OAAO,EAAE9B,IAAI,CAAC8B,OAAO;MACrBC,KAAK,EAAE/B,IAAI,CAAC+B,KAAK;MACjBC,IAAI,EAAEhC,IAAI,CAACgC,IAAI;MACfwB,KAAK,EAAExD,IAAI,CAACwD,KAAK,IAAI;IACvB,CAAC,CAAC;IACF6B,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMwM,mBAAmB,GAAG,MAAO5C,MAAM,IAAK;IAC5C,IAAIzE,MAAM,CAAC0E,OAAO,CAAC,4DAA4D,CAAC,EAAE;MAChF,IAAI;QACF,MAAMpQ,GAAG,CAAC,UAAUmQ,MAAM,EAAE,EAAE;UAAE/B,MAAM,EAAE;QAAS,CAAC,CAAC;QACnD,MAAM4E,mBAAmB,GAAGxR,YAAY,CAACuK,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACoP,GAAG,KAAKH,MAAM,CAAC;QAC5EtK,eAAe,CAACmN,mBAAmB,CAAC;QACpCjE,yBAAyB,CAAC,CAAC;MAC7B,CAAC,CAAC,OAAO7G,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvDuG,KAAK,CAAC,mDAAmD,CAAC;MAC5D;IACF;EACF,CAAC;EAED,MAAMwE,iBAAiB,GAAG,MAAOjK,CAAC,IAAK;IACrCA,CAAC,CAACmF,cAAc,CAAC,CAAC;IAClB,IAAIzH,WAAW,CAAChC,KAAK,IAAIgC,WAAW,CAAChC,KAAK,CAAC+F,IAAI,CAAC,CAAC,EAAE;MACjD,MAAM2G,CAAC,GAAG7G,mBAAmB,CAAC7D,WAAW,CAAChC,KAAK,CAAC;MAChD,IAAI,CAAC0M,CAAC,CAAC1G,OAAO,EAAE;QACd7D,oBAAoB,CAAC;UAAEnC,KAAK,EAAE0M,CAAC,CAACzG;QAAQ,CAAC,CAAC;QAC1C;MACF,CAAC,MAAM;QACLhE,cAAc,CAAC+G,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEhJ,KAAK,EAAE0M,CAAC,CAACrG;QAAW,CAAC,CAAC,CAAC;MAC5D;IACF;IAEA,IAAI;MACF,IAAIvE,cAAc,EAAE;QAClB,MAAMxG,GAAG,CAAC,UAAUwG,cAAc,CAAC8J,GAAG,EAAE,EAAE;UACxClC,MAAM,EAAE,KAAK;UACbC,IAAI,EAAE3H;QACR,CAAC,CAAC;QACF,MAAMsM,mBAAmB,GAAGxR,YAAY,CAACgQ,GAAG,CAACtQ,IAAI,IAC/CA,IAAI,CAACoP,GAAG,KAAK9J,cAAc,CAAC8J,GAAG,GAC3B;UAAE,GAAGpP,IAAI;UAAE,GAAGwF;QAAY,CAAC,GAC3BxF,IACN,CAAC;QACD2E,eAAe,CAACmN,mBAAmB,CAAC;MACtC,CAAC,MAAM;QACL,MAAMrK,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,EAAE;UACnCoO,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE3H;QACR,CAAC,CAAC;QACFb,eAAe,CAAC,CAAC,GAAGrE,YAAY,EAAEmH,QAAQ,CAACzH,IAAI,CAAC,CAAC;MACnD;MAEAqF,mBAAmB,CAAC,KAAK,CAAC;MAC1BwI,yBAAyB,CAAC,CAAC;IAC7B,CAAC,CAAC,OAAO7G,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDuG,KAAK,CAAC,iDAAiD,CAAC;IAC1D;EACF,CAAC;;EAED;EACA,MAAMyE,cAAc,GAAGA,CAAA,KAAM;IAC3BvL,eAAe,CAAC,IAAI,CAAC;IACrBE,YAAY,CAAC;MACX/E,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,OAAO;MACbwB,KAAK,EAAE;IACT,CAAC,CAAC;IACF+C,iBAAiB,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,MAAM0L,eAAe,GAAIjS,IAAI,IAAK;IAChCyG,eAAe,CAACzG,IAAI,CAAC;IACrB2G,YAAY,CAAC;MACX/E,QAAQ,EAAE5B,IAAI,CAAC4B,QAAQ;MACvBC,QAAQ,EAAE7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC6M,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;MAClF7M,OAAO,EAAE9B,IAAI,CAAC8B,OAAO;MACrBC,KAAK,EAAE/B,IAAI,CAAC+B,KAAK;MACjBC,IAAI,EAAEhC,IAAI,CAACgC,IAAI;MACfwB,KAAK,EAAExD,IAAI,CAACwD,KAAK,IAAI;IACvB,CAAC,CAAC;IACF+C,iBAAiB,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,MAAM2L,iBAAiB,GAAG,MAAOjD,MAAM,IAAK;IAC1C,IAAIzE,MAAM,CAAC0E,OAAO,CAAC,6CAA6C,CAAC,EAAE;MACjE,IAAI;QACF,MAAMpQ,GAAG,CAAC,UAAUmQ,MAAM,EAAE,EAAE;UAAE/B,MAAM,EAAE;QAAS,CAAC,CAAC;QACnD,MAAMiF,aAAa,GAAGvM,MAAM,CAACiF,MAAM,CAAC7K,IAAI,IAAIA,IAAI,CAACoP,GAAG,KAAKH,MAAM,CAAC;QAChEpJ,SAAS,CAACsM,aAAa,CAAC;QACxBjE,mBAAmB,CAAC,CAAC;MACvB,CAAC,CAAC,OAAOlH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/CuG,KAAK,CAAC,2CAA2C,CAAC;MACpD;IACF;EACF,CAAC;EAED,MAAM6E,eAAe,GAAG,MAAOtK,CAAC,IAAK;IACnCA,CAAC,CAACmF,cAAc,CAAC,CAAC;IAClB,IAAIvG,SAAS,CAAClD,KAAK,IAAIkD,SAAS,CAAClD,KAAK,CAAC+F,IAAI,CAAC,CAAC,EAAE;MAC7C,MAAM2G,CAAC,GAAG7G,mBAAmB,CAAC3C,SAAS,CAAClD,KAAK,CAAC;MAC9C,IAAI,CAAC0M,CAAC,CAAC1G,OAAO,EAAE;QACd3C,kBAAkB,CAAC;UAAErD,KAAK,EAAE0M,CAAC,CAACzG;QAAQ,CAAC,CAAC;QACxC;MACF,CAAC,MAAM;QACL9C,YAAY,CAAC6F,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEhJ,KAAK,EAAE0M,CAAC,CAACrG;QAAW,CAAC,CAAC,CAAC;MAC1D;IACF;IAEA,IAAI;MACF,IAAIrD,YAAY,EAAE;QAChB,MAAM1H,GAAG,CAAC,UAAU0H,YAAY,CAAC4I,GAAG,EAAE,EAAE;UACtClC,MAAM,EAAE,KAAK;UACbC,IAAI,EAAEzG;QACR,CAAC,CAAC;QACF,MAAMyL,aAAa,GAAGvM,MAAM,CAAC0K,GAAG,CAACtQ,IAAI,IACnCA,IAAI,CAACoP,GAAG,KAAK5I,YAAY,CAAC4I,GAAG,GACzB;UAAE,GAAGpP,IAAI;UAAE,GAAG0G;QAAU,CAAC,GACzB1G,IACN,CAAC;QACD6F,SAAS,CAACsM,aAAa,CAAC;MAC1B,CAAC,MAAM;QACL,MAAM1K,QAAQ,GAAG,MAAM3I,GAAG,CAAC,QAAQ,EAAE;UACnCoO,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEzG;QACR,CAAC,CAAC;QACFb,SAAS,CAAC,CAAC,GAAGD,MAAM,EAAE6B,QAAQ,CAACzH,IAAI,CAAC,CAAC;MACvC;MAEAuG,iBAAiB,CAAC,KAAK,CAAC;MACxB2H,mBAAmB,CAAC,CAAC;IACvB,CAAC,CAAC,OAAOlH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CuG,KAAK,CAAC,yCAAyC,CAAC;IAClD;EACF,CAAC;;EAED;EACA7O,SAAS,CAAC,MAAM;IACd,IAAIoB,SAAS,KAAK,UAAU,EAAE;MAC5B4K,YAAY,CAAC,CAAC;MACd;MACAI,uBAAuB,CAAC,QAAQ,CAAC;IACnC,CAAC,MAAM,IAAIhL,SAAS,KAAK,UAAU,EAAE;MACnCiL,YAAY,CAAC,CAAC;MACd;MACAD,uBAAuB,CAAC,SAAS,CAAC;IACpC,CAAC,MAAM,IAAIhL,SAAS,KAAK,aAAa,EAAE;MACtCgL,uBAAuB,CAAC,QAAQ,CAAC;MACjCA,uBAAuB,CAAC,SAAS,CAAC;IACpC,CAAC,MAAM,IAAIhL,SAAS,KAAK,eAAe,EAAE;MACxCmL,gBAAgB,CAAC,CAAC;IACpB,CAAC,MAAM,IAAInL,SAAS,KAAK,QAAQ,EAAE;MACjCqL,UAAU,CAAC,CAAC;IACd,CAAC,MAAM,IAAIrL,SAAS,KAAK,WAAW,EAAE;MACpC;MACAuS,kBAAkB,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAACvS,SAAS,EAAE4K,YAAY,EAAEK,YAAY,CAAC,CAAC;;EAE3C;EACArM,SAAS,CAAC,MAAM;IACdoM,uBAAuB,CAAC,QAAQ,CAAC;IACjCA,uBAAuB,CAAC,SAAS,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMuH,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAMvT,GAAG,CAAC,iBAAiB,EAAE;QAC3BoO,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UACJmF,MAAM,EAAE,kBAAkB;UAC1BC,UAAU,EAAE,WAAW;UACvBC,QAAQ,EAAE,IAAI;UACdC,UAAU,EAAE,iBAAiB;UAC7BC,WAAW,EAAE,0BAA0B;UACvCC,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAY;QAClC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO5L,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF,CAAC;;EAED;EACAtI,SAAS,CAAC,MAAM;IACd2M,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAACrK,UAAU,EAAEE,MAAM,EAAEE,iBAAiB,EAAER,QAAQ,EAAEyK,qBAAqB,CAAC,CAAC;EAE5E3M,SAAS,CAAC,MAAM;IACd8O,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAAC9K,iBAAiB,EAAEE,aAAa,EAAEE,wBAAwB,EAAER,QAAQ,EAAEkL,qBAAqB,CAAC,CAAC;EAEjG9O,SAAS,CAAC,MAAM;IACdmP,yBAAyB,CAAC,CAAC;EAC7B,CAAC,EAAE,CAAC/I,iBAAiB,EAAEE,aAAa,EAAEE,wBAAwB,EAAE5E,YAAY,EAAEuN,yBAAyB,CAAC,CAAC;EAEzGnP,SAAS,CAAC,MAAM;IACdwP,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,CAAClI,eAAe,EAAEE,WAAW,EAAEE,sBAAsB,EAAER,MAAM,EAAEsI,mBAAmB,CAAC,CAAC;;EAEvF;EACAxP,SAAS,CAAC,MAAM;IACduI,OAAO,CAACgF,GAAG,CAAC,yCAAyC,EAAE3K,gBAAgB,EAAE,kBAAkB,EAAEuC,eAAe,CAAC;IAC7G,IAAIA,eAAe,EAAE;MACnBoD,OAAO,CAACgF,GAAG,CAAC,2BAA2B,EAAElI,aAAa,CAAC;MACvDkD,OAAO,CAACgF,GAAG,CAAC,kBAAkB,EAAEhI,UAAU,CAAC;IAC7C;EACF,CAAC,EAAE,CAAC3C,gBAAgB,EAAEuC,eAAe,EAAEE,aAAa,EAAEE,UAAU,CAAC,CAAC;;EAElE;EACA,MAAM4O,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC5L,OAAO,CAACgF,GAAG,CAAC,+BAA+B,CAAC;IAC5ChF,OAAO,CAACgF,GAAG,CAAC,uCAAuC,EAAEtI,gBAAgB,CAAC;IACtE,MAAMmH,uBAAuB,CAAC,QAAQ,CAAC;IACvC7D,OAAO,CAACgF,GAAG,CAAC,sCAAsC,EAAEtI,gBAAgB,CAAC;;IAErE;IACA,IAAI;MACF,MAAMwI,GAAG,GAAG,MAAMrN,GAAG,CAAC,uBAAuB,CAAC;MAC9CmI,OAAO,CAACgF,GAAG,CAAC,yBAAyB,EAAEE,GAAG,CAAC;IAC7C,CAAC,CAAC,OAAOnF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;;EAED;EACA,MAAM8L,yBAAyB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAClD,IAAID,KAAK,CAAC3I,QAAQ,CAAC,GAAG,CAAC,EAAE;MACvB,MAAM,CAAC6I,MAAM,EAAEC,KAAK,CAAC,GAAGH,KAAK,CAACpE,KAAK,CAAC,GAAG,CAAC;MACxCrK,oBAAoB,CAACkI,IAAI,KAAK;QAC5B,GAAGA,IAAI;QACP,CAACyG,MAAM,GAAG;UACR,GAAGzG,IAAI,CAACyG,MAAM,CAAC;UACf,CAACC,KAAK,GAAGF;QACX;MACF,CAAC,CAAC,CAAC;IACL,CAAC,MAAM;MACL1O,oBAAoB,CAACkI,IAAI,KAAK;QAC5B,GAAGA,IAAI;QACP,CAACuG,KAAK,GAAGC;MACX,CAAC,CAAC,CAAC;IACL;IACA;IACA,IAAIzO,mBAAmB,CAACwO,KAAK,CAAC,EAAE;MAC9BvO,sBAAsB,CAACgI,IAAI,KAAK;QAC9B,GAAGA,IAAI;QACP,CAACuG,KAAK,GAAG;MACX,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAED,MAAMI,uBAAuB,GAAG,MAAOrL,CAAC,IAAK;IAC3CA,CAAC,CAACmF,cAAc,CAAC,CAAC;;IAElB;IACA,MAAM+D,MAAM,GAAG,CAAC,CAAC;IACjB,IAAI,CAAC3M,iBAAiB,CAACpC,UAAU,CAACsH,IAAI,CAAC,CAAC,EAAEyH,MAAM,CAAC/O,UAAU,GAAG,yBAAyB;IACvF,IAAI,CAACoC,iBAAiB,CAACnC,aAAa,CAACqH,IAAI,CAAC,CAAC,EAAEyH,MAAM,CAAC9O,aAAa,GAAG,4BAA4B,CAAC,KAC5F;MACH,MAAMgO,CAAC,GAAG7G,mBAAmB,CAAChF,iBAAiB,CAACnC,aAAa,CAAC;MAC9D,IAAI,CAACgO,CAAC,CAAC1G,OAAO,EAAEwH,MAAM,CAAC9O,aAAa,GAAGgO,CAAC,CAACzG,OAAO,CAAC,KAC5CpF,iBAAiB,CAACnC,aAAa,GAAGgO,CAAC,CAACrG,UAAU;IACrD;IACA,IAAI,CAACxF,iBAAiB,CAAClC,cAAc,CAACoH,IAAI,CAAC,CAAC,EAAEyH,MAAM,CAAC7O,cAAc,GAAG,6BAA6B,CAAC,KAC/F;MACH,MAAMgO,EAAE,GAAG9G,mBAAmB,CAAChF,iBAAiB,CAAClC,cAAc,CAAC;MAChE,IAAI,CAACgO,EAAE,CAAC3G,OAAO,EAAEwH,MAAM,CAAC7O,cAAc,GAAGgO,EAAE,CAAC1G,OAAO,CAAC,KAC/CpF,iBAAiB,CAAClC,cAAc,GAAGgO,EAAE,CAACtG,UAAU;IACvD;IAEA,IAAIuG,MAAM,CAACC,IAAI,CAACW,MAAM,CAAC,CAACpH,MAAM,GAAG,CAAC,EAAE;MAClCpF,sBAAsB,CAACwM,MAAM,CAAC;MAC9B;IACF;IAEA,IAAI;MACF;MACA,MAAMlS,GAAG,CAAC,UAAU,EAAE;QACpBoO,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UACJ3F,MAAM,EAAEzD,aAAa,CAAC/D,IAAI,CAACwH,MAAM;UACjC,GAAGnD;QACL;MACF,CAAC,CAAC;MAEFD,yBAAyB,CAAC,KAAK,CAAC;MAChCE,oBAAoB,CAAC;QACnBrC,UAAU,EAAE,EAAE;QACdC,aAAa,EAAE,EAAE;QACjBC,cAAc,EAAE;MAClB,CAAC,CAAC;MACFqC,sBAAsB,CAAC,CAAC,CAAC,CAAC;;MAE1B;MACA,MAAMkG,YAAY,CAAC,CAAC;MACpB6C,KAAK,CAAC,oCAAoC,CAAC;IAC7C,CAAC,CAAC,OAAOvG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDuG,KAAK,CAAC,kDAAkD,CAAC;IAC3D;EACF,CAAC;EAED,MAAM6F,YAAY,GAAGA,CAAA,KAAM;IACzBlM,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCzH,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAM2T,gBAAgB,GAAGA,CAAA,KAAM;IAC7B3T,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;;EAED;EACA,MAAMsQ,gBAAgB,GAAGA,CAACnO,QAAQ,EAAEG,IAAI,KAAK;IAC3C,IAAI,CAACH,QAAQ,EAAE,OAAO;MAAE2H,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAuB,CAAC;IAEzE,MAAM6F,KAAK,GAAG,IAAIb,IAAI,CAAC,CAAC;IACxB,MAAMc,SAAS,GAAG,IAAId,IAAI,CAAC5M,QAAQ,CAAC;;IAEpC;IACA,IAAI0N,SAAS,GAAGD,KAAK,EAAE;MACrB,OAAO;QAAE9F,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAmC,CAAC;IACxE;;IAEA;IACA,IAAIzH,IAAI,KAAK,QAAQ,EAAE;MACrB,MAAMwN,GAAG,GAAGF,KAAK,CAACG,WAAW,CAAC,CAAC,GAAGF,SAAS,CAACE,WAAW,CAAC,CAAC;MACzD,MAAMC,SAAS,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,GAAGJ,SAAS,CAACI,QAAQ,CAAC,CAAC;MACzD,MAAMC,SAAS,GAAGF,SAAS,GAAG,CAAC,IAAKA,SAAS,KAAK,CAAC,IAAIJ,KAAK,CAACO,OAAO,CAAC,CAAC,GAAGN,SAAS,CAACM,OAAO,CAAC,CAAE,GAAGL,GAAG,GAAG,CAAC,GAAGA,GAAG;MAE7G,IAAII,SAAS,GAAG,CAAC,EAAE;QACjB,OAAO;UAAEpG,OAAO,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAuC,CAAC;MAC5E;MACA,IAAImG,SAAS,GAAG,EAAE,EAAE;QAClB,OAAO;UAAEpG,OAAO,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAwC,CAAC;MAC7E;IACF;IAEA,OAAO;MAAED,OAAO,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAG,CAAC;EACvC,CAAC;;EAED;EACA,MAAM6J,kBAAkB,GAAIxL,CAAC,IAAK;IAChC,MAAMkL,KAAK,GAAGlL,CAAC,CAACC,MAAM,CAACiL,KAAK;IAC5B/R,aAAa,CAAC+R,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMO,kBAAkB,GAAIzL,CAAC,IAAK;IAChCA,CAAC,CAACmF,cAAc,CAAC,CAAC;IAClB5B,qBAAqB,CAAC,CAAC;EACzB,CAAC;EAED,MAAMmI,WAAW,GAAGA,CAAA,KAAM;IACxBvS,aAAa,CAAC,EAAE,CAAC;IACjBoK,qBAAqB,CAAC,CAAC;EACzB,CAAC;EAED,MAAMoI,cAAc,GAAG,MAAOzT,IAAI,IAAK;IACrC;IACA,IAAI;MACF,MAAMlB,GAAG,CAAC,iBAAiB,EAAE;QAC3BoO,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UACJmF,MAAM,EAAE,aAAa;UACrBC,UAAU,EAAE,MAAM;UAClBC,QAAQ,EAAExS,IAAI,CAACoP,GAAG;UAClBqD,UAAU,EAAEzS,IAAI,CAAC4B,QAAQ;UACzB8Q,WAAW,EAAE,UAAU1S,IAAI,CAACgC,IAAI,aAAahC,IAAI,CAAC4B,QAAQ,KAAK5B,IAAI,CAACwH,MAAM,GAAG;UAC7EmL,OAAO,EAAE;YAAE3Q,IAAI,EAAEhC,IAAI,CAACgC,IAAI;YAAED,KAAK,EAAE/B,IAAI,CAAC+B;UAAM;QAChD;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOiF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD;IACF;;IAEA;IACAtH,QAAQ,CAAC,YAAYM,IAAI,CAACoP,GAAG,SAAStP,SAAS,EAAE,CAAC;EACpD,CAAC;;EAED;EACA,MAAM4T,aAAa,GAAGA,CAACC,IAAI,EAAE3S,UAAU,KAAK;IAC1C,IAAI,CAACA,UAAU,IAAI,CAAC2S,IAAI,EAAE,OAAOA,IAAI;IAErC,MAAMC,KAAK,GAAG,IAAIC,MAAM,CAAC,IAAI7S,UAAU,CAAC2I,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC;IACxF,MAAMmK,KAAK,GAAGH,IAAI,CAAChF,KAAK,CAACiF,KAAK,CAAC;IAE/B,OAAOE,KAAK,CAACxD,GAAG,CAAC,CAACyD,IAAI,EAAEC,KAAK,KAAK;MAChC,IAAIJ,KAAK,CAACK,IAAI,CAACF,IAAI,CAAC,EAAE;QACpB,oBAAO/U,OAAA;UAAkB6J,SAAS,EAAC,kBAAkB;UAAAG,QAAA,EAAE+K;QAAI,GAAzCC,KAAK;UAAA/K,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA2C,CAAC;MACrE;MACA,OAAO2K,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,oBACE/U,OAAA;IAAK6J,SAAS,EAAC,iBAAiB;IAAAG,QAAA,gBAE9BhK,OAAA;MAAQ6J,SAAS,EAAC,aAAa;MAACC,OAAO,EAAEuB,gBAAiB;MAAArB,QAAA,eACxDhK,OAAA;QAAG6J,SAAS,EAAC;MAAa;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGTpK,OAAA;MAAK6J,SAAS,EAAE,WAAWjJ,WAAW,GAAG,QAAQ,GAAG,EAAE,EAAG;MAAAoJ,QAAA,gBACvDhK,OAAA;QAAK6J,SAAS,EAAC,gBAAgB;QAAAG,QAAA,gBAC7BhK,OAAA;UAAG6J,SAAS,EAAC;QAA6B;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/CpK,OAAA;UAAAgK,QAAA,EAAI;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpBpK,OAAA;UAAAgK,QAAA,EAAG;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eAENpK,OAAA;QAAK6J,SAAS,EAAC,cAAc;QAAAG,QAAA,gBAC3BhK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,WAAW,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,WAAW,CAAE;UAAAtB,QAAA,gBACpHhK,OAAA;YAAG6J,SAAS,EAAC;UAAuB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzCpK,OAAA;YAAAgK,QAAA,EAAM;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,UAAU,CAAE;UAAAtB,QAAA,gBAClHhK,OAAA;YAAG6J,SAAS,EAAC;UAAsB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxCpK,OAAA;YAAAgK,QAAA,EAAM;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,UAAU,CAAE;UAAAtB,QAAA,gBAClHhK,OAAA;YAAG6J,SAAS,EAAC;UAA2B;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7CpK,OAAA;YAAAgK,QAAA,EAAM;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,eAAe,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,eAAe,CAAE;UAAAtB,QAAA,gBAC5HhK,OAAA;YAAG6J,SAAS,EAAC;UAAgB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClCpK,OAAA;YAAAgK,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,QAAQ,CAAE;UAAAtB,QAAA,gBAC9GhK,OAAA;YAAG6J,SAAS,EAAC;UAAoB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtCpK,OAAA;YAAAgK,QAAA,EAAM;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAE,aAAa/I,SAAS,KAAK,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;UAACgJ,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,aAAa,CAAE;UAAAtB,QAAA,gBACxHhK,OAAA;YAAG6J,SAAS,EAAC;UAAc;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChCpK,OAAA;YAAAgK,QAAA,EAAM;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,YAAY,CAAE;UAAAtB,QAAA,gBACtEhK,OAAA;YAAG6J,SAAS,EAAC;UAAwB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1CpK,OAAA;YAAAgK,QAAA,EAAM;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,gBAAgB,CAAE;UAAAtB,QAAA,gBAC1EhK,OAAA;YAAG6J,SAAS,EAAC;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9BpK,OAAA;YAAAgK,QAAA,EAAM;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,aAAa,CAAE;UAAAtB,QAAA,gBACvEhK,OAAA;YAAG6J,SAAS,EAAC;UAAmB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrCpK,OAAA;YAAAgK,QAAA,EAAM;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,eAAe,CAAE;UAAAtB,QAAA,gBACzEhK,OAAA;YAAG6J,SAAS,EAAC;UAAiB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnCpK,OAAA;YAAAgK,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,eAAe,CAAE;UAAAtB,QAAA,gBACzEhK,OAAA;YAAG6J,SAAS,EAAC;UAAiB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnCpK,OAAA;YAAAgK,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEA,CAAA,KAAMwB,eAAe,CAAC,UAAU,CAAE;UAAAtB,QAAA,gBACpEhK,OAAA;YAAG6J,SAAS,EAAC;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9BpK,OAAA;YAAAgK,QAAA,EAAM;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEuK,gBAAiB;UAAArK,QAAA,gBACnDhK,OAAA;YAAG6J,SAAS,EAAC;UAAa;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/BpK,OAAA;YAAAgK,QAAA,EAAM;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB,CAAC,eACNpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAACC,OAAO,EAAEsK,YAAa;UAAApK,QAAA,gBAC/ChK,OAAA;YAAG6J,SAAS,EAAC;UAAqB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvCpK,OAAA;YAAAgK,QAAA,EAAM;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNpK,OAAA;MAAK6J,SAAS,EAAC,cAAc;MAAAG,QAAA,gBAE3BhK,OAAA;QAAK6J,SAAS,EAAC,SAAS;QAAAG,QAAA,gBACtBhK,OAAA;UAAK6J,SAAS,EAAC,YAAY;UAAAG,QAAA,gBACzBhK,OAAA;YAAG6J,SAAS,EAAC;UAAe;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCpK,OAAA;YAAOkV,IAAI,EAAC,MAAM;YAACC,WAAW,EAAC;UAAW;YAAAlL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eAENpK,OAAA;UAAK6J,SAAS,EAAC,WAAW;UAAAG,QAAA,gBACxBhK,OAAA;YAAK6J,SAAS,EAAC,eAAe;YAAAG,QAAA,gBAC5BhK,OAAA;cAAG6J,SAAS,EAAC;YAAmB;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrCpK,OAAA;cAAM6J,SAAS,EAAC,oBAAoB;cAAAG,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC,eAENpK,OAAA;YACE6J,SAAS,EAAC,qBAAqB;YAC/BuL,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEC,UAAU,EAAE,QAAQ;cAAEC,MAAM,EAAE;YAAU,CAAE;YACpEzL,OAAO,EAAE,MAAAA,CAAA,KAAY;cACnB;cACA,IAAI;gBACF,MAAMhK,GAAG,CAAC,iBAAiB,EAAE;kBAC3BoO,MAAM,EAAE,MAAM;kBACdC,IAAI,EAAE;oBACJmF,MAAM,EAAE,gBAAgB;oBACxBC,UAAU,EAAE,SAAS;oBACrBC,QAAQ,EAAExS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwH,MAAM;oBACtBiL,UAAU,EAAE,CAAAzS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwU,IAAI,KAAI,YAAY;oBACtC9B,WAAW,EAAE,oBAAoB;oBACjCC,OAAO,EAAE;sBAAE3Q,IAAI,EAAEhC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgC;oBAAK;kBAC9B;gBACF,CAAC,CAAC;cACJ,CAAC,CAAC,OAAOgF,KAAK,EAAE;gBACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;cAC9D;cACAtH,QAAQ,CAAC,UAAU,CAAC;YACtB,CAAE;YACF+U,KAAK,EAAC,cAAc;YAAAzL,QAAA,gBAEpBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,eAC1BhK,OAAA;gBAAG6J,SAAS,EAAC;cAAmB;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAAgK,QAAA,EAAK,CAAAhJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwU,IAAI,KAAI;cAAY;gBAAAvL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACrCpK,OAAA;gBAAAgK,QAAA,EAAG;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLtJ,SAAS,KAAK,WAAW,iBACxBd,OAAA,CAAAE,SAAA;QAAA8J,QAAA,gBAEEhK,OAAA;UAAK6J,SAAS,EAAC,iBAAiB;UAAAG,QAAA,gBAC9BhK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAK9I,cAAc,CAACE,aAAa,CAACsU,cAAc,CAAC;gBAAC;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACxDpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,oBAAoB;gBAAAG,QAAA,eACjChK,OAAA;kBAAG6J,SAAS,EAAC;gBAAsB;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAK9I,cAAc,CAACG;gBAAa;kBAAA4I,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvCpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,oBAAoB;gBAAAG,QAAA,eACjChK,OAAA;kBAAG6J,SAAS,EAAC;gBAA2B;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAK9I,cAAc,CAACI;gBAAY;kBAAA2I,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtCpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,yBAAyB;gBAAAG,QAAA,eACtChK,OAAA;kBAAG6J,SAAS,EAAC;gBAAgB;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACXpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,sBAAsB;gBAAAG,QAAA,eACnChK,OAAA;kBAAG6J,SAAS,EAAC;gBAAwB;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,qBAAqB;gBAAAG,QAAA,eAClChK,OAAA;kBAAG6J,SAAS,EAAC;gBAAY;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,MAAM;YAAAG,QAAA,eACnBhK,OAAA;cAAK6J,SAAS,EAAC,aAAa;cAAAG,QAAA,gBAC1BhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAG;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,yBAAyB;gBAAAG,QAAA,eACtChK,OAAA;kBAAG6J,SAAS,EAAC;gBAAiB;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,QAAQ;UAAAG,QAAA,gBACrBhK,OAAA;YAAK6J,SAAS,EAAC,iBAAiB;YAAAG,QAAA,gBAC9BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAAgK,QAAA,EAAI;cAA4B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrCpK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC5BpK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC7BpK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,mBAAmB;cAAAG,QAAA,eAChChK,OAAA;gBAAAgK,QAAA,gBAAGhK,OAAA;kBAAG6J,SAAS,EAAC,wBAAwB;kBAACuL,KAAK,EAAE;oBAAEO,KAAK,EAAE,SAAS;oBAAEC,YAAY,EAAE;kBAAO;gBAAE;kBAAA3L,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAAApK,OAAA;kBAAAiK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,wDAAoD;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3J,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,iBAAiB;YAAAG,QAAA,gBAC9BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAAgK,QAAA,EAAI;cAAqB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9BpK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1BpK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC3BpK,OAAA;kBAAAgK,QAAA,EAAQ;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,mBAAmB;cAAAG,QAAA,eAChChK,OAAA;gBAAAgK,QAAA,gBAAGhK,OAAA;kBAAG6J,SAAS,EAAC,wBAAwB;kBAACuL,KAAK,EAAE;oBAAEO,KAAK,EAAE,SAAS;oBAAEC,YAAY,EAAE;kBAAO;gBAAE;kBAAA3L,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAAApK,OAAA;kBAAAiK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,kCAA8B;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,iBAAiB;UAAAG,QAAA,gBAC9BhK,OAAA;YAAAgK,QAAA,EAAI;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxBpK,OAAA;YAAK6J,SAAS,EAAC,eAAe;YAAAG,QAAA,EAC3BtI,cAAc,CAAC4P,GAAG,CAACuE,QAAQ,iBAC1B7V,OAAA;cAAuB6J,SAAS,EAAC,eAAe;cAAAG,QAAA,gBAC9ChK,OAAA;gBAAK6J,SAAS,EAAC,eAAe;gBAAAG,QAAA,eAC5BhK,OAAA;kBAAG6J,SAAS,EAAE,UAAUgM,QAAQ,CAACX,IAAI;gBAAG;kBAAAjL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,kBAAkB;gBAAAG,QAAA,gBAC/BhK,OAAA;kBAAAgK,QAAA,EAAK6L,QAAQ,CAACJ;gBAAK;kBAAAxL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACzBpK,OAAA;kBAAAgK,QAAA,EAAI6L,QAAQ,CAACnC;gBAAW;kBAAAzJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC,eACNpK,OAAA;gBAAK6J,SAAS,EAAC,eAAe;gBAAAG,QAAA,EAAE6L,QAAQ,CAACC;cAAI;gBAAA7L,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GAR5CyL,QAAQ,CAACrM,EAAE;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAShB,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA,eACN,CACH,EAGAtJ,SAAS,KAAK,UAAU,iBACvBd,OAAA,CAAAE,SAAA;QAAA8J,QAAA,gBAEEhK,OAAA;UAAK6J,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BhK,OAAA;YAAI6J,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClDpK,OAAA;YAAK6J,SAAS,EAAC,gBAAgB;YAAAG,QAAA,eAC7BhK,OAAA;cAAQ6J,SAAS,EAAC,iBAAiB;cAACC,OAAO,EAAEyF,gBAAiB;cAAAvF,QAAA,gBAC5DhK,OAAA;gBAAG6J,SAAS,EAAC;cAAa;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/BpK,OAAA;gBAAAgK,QAAA,EAAM;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,kBAAkB;UAAAG,QAAA,gBAC/BhK,OAAA;YAAK6J,SAAS,EAAC,kBAAkB;YAAAG,QAAA,gBAC/BhK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,uDAAuD;cACnEnB,KAAK,EAAEhS,UAAW;cAClB+T,QAAQ,EAAEzB,kBAAmB;cAC7B0B,UAAU,EAAGlN,CAAC,IAAKA,CAAC,CAACmN,GAAG,KAAK,OAAO,IAAI1B,kBAAkB,CAACzL,CAAC;YAAE;cAAAmB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC,eACFpK,OAAA;cAAK6J,SAAS,EAAC,gBAAgB;cAAAG,QAAA,GAC5BhI,UAAU,iBACThC,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAE0K,WAAY;gBACrB3K,SAAS,EAAC,kBAAkB;gBAC5B4L,KAAK,EAAC,cAAc;gBAAAzL,QAAA,eAEpBhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAc;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CACT,eACDpK,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEyK,kBAAmB;gBAC5BkB,KAAK,EAAC,QAAQ;gBAAAzL,QAAA,eAEdhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAe;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,aAAa;YAAAG,QAAA,gBAC1BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,mBAAmB;gBAAAlM,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACvDpK,OAAA;gBACEwJ,EAAE,EAAC,mBAAmB;gBACtBwK,KAAK,EAAE5R,iBAAkB;gBACzB2T,QAAQ,EAAGjN,CAAC,IAAKzG,oBAAoB,CAACyG,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAEtDhK,OAAA;kBAAQgU,KAAK,EAAC,EAAE;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCpK,OAAA;kBAAQgU,KAAK,EAAC,UAAU;kBAAAhK,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CpK,OAAA;kBAAQgU,KAAK,EAAC,YAAY;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,QAAQ;gBAAAlM,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACvCpK,OAAA;gBACEwJ,EAAE,EAAC,QAAQ;gBACXwK,KAAK,EAAE9R,MAAO;gBACd6T,QAAQ,EAAGjN,CAAC,IAAK3G,SAAS,CAAC2G,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAE3ChK,OAAA;kBAAQgU,KAAK,EAAC,QAAQ;kBAAAhK,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACvCpK,OAAA;kBAAQgU,KAAK,EAAC,MAAM;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCpK,OAAA;kBAAQgU,KAAK,EAAC,WAAW;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGL,CAACpI,UAAU,IAAII,iBAAiB,kBAC/BpC,OAAA;UAAK6J,SAAS,EAAC,qBAAqB;UAAAG,QAAA,gBAClChK,OAAA;YAAAgK,QAAA,GACGlI,gBAAgB,CAAC8I,MAAM,EAAC,SAAO,EAAC9I,gBAAgB,CAAC8I,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,QAC1E,EAAC5I,UAAU,IAAI,SAAS0S,aAAa,CAAC1S,UAAU,EAAEA,UAAU,CAAC,GAAG,EAC/DI,iBAAiB,IAAI,KAAKA,iBAAiB,UAAU;UAAA;YAAA6H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC,eACPpK,OAAA;YAAQ8J,OAAO,EAAEA,CAAA,KAAM;cAAE7H,aAAa,CAAC,EAAE,CAAC;cAAEI,oBAAoB,CAAC,EAAE,CAAC;YAAE,CAAE;YAACwH,SAAS,EAAC,eAAe;YAAAG,QAAA,EAAC;UAEnG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAGDpK,OAAA;UAAK6J,SAAS,EAAC,0BAA0B;UAAAG,QAAA,eACvChK,OAAA;YAAO6J,SAAS,EAAC,gBAAgB;YAAAG,QAAA,gBAC9BhK,OAAA;cAAAgK,QAAA,eACChK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACZpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACTpK,OAAA;cAAAgK,QAAA,EACGlI,gBAAgB,CAAC8I,MAAM,KAAK,CAAC,gBAC5B5K,OAAA;gBAAAgK,QAAA,eACEhK,OAAA;kBAAImW,OAAO,EAAC,GAAG;kBAACf,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEC,OAAO,EAAE,MAAM;oBAAEV,KAAK,EAAE;kBAAoB,CAAE;kBAAA3L,QAAA,EAAC;gBAE7F;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,GAELtI,gBAAgB,CAACwP,GAAG,CAAC,CAACtQ,IAAI,EAAEgU,KAAK,KAAK;gBAAA,IAAAsB,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;gBACpC,MAAMjG,GAAG,GAAGxP,IAAI,CAAC6B,QAAQ,GAAG6T,IAAI,CAACC,KAAK,CAAC,CAAC,IAAIlH,IAAI,CAAC,CAAC,GAAG,IAAIA,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK;gBACvH,MAAMA,QAAQ,GAAG7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC+T,kBAAkB,CAAC,CAAC,GAAG,KAAK;gBACrF,oBACE5W,OAAA;kBAAmB6J,SAAS,EAAC,eAAe;kBAACC,OAAO,EAAEA,CAAA,KAAM2K,cAAc,CAACzT,IAAI,CAAE;kBAAAgJ,QAAA,gBAC/EhK,OAAA;oBAAI6J,SAAS,EAAC,YAAY;oBAAAG,QAAA,EAAEgL,KAAK,GAAG;kBAAC;oBAAA/K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK6J,SAAS,EAAC,cAAc;sBAAAG,QAAA,eAC3BhK,OAAA;wBAAAgK,QAAA,gBACEhK,OAAA;0BAAK6J,SAAS,EAAC,cAAc;0BAAAG,QAAA,EAC1BhI,UAAU,GAAG0S,aAAa,CAAC1T,IAAI,CAAC4B,QAAQ,EAAEZ,UAAU,CAAC,GAAGhB,IAAI,CAAC4B;wBAAQ;0BAAAqH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACnE,CAAC,eACNpK,OAAA;0BAAK6J,SAAS,EAAC,YAAY;0BAAAG,QAAA,GAAC,MACtB,EAAChI,UAAU,GAAG0S,aAAa,CAAC1T,IAAI,CAACwH,MAAM,EAAExG,UAAU,CAAC,GAAGhB,IAAI,CAACwH,MAAM;wBAAA;0BAAAyB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACnE,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKhI,UAAU,GAAG0S,aAAa,CAAC1T,IAAI,CAAC+B,KAAK,EAAEf,UAAU,CAAC,GAAGhB,IAAI,CAAC+B;kBAAK;oBAAAkH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC1EpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAM6J,SAAS,EAAE,gBAAgB7I,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY,EAAG;sBAAA5C,QAAA,gBAClFhK,OAAA;wBAAG6J,SAAS,EAAE,OAAO7I,IAAI,CAAC4L,eAAe,GAAG,iBAAiB,GAAG,iBAAiB;sBAAG;wBAAA3C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,EACxFpJ,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY;oBAAA;sBAAA3C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7C;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,GAAAsM,sBAAA,IAAAC,sBAAA,GAAK5R,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAA+N,sBAAA,uBAA7BA,sBAAA,CAA+BjS,KAAK,cAAAgS,sBAAA,cAAAA,sBAAA,GAAI;kBAAG;oBAAArM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACtDpK,OAAA;oBAAAgK,QAAA,GAAAwM,sBAAA,IAAAC,sBAAA,GAAK9R,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAAiO,sBAAA,uBAA7BA,sBAAA,CAA+BlS,KAAK,cAAAiS,sBAAA,cAAAA,sBAAA,GAAI;kBAAG;oBAAAvM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACtDpK,OAAA;oBAAAgK,QAAA,EAAKhI,UAAU,GAAG0S,aAAa,CAAC1T,IAAI,CAAC8B,OAAO,EAAEd,UAAU,CAAC,GAAGhB,IAAI,CAAC8B;kBAAO;oBAAAmH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC9EpK,OAAA;oBAAAgK,QAAA,EAAKnH;kBAAQ;oBAAAoH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACnBpK,OAAA;oBAAAgK,QAAA,GAAKwG,GAAG,EAAC,YAAU;kBAAA;oBAAAvG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxBpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK8J,OAAO,EAAGhB,CAAC,IAAKA,CAAC,CAACiB,eAAe,CAAC,CAAE;sBAAAC,QAAA,eACvChK,OAAA,CAACuJ,SAAS;wBACRC,EAAE,EAAE,WAAWxI,IAAI,CAACoP,GAAG,EAAG;wBAC1B3G,MAAM,EAAEA,CAAA,KAAM+F,iBAAiB,CAACxO,IAAI,CAAE;wBACtC0I,QAAQ,EAAEA,CAAA,KAAMsG,mBAAmB,CAAChP,IAAI,CAACoP,GAAG;sBAAE;wBAAAnG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC/C;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA,GAlCEpJ,IAAI,CAACoP,GAAG;kBAAAnG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAmCb,CAAC;cAET,CAAC;YACF;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA,eACN,CACH,EAGAtJ,SAAS,KAAK,UAAU,iBACvBd,OAAA,CAAAE,SAAA;QAAA8J,QAAA,gBAEEhK,OAAA;UAAK6J,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BhK,OAAA;YAAI6J,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClDpK,OAAA;YAAQ6J,SAAS,EAAC,iBAAiB;YAACC,OAAO,EAAEoI,gBAAiB;YAAAlI,QAAA,gBAC5DhK,OAAA;cAAG6J,SAAS,EAAC;YAAa;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/BpK,OAAA;cAAAgK,QAAA,EAAM;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,kBAAkB;UAAAG,QAAA,gBAC/BhK,OAAA;YAAK6J,SAAS,EAAC,kBAAkB;YAAAG,QAAA,gBAC/BhK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,uDAAuD;cACnEnB,KAAK,EAAEtQ,iBAAkB;cACzBqS,QAAQ,EAAGjN,CAAC,IAAKnF,oBAAoB,CAACmF,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cACtDgC,UAAU,EAAGlN,CAAC,IAAKA,CAAC,CAACmN,GAAG,KAAK,OAAO,IAAInN,CAAC,CAACmF,cAAc,CAAC;YAAE;cAAAhE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACFpK,OAAA;cAAK6J,SAAS,EAAC,gBAAgB;cAAAG,QAAA,GAC5BtG,iBAAiB,iBAChB1D,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAMnG,oBAAoB,CAAC,EAAE,CAAE;gBACxCkG,SAAS,EAAC,kBAAkB;gBAC5B4L,KAAK,EAAC,cAAc;gBAAAzL,QAAA,eAEpBhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAc;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CACT,eACDpK,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAM0E,qBAAqB,CAAC,CAAE;gBACvCiH,KAAK,EAAC,QAAQ;gBAAAzL,QAAA,eAEdhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAe;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,aAAa;YAAAG,QAAA,gBAC1BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,0BAA0B;gBAAAlM,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9DpK,OAAA;gBACEwJ,EAAE,EAAC,0BAA0B;gBAC7BwK,KAAK,EAAElQ,wBAAyB;gBAChCiS,QAAQ,EAAGjN,CAAC,IAAK/E,2BAA2B,CAAC+E,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAE7DhK,OAAA;kBAAQgU,KAAK,EAAC,EAAE;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCpK,OAAA;kBAAQgU,KAAK,EAAC,UAAU;kBAAAhK,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CpK,OAAA;kBAAQgU,KAAK,EAAC,YAAY;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,eAAe;gBAAAlM,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9CpK,OAAA;gBACEwJ,EAAE,EAAC,eAAe;gBAClBwK,KAAK,EAAEpQ,aAAc;gBACrBmS,QAAQ,EAAGjN,CAAC,IAAKjF,gBAAgB,CAACiF,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAElDhK,OAAA;kBAAQgU,KAAK,EAAC,QAAQ;kBAAAhK,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACvCpK,OAAA;kBAAQgU,KAAK,EAAC,MAAM;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCpK,OAAA;kBAAQgU,KAAK,EAAC,WAAW;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGL,CAAC1G,iBAAiB,IAAII,wBAAwB,kBAC7C9D,OAAA;UAAK6J,SAAS,EAAC,qBAAqB;UAAAG,QAAA,gBAClChK,OAAA;YAAAgK,QAAA,GACGxG,gBAAgB,CAACoH,MAAM,EAAC,SAAO,EAACpH,gBAAgB,CAACoH,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,QAC1E,EAAClH,iBAAiB,IAAI,SAASA,iBAAiB,GAAG,EAClDI,wBAAwB,IAAI,KAAKA,wBAAwB,UAAU;UAAA;YAAAmG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,eACPpK,OAAA;YAAQ8J,OAAO,EAAEA,CAAA,KAAM;cAAEnG,oBAAoB,CAAC,EAAE,CAAC;cAAEI,2BAA2B,CAAC,EAAE,CAAC;YAAE,CAAE;YAAC8F,SAAS,EAAC,eAAe;YAAAG,QAAA,EAAC;UAEjH;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAGDpK,OAAA;UAAK6J,SAAS,EAAC,0BAA0B;UAAAG,QAAA,eACvChK,OAAA;YAAO6J,SAAS,EAAC,gBAAgB;YAAAG,QAAA,gBAC/BhK,OAAA;cAAAgK,QAAA,eACEhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACZpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACRpK,OAAA;cAAAgK,QAAA,EACGxG,gBAAgB,CAACoH,MAAM,KAAK,CAAC,gBAC5B5K,OAAA;gBAAAgK,QAAA,eACEhK,OAAA;kBAAImW,OAAO,EAAC,IAAI;kBAACf,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEC,OAAO,EAAE,MAAM;oBAAEV,KAAK,EAAE;kBAAoB,CAAE;kBAAA3L,QAAA,EAAC;gBAE9F;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,GAEL5G,gBAAgB,CAAC8N,GAAG,CAAC,CAACtQ,IAAI,EAAEgU,KAAK,KAAK;gBAAA,IAAA6B,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;gBACpC,MAAMxG,GAAG,GAAGxP,IAAI,CAAC6B,QAAQ,GAAG6T,IAAI,CAACC,KAAK,CAAC,CAAC,IAAIlH,IAAI,CAAC,CAAC,GAAG,IAAIA,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK;gBACvH,MAAMA,QAAQ,GAAG7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC+T,kBAAkB,CAAC,CAAC,GAAG,KAAK;gBACrF,oBACE5W,OAAA;kBAAmB6J,SAAS,EAAC,eAAe;kBAACC,OAAO,EAAEA,CAAA,KAAM2K,cAAc,CAACzT,IAAI,CAAE;kBAAAgJ,QAAA,gBAC/EhK,OAAA;oBAAI6J,SAAS,EAAC,YAAY;oBAAAG,QAAA,EAAEgL,KAAK,GAAG;kBAAC;oBAAA/K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK6J,SAAS,EAAC,cAAc;sBAAAG,QAAA,eAC3BhK,OAAA;wBAAAgK,QAAA,gBACEhK,OAAA;0BAAK6J,SAAS,EAAC,cAAc;0BAAAG,QAAA,EAC1BtG,iBAAiB,GAAGgR,aAAa,CAAC1T,IAAI,CAAC4B,QAAQ,EAAEc,iBAAiB,CAAC,GAAG1C,IAAI,CAAC4B;wBAAQ;0BAAAqH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACjF,CAAC,eACNpK,OAAA;0BAAK6J,SAAS,EAAC,YAAY;0BAAAG,QAAA,GAAC,MACtB,EAACtG,iBAAiB,GAAGgR,aAAa,CAAC1T,IAAI,CAACwH,MAAM,EAAE9E,iBAAiB,CAAC,GAAG1C,IAAI,CAACwH,MAAM;wBAAA;0BAAAyB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACjF,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKtG,iBAAiB,GAAGgR,aAAa,CAAC1T,IAAI,CAAC+B,KAAK,EAAEW,iBAAiB,CAAC,GAAG1C,IAAI,CAAC+B;kBAAK;oBAAAkH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxFpK,OAAA;oBAAAgK,QAAA,EAAKtG,iBAAiB,GAAGgR,aAAa,CAAC1T,IAAI,CAACwD,KAAK,IAAI,GAAG,EAAEd,iBAAiB,CAAC,GAAI1C,IAAI,CAACwD,KAAK,IAAI;kBAAI;oBAAAyF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxGpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAM6J,SAAS,EAAE,gBAAgB7I,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY,EAAG;sBAAA5C,QAAA,gBAClFhK,OAAA;wBAAG6J,SAAS,EAAE,OAAO7I,IAAI,CAAC4L,eAAe,GAAG,iBAAiB,GAAG,iBAAiB;sBAAG;wBAAA3C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,EACxFpJ,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY;oBAAA;sBAAA3C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7C;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,GAAA6M,sBAAA,IAAAC,sBAAA,GAAKnS,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAAsO,sBAAA,uBAA7BA,sBAAA,CAA+BxS,KAAK,cAAAuS,sBAAA,cAAAA,sBAAA,GAAI;kBAAG;oBAAA5M,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACtDpK,OAAA;oBAAAgK,QAAA,GAAA+M,sBAAA,IAAAC,sBAAA,GAAKrS,gBAAgB,CAAC3D,IAAI,CAACwH,MAAM,CAAC,cAAAwO,sBAAA,uBAA7BA,sBAAA,CAA+BzS,KAAK,cAAAwS,sBAAA,cAAAA,sBAAA,GAAI;kBAAG;oBAAA9M,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACtDpK,OAAA;oBAAAgK,QAAA,EAAKtG,iBAAiB,GAAGgR,aAAa,CAAC1T,IAAI,CAAC8B,OAAO,EAAEY,iBAAiB,CAAC,GAAG1C,IAAI,CAAC8B;kBAAO;oBAAAmH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC5FpK,OAAA;oBAAAgK,QAAA,EAAKnH;kBAAQ;oBAAAoH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACnBpK,OAAA;oBAAAgK,QAAA,GAAKwG,GAAG,EAAC,YAAU;kBAAA;oBAAAvG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxBpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK8J,OAAO,EAAGhB,CAAC,IAAKA,CAAC,CAACiB,eAAe,CAAC,CAAE;sBAAAC,QAAA,eACvChK,OAAA,CAACuJ,SAAS;wBACRC,EAAE,EAAE,WAAWxI,IAAI,CAACoP,GAAG,EAAG;wBAC1B3G,MAAM,EAAEA,CAAA,KAAM0I,iBAAiB,CAACnR,IAAI,CAAE;wBACtC0I,QAAQ,EAAEA,CAAA,KAAM4I,mBAAmB,CAACtR,IAAI,CAACoP,GAAG,CAAE;wBAC9CzG,UAAU,eACR3J,OAAA,CAAAE,SAAA;0BAAA8J,QAAA,gBACEhK,OAAA;4BAAK6J,SAAS,EAAC;0BAAS;4BAAAI,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE,CAAC,eAC3BpK,OAAA;4BAAQ6J,SAAS,EAAC,WAAW;4BAACC,OAAO,EAAEA,CAAA,KAAM;8BAAElB,aAAa,CAAC,IAAI,CAAC;8BAAEkF,eAAe,CAAC9M,IAAI,EAAE,SAAS,CAAC;4BAAE,CAAE;4BAAAgJ,QAAA,gBACtGhK,OAAA;8BAAK6J,SAAS,EAAC;4BAAW;8BAAAI,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAE,CAAC,UAE/B;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAQ,CAAC;wBAAA,eACT;sBACF;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA,GA5CEpJ,IAAI,CAACoP,GAAG;kBAAAnG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OA6Cb,CAAC;cAET,CAAC;YACF;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA,eACN,CACH,EAGAtJ,SAAS,KAAK,eAAe,iBAC5Bd,OAAA,CAAAE,SAAA;QAAA8J,QAAA,gBAEEhK,OAAA;UAAK6J,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BhK,OAAA;YAAI6J,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxDpK,OAAA;YAAQ6J,SAAS,EAAC,iBAAiB;YAACC,OAAO,EAAE6I,gBAAiB;YAAA3I,QAAA,gBAC5DhK,OAAA;cAAG6J,SAAS,EAAC;YAAa;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/BpK,OAAA;cAAAgK,QAAA,EAAM;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,kBAAkB;UAAAG,QAAA,gBAC/BhK,OAAA;YAAK6J,SAAS,EAAC,kBAAkB;YAAAG,QAAA,gBAC/BhK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,4DAA4D;cACxEnB,KAAK,EAAElO,iBAAkB;cACzBiQ,QAAQ,EAAGjN,CAAC,IAAK/C,oBAAoB,CAAC+C,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cACtDgC,UAAU,EAAGlN,CAAC,IAAKA,CAAC,CAACmN,GAAG,KAAK,OAAO,IAAInN,CAAC,CAACmF,cAAc,CAAC;YAAE;cAAAhE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACFpK,OAAA;cAAK6J,SAAS,EAAC,gBAAgB;cAAAG,QAAA,GAC5BlE,iBAAiB,iBAChB9F,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAM/D,oBAAoB,CAAC,EAAE,CAAE;gBACxC8D,SAAS,EAAC,kBAAkB;gBAC5B4L,KAAK,EAAC,cAAc;gBAAAzL,QAAA,eAEpBhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAc;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CACT,eACDpK,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAM+E,yBAAyB,CAAC,CAAE;gBAC3C4G,KAAK,EAAC,QAAQ;gBAAAzL,QAAA,eAEdhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAe;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,aAAa;YAAAG,QAAA,gBAC1BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,0BAA0B;gBAAAlM,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9DpK,OAAA;gBACEwJ,EAAE,EAAC,0BAA0B;gBAC7BwK,KAAK,EAAE9N,wBAAyB;gBAChC6P,QAAQ,EAAGjN,CAAC,IAAK3C,2BAA2B,CAAC2C,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAE7DhK,OAAA;kBAAQgU,KAAK,EAAC,EAAE;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCpK,OAAA;kBAAQgU,KAAK,EAAC,UAAU;kBAAAhK,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CpK,OAAA;kBAAQgU,KAAK,EAAC,YAAY;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,eAAe;gBAAAlM,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9CpK,OAAA;gBACEwJ,EAAE,EAAC,eAAe;gBAClBwK,KAAK,EAAEhO,aAAc;gBACrB+P,QAAQ,EAAGjN,CAAC,IAAK7C,gBAAgB,CAAC6C,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAElDhK,OAAA;kBAAQgU,KAAK,EAAC,QAAQ;kBAAAhK,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACvCpK,OAAA;kBAAQgU,KAAK,EAAC,MAAM;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCpK,OAAA;kBAAQgU,KAAK,EAAC,WAAW;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGL,CAACtE,iBAAiB,IAAII,wBAAwB,kBAC7ClG,OAAA;UAAK6J,SAAS,EAAC,qBAAqB;UAAAG,QAAA,gBAClChK,OAAA;YAAAgK,QAAA,GACGpE,oBAAoB,CAACgF,MAAM,EAAC,SAAO,EAAChF,oBAAoB,CAACgF,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,QAClF,EAAC9E,iBAAiB,IAAI,SAASA,iBAAiB,GAAG,EAClDI,wBAAwB,IAAI,KAAKA,wBAAwB,UAAU;UAAA;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,eACPpK,OAAA;YAAQ8J,OAAO,EAAEA,CAAA,KAAM;cAAE/D,oBAAoB,CAAC,EAAE,CAAC;cAAEI,2BAA2B,CAAC,EAAE,CAAC;YAAE,CAAE;YAAC0D,SAAS,EAAC,eAAe;YAAAG,QAAA,EAAC;UAEjH;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAGDpK,OAAA;UAAK6J,SAAS,EAAC,0BAA0B;UAAAG,QAAA,eACvChK,OAAA;YAAO6J,SAAS,EAAC,gBAAgB;YAAAG,QAAA,gBAC/BhK,OAAA;cAAAgK,QAAA,eACEhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACZpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACRpK,OAAA;cAAAgK,QAAA,EACGpE,oBAAoB,CAACgF,MAAM,KAAK,CAAC,gBAChC5K,OAAA;gBAAAgK,QAAA,eACEhK,OAAA;kBAAImW,OAAO,EAAC,GAAG;kBAACf,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEC,OAAO,EAAE,MAAM;oBAAEV,KAAK,EAAE;kBAAoB,CAAE;kBAAA3L,QAAA,EAAC;gBAE7F;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,GAELxE,oBAAoB,CAAC0L,GAAG,CAAC,CAACtQ,IAAI,EAAEgU,KAAK,KAAK;gBACxC,MAAMxE,GAAG,GAAGxP,IAAI,CAAC6B,QAAQ,GAAG6T,IAAI,CAACC,KAAK,CAAC,CAAC,IAAIlH,IAAI,CAAC,CAAC,GAAG,IAAIA,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK;gBACvH,MAAMA,QAAQ,GAAG7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC+T,kBAAkB,CAAC,CAAC,GAAG,KAAK;gBACrF,oBACE5W,OAAA;kBAAmB6J,SAAS,EAAC,eAAe;kBAACC,OAAO,EAAEA,CAAA,KAAM2K,cAAc,CAACzT,IAAI,CAAE;kBAAAgJ,QAAA,gBAC/EhK,OAAA;oBAAI6J,SAAS,EAAC,YAAY;oBAAAG,QAAA,EAAEgL,KAAK,GAAG;kBAAC;oBAAA/K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK6J,SAAS,EAAC,cAAc;sBAAAG,QAAA,eAC3BhK,OAAA;wBAAAgK,QAAA,gBACEhK,OAAA;0BAAK6J,SAAS,EAAC,cAAc;0BAAAG,QAAA,EAC1BlE,iBAAiB,GAAG4O,aAAa,CAAC1T,IAAI,CAAC4B,QAAQ,EAAEkD,iBAAiB,CAAC,GAAG9E,IAAI,CAAC4B;wBAAQ;0BAAAqH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACjF,CAAC,eACNpK,OAAA;0BAAK6J,SAAS,EAAC,YAAY;0BAAAG,QAAA,GAAC,MACtB,EAAClE,iBAAiB,GAAG4O,aAAa,CAAC1T,IAAI,CAACwH,MAAM,EAAE1C,iBAAiB,CAAC,GAAG9E,IAAI,CAACwH,MAAM;wBAAA;0BAAAyB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACjF,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKlE,iBAAiB,GAAG4O,aAAa,CAAC1T,IAAI,CAAC+B,KAAK,EAAE+C,iBAAiB,CAAC,GAAG9E,IAAI,CAAC+B;kBAAK;oBAAAkH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxFpK,OAAA;oBAAAgK,QAAA,EAAKlE,iBAAiB,GAAG4O,aAAa,CAAC1T,IAAI,CAACwD,KAAK,IAAI,GAAG,EAAEsB,iBAAiB,CAAC,GAAI9E,IAAI,CAACwD,KAAK,IAAI;kBAAI;oBAAAyF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxGpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAM6J,SAAS,EAAE,gBAAgB7I,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY,EAAG;sBAAA5C,QAAA,gBAClFhK,OAAA;wBAAG6J,SAAS,EAAE,OAAO7I,IAAI,CAAC4L,eAAe,GAAG,iBAAiB,GAAG,iBAAiB;sBAAG;wBAAA3C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,EACxFpJ,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY;oBAAA;sBAAA3C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7C;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKlE,iBAAiB,GAAG4O,aAAa,CAAC1T,IAAI,CAAC8B,OAAO,EAAEgD,iBAAiB,CAAC,GAAG9E,IAAI,CAAC8B;kBAAO;oBAAAmH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC5FpK,OAAA;oBAAAgK,QAAA,EAAKnH;kBAAQ;oBAAAoH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACnBpK,OAAA;oBAAAgK,QAAA,GAAKwG,GAAG,EAAC,YAAU;kBAAA;oBAAAvG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxBpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK8J,OAAO,EAAGhB,CAAC,IAAKA,CAAC,CAACiB,eAAe,CAAC,CAAE;sBAAAC,QAAA,eACvChK,OAAA,CAACuJ,SAAS;wBACRC,EAAE,EAAE,WAAWxI,IAAI,CAACoP,GAAG,EAAG;wBAC1B3G,MAAM,EAAEA,CAAA,KAAMmJ,iBAAiB,CAAC5R,IAAI,CAAE;wBACtC0I,QAAQ,EAAEA,CAAA,KAAMmJ,mBAAmB,CAAC7R,IAAI,CAACoP,GAAG;sBAAE;wBAAAnG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC/C;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA,GAjCEpJ,IAAI,CAACoP,GAAG;kBAAAnG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAkCb,CAAC;cAET,CAAC;YACF;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA,eACN,CACH,EAGAtJ,SAAS,KAAK,QAAQ,iBACrBd,OAAA,CAAAE,SAAA;QAAA8J,QAAA,gBAEEhK,OAAA;UAAK6J,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC1BhK,OAAA;YAAI6J,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChDpK,OAAA;YAAQ6J,SAAS,EAAC,iBAAiB;YAACC,OAAO,EAAEkJ,cAAe;YAAAhJ,QAAA,gBAC1DhK,OAAA;cAAG6J,SAAS,EAAC;YAAa;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/BpK,OAAA;cAAAgK,QAAA,EAAM;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGNpK,OAAA;UAAK6J,SAAS,EAAC,kBAAkB;UAAAG,QAAA,gBAC/BhK,OAAA;YAAK6J,SAAS,EAAC,kBAAkB;YAAAG,QAAA,gBAC/BhK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,qDAAqD;cACjEnB,KAAK,EAAEhN,eAAgB;cACvB+O,QAAQ,EAAGjN,CAAC,IAAK7B,kBAAkB,CAAC6B,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cACpDgC,UAAU,EAAGlN,CAAC,IAAKA,CAAC,CAACmN,GAAG,KAAK,OAAO,IAAInN,CAAC,CAACmF,cAAc,CAAC;YAAE;cAAAhE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACFpK,OAAA;cAAK6J,SAAS,EAAC,gBAAgB;cAAAG,QAAA,GAC5BhD,eAAe,iBACdhH,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAM7C,kBAAkB,CAAC,EAAE,CAAE;gBACtC4C,SAAS,EAAC,kBAAkB;gBAC5B4L,KAAK,EAAC,cAAc;gBAAAzL,QAAA,eAEpBhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAc;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CACT,eACDpK,OAAA;gBACEkV,IAAI,EAAC,QAAQ;gBACbpL,OAAO,EAAEA,CAAA,KAAMoF,mBAAmB,CAAC,CAAE;gBACrCuG,KAAK,EAAC,QAAQ;gBAAAzL,QAAA,eAEdhK,OAAA;kBAAG6J,SAAS,EAAC;gBAAe;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,aAAa;YAAAG,QAAA,gBAC1BhK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,wBAAwB;gBAAAlM,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC5DpK,OAAA;gBACEwJ,EAAE,EAAC,wBAAwB;gBAC3BwK,KAAK,EAAE5M,sBAAuB;gBAC9B2O,QAAQ,EAAGjN,CAAC,IAAKzB,yBAAyB,CAACyB,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAE3DhK,OAAA;kBAAQgU,KAAK,EAAC,EAAE;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCpK,OAAA;kBAAQgU,KAAK,EAAC,UAAU;kBAAAhK,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CpK,OAAA;kBAAQgU,KAAK,EAAC,YAAY;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNpK,OAAA;cAAK6J,SAAS,EAAC,cAAc;cAAAG,QAAA,gBAC3BhK,OAAA;gBAAOkW,OAAO,EAAC,aAAa;gBAAAlM,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC5CpK,OAAA;gBACEwJ,EAAE,EAAC,aAAa;gBAChBwK,KAAK,EAAE9M,WAAY;gBACnB6O,QAAQ,EAAGjN,CAAC,IAAK3B,cAAc,CAAC2B,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;gBAAAhK,QAAA,gBAEhDhK,OAAA;kBAAQgU,KAAK,EAAC,QAAQ;kBAAAhK,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACvCpK,OAAA;kBAAQgU,KAAK,EAAC,MAAM;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCpK,OAAA;kBAAQgU,KAAK,EAAC,WAAW;kBAAAhK,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGL,CAACpD,eAAe,IAAII,sBAAsB,kBACzCpH,OAAA;UAAK6J,SAAS,EAAC,qBAAqB;UAAAG,QAAA,gBAClChK,OAAA;YAAAgK,QAAA,GACGlD,cAAc,CAAC8D,MAAM,EAAC,SAAO,EAAC9D,cAAc,CAAC8D,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,QACtE,EAAC5D,eAAe,IAAI,SAASA,eAAe,GAAG,EAC9CI,sBAAsB,IAAI,KAAKA,sBAAsB,UAAU;UAAA;YAAA6C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC,eACPpK,OAAA;YAAQ8J,OAAO,EAAEA,CAAA,KAAM;cAAE7C,kBAAkB,CAAC,EAAE,CAAC;cAAEI,yBAAyB,CAAC,EAAE,CAAC;YAAE,CAAE;YAACwC,SAAS,EAAC,eAAe;YAAAG,QAAA,EAAC;UAE7G;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAGDpK,OAAA;UAAK6J,SAAS,EAAC,0BAA0B;UAAAG,QAAA,eACvChK,OAAA;YAAO6J,SAAS,EAAC,gBAAgB;YAAAG,QAAA,gBAC/BhK,OAAA;cAAAgK,QAAA,eACEhK,OAAA;gBAAAgK,QAAA,gBACEhK,OAAA;kBAAAgK,QAAA,EAAI;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACVpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACdpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjBpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACZpK,OAAA;kBAAAgK,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACRpK,OAAA;cAAAgK,QAAA,EACGlD,cAAc,CAAC8D,MAAM,KAAK,CAAC,gBAC1B5K,OAAA;gBAAAgK,QAAA,eACEhK,OAAA;kBAAImW,OAAO,EAAC,GAAG;kBAACf,KAAK,EAAE;oBAAEgB,SAAS,EAAE,QAAQ;oBAAEC,OAAO,EAAE,MAAM;oBAAEV,KAAK,EAAE;kBAAoB,CAAE;kBAAA3L,QAAA,EAAC;gBAE7F;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,GAELtD,cAAc,CAACwK,GAAG,CAAC,CAACtQ,IAAI,EAAEgU,KAAK,KAAK;gBAClC,MAAMxE,GAAG,GAAGxP,IAAI,CAAC6B,QAAQ,GAAG6T,IAAI,CAACC,KAAK,CAAC,CAAC,IAAIlH,IAAI,CAAC,CAAC,GAAG,IAAIA,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,KAAK,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK;gBACvH,MAAMA,QAAQ,GAAG7B,IAAI,CAAC6B,QAAQ,GAAG,IAAI4M,IAAI,CAACzO,IAAI,CAAC6B,QAAQ,CAAC,CAAC+T,kBAAkB,CAAC,CAAC,GAAG,KAAK;gBACrF,oBACE5W,OAAA;kBAAmB6J,SAAS,EAAC,eAAe;kBAACC,OAAO,EAAEA,CAAA,KAAM2K,cAAc,CAACzT,IAAI,CAAE;kBAAAgJ,QAAA,gBAC/EhK,OAAA;oBAAI6J,SAAS,EAAC,YAAY;oBAAAG,QAAA,EAAEgL,KAAK,GAAG;kBAAC;oBAAA/K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK6J,SAAS,EAAC,cAAc;sBAAAG,QAAA,eAC3BhK,OAAA;wBAAAgK,QAAA,gBACEhK,OAAA;0BAAK6J,SAAS,EAAC,cAAc;0BAAAG,QAAA,EAC1BhD,eAAe,GAAG0N,aAAa,CAAC1T,IAAI,CAAC4B,QAAQ,EAAEoE,eAAe,CAAC,GAAGhG,IAAI,CAAC4B;wBAAQ;0BAAAqH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAC7E,CAAC,eACNpK,OAAA;0BAAK6J,SAAS,EAAC,YAAY;0BAAAG,QAAA,GAAC,MACtB,EAAChD,eAAe,GAAG0N,aAAa,CAAC1T,IAAI,CAACwH,MAAM,EAAExB,eAAe,CAAC,GAAGhG,IAAI,CAACwH,MAAM;wBAAA;0BAAAyB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAC7E,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKhD,eAAe,GAAG0N,aAAa,CAAC1T,IAAI,CAAC+B,KAAK,EAAEiE,eAAe,CAAC,GAAGhG,IAAI,CAAC+B;kBAAK;oBAAAkH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACpFpK,OAAA;oBAAAgK,QAAA,EAAKhD,eAAe,GAAG0N,aAAa,CAAC1T,IAAI,CAACwD,KAAK,IAAI,GAAG,EAAEwC,eAAe,CAAC,GAAIhG,IAAI,CAACwD,KAAK,IAAI;kBAAI;oBAAAyF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACpGpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAM6J,SAAS,EAAE,gBAAgB7I,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY,EAAG;sBAAA5C,QAAA,gBAClFhK,OAAA;wBAAG6J,SAAS,EAAE,OAAO7I,IAAI,CAAC4L,eAAe,GAAG,iBAAiB,GAAG,iBAAiB;sBAAG;wBAAA3C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,EACxFpJ,IAAI,CAAC4L,eAAe,GAAG,UAAU,GAAG,YAAY;oBAAA;sBAAA3C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7C;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACLpK,OAAA;oBAAAgK,QAAA,EAAKhD,eAAe,GAAG0N,aAAa,CAAC1T,IAAI,CAAC8B,OAAO,EAAEkE,eAAe,CAAC,GAAGhG,IAAI,CAAC8B;kBAAO;oBAAAmH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxFpK,OAAA;oBAAAgK,QAAA,EAAKnH;kBAAQ;oBAAAoH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACnBpK,OAAA;oBAAAgK,QAAA,GAAKwG,GAAG,EAAC,YAAU;kBAAA;oBAAAvG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxBpK,OAAA;oBAAAgK,QAAA,eACEhK,OAAA;sBAAK8J,OAAO,EAAGhB,CAAC,IAAKA,CAAC,CAACiB,eAAe,CAAC,CAAE;sBAAAC,QAAA,eACvChK,OAAA,CAACuJ,SAAS;wBACRC,EAAE,EAAE,SAASxI,IAAI,CAACoP,GAAG,EAAG;wBACxB3G,MAAM,EAAEA,CAAA,KAAMwJ,eAAe,CAACjS,IAAI,CAAE;wBACpC0I,QAAQ,EAAEA,CAAA,KAAMwJ,iBAAiB,CAAClS,IAAI,CAACoP,GAAG;sBAAE;wBAAAnG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC7C;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA,GAjCEpJ,IAAI,CAACoP,GAAG;kBAAAnG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAkCb,CAAC;cAET,CAAC;YACF;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA,eACN,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGL9H,gBAAgB,iBACftC,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EACxBxH,cAAc,GAAG,cAAc,GAAG;UAAiB;YAAAyH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC,eACLpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAMvH,mBAAmB,CAAC,KAAK,CAAE;YAAAyH,QAAA,EAC3C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENpK,OAAA;UAAMiX,QAAQ,EAAEnG,iBAAkB;UAAA9G,QAAA,gBAChChK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,UAAU;cAAAlM,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,UAAU;cACbwK,KAAK,EAAEtR,WAAW,CAACE,QAAS;cAC5BmT,QAAQ,EAAGjN,CAAC,IAAK;gBACfnG,cAAc,CAAC;kBAAC,GAAGD,WAAW;kBAAEE,QAAQ,EAAEkG,CAAC,CAACC,MAAM,CAACiL;gBAAK,CAAC,CAAC;gBAC1D,IAAI5Q,iBAAiB,CAACR,QAAQ,EAAE;kBAC9BS,oBAAoB,CAAC;oBAAC,GAAGD,iBAAiB;oBAAER,QAAQ,EAAE;kBAAE,CAAC,CAAC;gBAC5D;cACF,CAAE;cACFsU,QAAQ;cACR/B,WAAW,EAAC,gBAAgB;cAC5BtL,SAAS,EAAEzG,iBAAiB,CAACR,QAAQ,GAAG,OAAO,GAAG;YAAG;cAAAqH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC,EACDhH,iBAAiB,CAACR,QAAQ,iBACzB5C,OAAA;cAAK6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACR;YAAQ;cAAAqH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACjE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,OAAO;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpCpK,OAAA;cACEkV,IAAI,EAAC,OAAO;cACZ1L,EAAE,EAAC,OAAO;cACVwK,KAAK,EAAEtR,WAAW,CAACK,KAAM;cACzBgT,QAAQ,EAAGjN,CAAC,IAAK;gBACfnG,cAAc,CAAC;kBAAC,GAAGD,WAAW;kBAAEK,KAAK,EAAE+F,CAAC,CAACC,MAAM,CAACiL;gBAAK,CAAC,CAAC;gBACvD,IAAI5Q,iBAAiB,CAACL,KAAK,EAAE;kBAC3BM,oBAAoB,CAAC;oBAAC,GAAGD,iBAAiB;oBAAEL,KAAK,EAAE;kBAAE,CAAC,CAAC;gBACzD;cACF,CAAE;cACFmU,QAAQ;cACR/B,WAAW,EAAC,2BAA2B;cACvCtL,SAAS,EAAEzG,iBAAiB,CAACL,KAAK,GAAG,OAAO,GAAG;YAAG;cAAAkH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC,EACDhH,iBAAiB,CAACL,KAAK,iBACtB/C,OAAA;cAAK6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACL;YAAK;cAAAkH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAC9D;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,UAAU;cAAAlM,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,UAAU;cACbwK,KAAK,EAAEtR,WAAW,CAACG,QAAS;cAC5BkT,QAAQ,EAAGjN,CAAC,IAAK;gBACfnG,cAAc,CAAC;kBAAC,GAAGD,WAAW;kBAAEG,QAAQ,EAAEiG,CAAC,CAACC,MAAM,CAACiL;gBAAK,CAAC,CAAC;gBAC1D,IAAI5Q,iBAAiB,CAACP,QAAQ,EAAE;kBAC9BQ,oBAAoB,CAAC;oBAAC,GAAGD,iBAAiB;oBAAEP,QAAQ,EAAE;kBAAE,CAAC,CAAC;gBAC5D;cACF,CAAE;cACFqU,QAAQ;cACRC,GAAG,EAAE,IAAI1H,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE;cAC5C9F,SAAS,EAAEzG,iBAAiB,CAACP,QAAQ,GAAG,OAAO,GAAG;YAAG;cAAAoH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC,EACDhH,iBAAiB,CAACP,QAAQ,iBACzB7C,OAAA;cAAK6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACP;YAAQ;cAAAoH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACjE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,SAAS;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxCpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,SAAS;cACZwK,KAAK,EAAEtR,WAAW,CAACI,OAAQ;cAC3BiT,QAAQ,EAAGjN,CAAC,IAAK;gBACfnG,cAAc,CAAC;kBAAC,GAAGD,WAAW;kBAAEI,OAAO,EAAEgG,CAAC,CAACC,MAAM,CAACiL;gBAAK,CAAC,CAAC;gBACzD,IAAI5Q,iBAAiB,CAACN,OAAO,EAAE;kBAC7BO,oBAAoB,CAAC;oBAAC,GAAGD,iBAAiB;oBAAEN,OAAO,EAAE;kBAAE,CAAC,CAAC;gBAC3D;cACF,CAAE;cACFoU,QAAQ;cACR/B,WAAW,EAAC,gCAAgC;cAC5CtL,SAAS,EAAEzG,iBAAiB,CAACN,OAAO,GAAG,OAAO,GAAG;YAAG;cAAAmH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrD,CAAC,EACDhH,iBAAiB,CAACN,OAAO,iBACxB9C,OAAA;cAAK6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACN;YAAO;cAAAmH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAChE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,YAAY;cAAAlM,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1DpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,YAAY;cACfwK,KAAK,EAAEtR,WAAW,CAACO,UAAW;cAC9B8S,QAAQ,EAAGjN,CAAC,IAAKnG,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEO,UAAU,EAAE6F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cAC9EmB,WAAW,EAAC;YAAgB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,eAAe;cAAAlM,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5DpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,eAAe;cAClBwK,KAAK,EAAEtR,WAAW,CAACQ,aAAc;cACjC6S,QAAQ,EAAGjN,CAAC,IAAKnG,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEQ,aAAa,EAAE4F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACjFnK,SAAS,EAAEzG,iBAAiB,CAACF,aAAa,GAAG,OAAO,GAAG,EAAG;cAC1DiS,WAAW,EAAC;YAAuB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC,EACDhH,iBAAiB,CAACF,aAAa,iBAC9BlD,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACF;YAAa;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACxE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,gBAAgB;cAAAlM,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9DpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,gBAAgB;cACnBwK,KAAK,EAAEtR,WAAW,CAACS,cAAe;cAClC4S,QAAQ,EAAGjN,CAAC,IAAKnG,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAES,cAAc,EAAE2F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cAClFnK,SAAS,EAAEzG,iBAAiB,CAACD,cAAc,GAAG,OAAO,GAAG,EAAG;cAC3DgS,WAAW,EAAC;YAAuB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC,EACDhH,iBAAiB,CAACD,cAAc,iBAC/BnD,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAE5G,iBAAiB,CAACD;YAAc;cAAA8G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACzE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAMvH,mBAAmB,CAAC,KAAK,CAAE;cAAAyH,QAAA,EAC3C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cAAQkV,IAAI,EAAC,QAAQ;cAACrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EACnDxH,cAAc,GAAG,gBAAgB,GAAG;YAAc;cAAAyH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGApG,gBAAgB,iBACfhE,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EACxB9F,cAAc,GAAG,cAAc,GAAG;UAAiB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC,eACLpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAM7F,mBAAmB,CAAC,KAAK,CAAE;YAAA+F,QAAA,EAC3C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNpK,OAAA;UAAMiX,QAAQ,EAAEzE,iBAAkB;UAAAxI,QAAA,gBAChChK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,iBAAiB;cAAAlM,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,iBAAiB;cACpBwK,KAAK,EAAE5P,WAAW,CAACxB,QAAS;cAC5BmT,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAExB,QAAQ,EAAEkG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cAC5EkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7CpK,OAAA;cACEkV,IAAI,EAAC,OAAO;cACZ1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAE5P,WAAW,CAACrB,KAAM;cACzBgT,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAErB,KAAK,EAAE+F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,iBAAiB;cAAAlM,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,iBAAiB;cACpBwK,KAAK,EAAE5P,WAAW,CAACvB,QAAS;cAC5BkT,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEvB,QAAQ,EAAEiG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,gBAAgB;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,gBAAgB;cACnBwK,KAAK,EAAE5P,WAAW,CAACtB,OAAQ;cAC3BiT,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEtB,OAAO,EAAEgG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAE5P,WAAW,CAACI,KAAM;cACzBuR,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEI,KAAK,EAAEsE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEmB,WAAW,EAAC,oBAAoB;cAChCtL,SAAS,EAAEpF,iBAAiB,CAACD,KAAK,GAAG,OAAO,GAAG;YAAG;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC,EACD3F,iBAAiB,CAACD,KAAK,iBAAIxE,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEvF,iBAAiB,CAACD;YAAK;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzF,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAClDpK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACb1L,EAAE,EAAC,cAAc;cACjB4N,GAAG,EAAC,GAAG;cACPD,GAAG,EAAC,IAAI;cACRnD,KAAK,EAAE5P,WAAW,CAACE,KAAM;cACzByR,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEE,KAAK,EAAEwE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEmB,WAAW,EAAC;YAAS;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAClDpK,OAAA;cACEwJ,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAE5P,WAAW,CAACG,KAAM;cACzBwR,QAAQ,EAAGjN,CAAC,IAAKzE,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEG,KAAK,EAAEuE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cAAAhK,QAAA,gBAEzEhK,OAAA;gBAAQgU,KAAK,EAAC,GAAG;gBAAAhK,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC5BpK,OAAA;gBAAQgU,KAAK,EAAC,GAAG;gBAAAhK,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC5BpK,OAAA;gBAAQgU,KAAK,EAAC,GAAG;gBAAAhK,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAM7F,mBAAmB,CAAC,KAAK,CAAE;cAAA+F,QAAA,EAC3C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EAE/B9F,cAAc,GAAG,gBAAgB,GAAG;YAAc;cAAA+F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAhE,gBAAgB,iBACfpG,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EACxB1D,cAAc,GAAG,oBAAoB,GAAG;UAAuB;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9D,CAAC,eACLpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAMzD,mBAAmB,CAAC,KAAK,CAAE;YAAA2D,QAAA,EAC3C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNpK,OAAA;UAAMiX,QAAQ,EAAElE,iBAAkB;UAAA/I,QAAA,gBAChChK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,iBAAiB;cAAAlM,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,iBAAiB;cACpBwK,KAAK,EAAExN,WAAW,CAAC5D,QAAS;cAC5BmT,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAE5D,QAAQ,EAAEkG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cAC5EkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7CpK,OAAA;cACEkV,IAAI,EAAC,OAAO;cACZ1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAExN,WAAW,CAACzD,KAAM;cACzBgT,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEzD,KAAK,EAAE+F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,iBAAiB;cAAAlM,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,iBAAiB;cACpBwK,KAAK,EAAExN,WAAW,CAAC3D,QAAS;cAC5BkT,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAE3D,QAAQ,EAAEiG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,gBAAgB;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,gBAAgB;cACnBwK,KAAK,EAAExN,WAAW,CAAC1D,OAAQ;cAC3BiT,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAE1D,OAAO,EAAEgG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAExN,WAAW,CAAChC,KAAM;cACzBuR,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEhC,KAAK,EAAEsE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEmB,WAAW,EAAC,oBAAoB;cAChCtL,SAAS,EAAEnD,iBAAiB,CAAClC,KAAK,GAAG,OAAO,GAAG;YAAG;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC,EACD1D,iBAAiB,CAAClC,KAAK,iBAAIxE,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEtD,iBAAiB,CAAClC;YAAK;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzF,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAExN,WAAW,CAAChC,KAAM;cACzBuR,QAAQ,EAAGjN,CAAC,IAAKrC,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEhC,KAAK,EAAEsE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACzEmB,WAAW,EAAC;YAAoB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAMzD,mBAAmB,CAAC,KAAK,CAAE;cAAA2D,QAAA,EAC3C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EAE/B1D,cAAc,GAAG,cAAc,GAAG;YAAY;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA9C,cAAc,iBACbtH,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EACxBxC,YAAY,GAAG,YAAY,GAAG;UAAe;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACLpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAMvC,iBAAiB,CAAC,KAAK,CAAE;YAAAyC,QAAA,EACzC;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNpK,OAAA;UAAMiX,QAAQ,EAAE7D,eAAgB;UAAApJ,QAAA,gBAC9BhK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,eAAe;cAAAlM,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAClDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,eAAe;cAClBwK,KAAK,EAAEtM,SAAS,CAAC9E,QAAS;cAC1BmT,QAAQ,EAAGjN,CAAC,IAAKnB,YAAY,CAAC;gBAAC,GAAGD,SAAS;gBAAE9E,QAAQ,EAAEkG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACxEkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,YAAY;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CpK,OAAA;cACEkV,IAAI,EAAC,OAAO;cACZ1L,EAAE,EAAC,YAAY;cACfwK,KAAK,EAAEtM,SAAS,CAAC3E,KAAM;cACvBgT,QAAQ,EAAGjN,CAAC,IAAKnB,YAAY,CAAC;gBAAC,GAAGD,SAAS;gBAAE3E,KAAK,EAAE+F,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACrEkD,QAAQ;YAAA;cAAAjN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,eAAe;cAAAlM,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,eAAe;cAClBwK,KAAK,EAAEtM,SAAS,CAAC7E,QAAS;cAC1BkT,QAAQ,EAAGjN,CAAC,IAAKnB,YAAY,CAAC;gBAAC,GAAGD,SAAS;gBAAE7E,QAAQ,EAAEiG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,cAAc;cAAAlM,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7CpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,cAAc;cACjBwK,KAAK,EAAEtM,SAAS,CAAC5E,OAAQ;cACzBiT,QAAQ,EAAGjN,CAAC,IAAKnB,YAAY,CAAC;gBAAC,GAAGD,SAAS;gBAAE5E,OAAO,EAAEgG,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC;YAAE;cAAA/J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,YAAY;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzCpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,YAAY;cACfwK,KAAK,EAAEtM,SAAS,CAAClD,KAAM;cACvBuR,QAAQ,EAAGjN,CAAC,IAAKnB,YAAY,CAAC;gBAAC,GAAGD,SAAS;gBAAElD,KAAK,EAAEsE,CAAC,CAACC,MAAM,CAACiL;cAAK,CAAC,CAAE;cACrEmB,WAAW,EAAC,oBAAoB;cAChCtL,SAAS,EAAEjC,eAAe,CAACpD,KAAK,GAAG,OAAO,GAAG;YAAG;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD,CAAC,EACDxC,eAAe,CAACpD,KAAK,iBAAIxE,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEpC,eAAe,CAACpD;YAAK;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrF,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAMvC,iBAAiB,CAAC,KAAK,CAAE;cAAAyC,QAAA,EACzC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EAE/BxC,YAAY,GAAG,cAAc,GAAG;YAAY;cAAAyC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAvF,eAAe,iBACd7E,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EACxBrF,gBAAgB,EAAAtE,oBAAA,GAAC0E,aAAa,CAAC/D,IAAI,cAAAX,oBAAA,uBAAlBA,oBAAA,CAAoBmI,MAAM,CAAC,GAAG,iBAAiB,GAAG;UAAsB;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxF,CAAC,eACLpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAMhF,kBAAkB,CAAC,KAAK,CAAE;YAAAkF,QAAA,EAC1C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNpK,OAAA;UAAMiX,QAAQ,EAAEjJ,cAAe;UAAAhE,QAAA,gBAC7BhK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAAgK,QAAA,EAAO;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnBpK,OAAA;cAAOkV,IAAI,EAAC,MAAM;cAAClB,KAAK,EAAE,GAAG,EAAA1T,oBAAA,GAAAyE,aAAa,CAAC/D,IAAI,cAAAV,oBAAA,uBAAlBA,oBAAA,CAAoBsC,QAAQ,KAAI,EAAE,KAAK,EAAArC,oBAAA,GAAAwE,aAAa,CAAC/D,IAAI,cAAAT,oBAAA,uBAAlBA,oBAAA,CAAoBiI,MAAM,KAAI,EAAE,GAAI;cAAC6O,QAAQ;YAAA;cAAApN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjH,CAAC,EAGL,CAACzF,gBAAgB,EAAAnE,oBAAA,GAACuE,aAAa,CAAC/D,IAAI,cAAAR,oBAAA,uBAAlBA,oBAAA,CAAoBgI,MAAM,CAAC,IAAIzD,aAAa,CAAC/B,IAAI,KAAK,QAAQ,iBAC/EhD,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAACuL,KAAK,EAAE;cACjCkC,eAAe,EAAE,SAAS;cAC1BjB,OAAO,EAAE,MAAM;cACfkB,YAAY,EAAE,KAAK;cACnB3B,YAAY,EAAE,MAAM;cACpB4B,MAAM,EAAE;YACV,CAAE;YAAAxN,QAAA,eACAhK,OAAA;cAAGoV,KAAK,EAAE;gBAAEqC,MAAM,EAAE,CAAC;gBAAE9B,KAAK,EAAE,SAAS;gBAAE+B,QAAQ,EAAE;cAAO,CAAE;cAAA1N,QAAA,gBAC1DhK,OAAA;gBAAG6J,SAAS,EAAC,oBAAoB;gBAACuL,KAAK,EAAE;kBAAEuC,WAAW,EAAE;gBAAM;cAAE;gBAAA1N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,UAC/D,EAACnF,UAAU,CAACX,KAAK,EAAC,kHAE1B;YAAA;cAAA2F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CACN,eAEDpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,aAAa;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1CpK,OAAA;cACEwJ,EAAE,EAAC,aAAa;cAChBwK,KAAK,EAAE/O,UAAU,CAACX,KAAM;cACxByR,QAAQ,EAAGjN,CAAC,IAAK5D,aAAa,CAAC;gBAAE,GAAGD,UAAU;gBAAEX,KAAK,EAAEwE,CAAC,CAACC,MAAM,CAACiL;cAAM,CAAC,CAAE;cACzEkD,QAAQ;cAAAlN,QAAA,gBAERhK,OAAA;gBAAQgU,KAAK,EAAC,EAAE;gBAAC4D,QAAQ;gBAAA5N,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC9CiD,KAAK,CAACwK,IAAI,CAAC;gBAAEjN,MAAM,EAAE;cAAG,CAAC,EAAE,CAACkN,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAACzG,GAAG,CAAC0G,CAAC,iBAChDhY,OAAA;gBAAgBgU,KAAK,EAAEgE,CAAE;gBAAAhO,QAAA,EAAEgO;cAAC,GAAfA,CAAC;gBAAA/N,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAuB,CACtC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,aAAa;cAAAlM,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1CpK,OAAA;cACEwJ,EAAE,EAAC,aAAa;cAChBwK,KAAK,EAAE/O,UAAU,CAACV,KAAM;cACxBwR,QAAQ,EAAGjN,CAAC,IAAK5D,aAAa,CAAC;gBAAE,GAAGD,UAAU;gBAAEV,KAAK,EAAEuE,CAAC,CAACC,MAAM,CAACiL;cAAM,CAAC,CAAE;cACzEkD,QAAQ;cAAAlN,QAAA,EAEP,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAACsH,GAAG,CAAC2G,CAAC,iBAClBjY,OAAA;gBAAgBgU,KAAK,EAAEiE,CAAE;gBAAAjO,QAAA,EAAEiO;cAAC,GAAfA,CAAC;gBAAAhO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAuB,CACtC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAMhF,kBAAkB,CAAC,KAAK,CAAE;cAAAkF,QAAA,EAC1C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cAAQkV,IAAI,EAAC,QAAQ;cAACrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EACnDrF,gBAAgB,EAAAlE,oBAAA,GAACsE,aAAa,CAAC/D,IAAI,cAAAP,oBAAA,uBAAlBA,oBAAA,CAAoB+H,MAAM,CAAC,GAAG,mBAAmB,GAAG;YAAsB;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAjF,sBAAsB,iBACrBnF,OAAA;MAAK6J,SAAS,EAAC,OAAO;MAACuL,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAArL,QAAA,eAChDhK,OAAA;QAAK6J,SAAS,EAAC,eAAe;QAAAG,QAAA,gBAC5BhK,OAAA;UAAK6J,SAAS,EAAC,cAAc;UAAAG,QAAA,gBAC3BhK,OAAA;YAAI6J,SAAS,EAAC,aAAa;YAAAG,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/CpK,OAAA;YACE6J,SAAS,EAAC,aAAa;YACvBC,OAAO,EAAEA,CAAA,KAAM1E,yBAAyB,CAAC,KAAK,CAAE;YAAA4E,QAAA,EACjD;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENpK,OAAA;UAAMiX,QAAQ,EAAE9C,uBAAwB;UAAAnK,QAAA,gBACtChK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,YAAY;cAAAlM,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDpK,OAAA;cACEkV,IAAI,EAAC,MAAM;cACX1L,EAAE,EAAC,YAAY;cACfwK,KAAK,EAAE3O,iBAAiB,CAACpC,UAAW;cACpC8S,QAAQ,EAAGjN,CAAC,IAAKgL,yBAAyB,CAAC,YAAY,EAAEhL,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cACzEnK,SAAS,EAAEtE,mBAAmB,CAACtC,UAAU,GAAG,OAAO,GAAG,EAAG;cACzDkS,WAAW,EAAC;YAAmB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC,EACD7E,mBAAmB,CAACtC,UAAU,iBAC7BjD,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEzE,mBAAmB,CAACtC;YAAU;cAAAgH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACvE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,eAAe;cAAAlM,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvDpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,eAAe;cAClBwK,KAAK,EAAE3O,iBAAiB,CAACnC,aAAc;cACvC6S,QAAQ,EAAGjN,CAAC,IAAKgL,yBAAyB,CAAC,eAAe,EAAEhL,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cAC5EnK,SAAS,EAAEtE,mBAAmB,CAACrC,aAAa,GAAG,OAAO,GAAG,EAAG;cAC5DiS,WAAW,EAAC;YAAsB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC,EACD7E,mBAAmB,CAACrC,aAAa,iBAChClD,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEzE,mBAAmB,CAACrC;YAAa;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAC1E;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,YAAY;YAAAG,QAAA,gBACzBhK,OAAA;cAAOkW,OAAO,EAAC,gBAAgB;cAAAlM,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzDpK,OAAA;cACEkV,IAAI,EAAC,KAAK;cACV1L,EAAE,EAAC,gBAAgB;cACnBwK,KAAK,EAAE3O,iBAAiB,CAAClC,cAAe;cACxC4S,QAAQ,EAAGjN,CAAC,IAAKgL,yBAAyB,CAAC,gBAAgB,EAAEhL,CAAC,CAACC,MAAM,CAACiL,KAAK,CAAE;cAC7EnK,SAAS,EAAEtE,mBAAmB,CAACpC,cAAc,GAAG,OAAO,GAAG,EAAG;cAC7DgS,WAAW,EAAC;YAAuB;cAAAlL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC,EACD7E,mBAAmB,CAACpC,cAAc,iBACjCnD,OAAA;cAAM6J,SAAS,EAAC,eAAe;cAAAG,QAAA,EAAEzE,mBAAmB,CAACpC;YAAc;cAAA8G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAC3E;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAENpK,OAAA;YAAK6J,SAAS,EAAC,cAAc;YAAAG,QAAA,gBAC3BhK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAChCC,OAAO,EAAEA,CAAA,KAAM1E,yBAAyB,CAAC,KAAK,CAAE;cAAA4E,QAAA,EACjD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTpK,OAAA;cACEkV,IAAI,EAAC,QAAQ;cACbrL,SAAS,EAAC,sBAAsB;cAAAG,QAAA,EACjC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChK,EAAA,CAj3FID,cAAc;EAAA,QACDP,WAAW,EACXC,WAAW;AAAA;AAAAqY,EAAA,GAFxB/X,cAAc;AAm3FpB,eAAeA,cAAc;AAAC,IAAA+X,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}