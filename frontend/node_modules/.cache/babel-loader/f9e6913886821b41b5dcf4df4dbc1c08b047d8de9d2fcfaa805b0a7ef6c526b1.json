{"ast":null,"code":"var _jsxFileName = \"/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/TimeTableHallArrangement/TimeTableHallArrangement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Navigation from '../Navigation/Navigation';\nimport Footer from '../Footer/Footer';\nimport './TimeTableHallArrangement.css';\nimport TimeTableAPI from '../../services/TimeTableAPI';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TimeTableHallArrangement = () => {\n  _s();\n  const navigate = useNavigate();\n  const [examDropdownOpen, setExamDropdownOpen] = useState(false);\n  const examDropdownRef = useRef(null);\n\n  // Fallback data for when backend is not available\n  const fallbackTimetableData = [{\n    examName: \"1st Term\",\n    grade: 1,\n    class: \"A\",\n    classSection: \"1-A\",\n    subject: \"Mathematics\",\n    examDate: \"2023-10-15\",\n    examTime: \"9:00 AM - 11:00 AM\",\n    hall: \"Hall 1\"\n  }, {\n    examName: \"2nd Term\",\n    grade: 1,\n    class: \"B\",\n    classSection: \"1-B\",\n    subject: \"Science\",\n    examDate: \"2023-10-16\",\n    examTime: \"9:00 AM - 11:00 AM\",\n    hall: \"Hall 2\"\n  }, {\n    examName: \"3rd Term\",\n    grade: 2,\n    class: \"A\",\n    classSection: \"2-A\",\n    subject: \"English\",\n    examDate: \"2023-10-17\",\n    examTime: \"9:00 AM - 11:00 AM\",\n    hall: \"Hall 3\"\n  }, {\n    examName: \"1st Term\",\n    grade: 3,\n    class: \"C\",\n    classSection: \"3-C\",\n    subject: \"Social Studies\",\n    examDate: \"2023-12-10\",\n    examTime: \"9:00 AM - 12:00 PM\",\n    hall: \"Hall 1\"\n  }, {\n    examName: \"2nd Term\",\n    grade: 4,\n    class: \"B\",\n    classSection: \"4-B\",\n    subject: \"Mathematics\",\n    examDate: \"2023-12-11\",\n    examTime: \"9:00 AM - 12:00 PM\",\n    hall: \"Hall 2\"\n  }, {\n    examName: \"3rd Term\",\n    grade: 5,\n    class: \"D\",\n    classSection: \"5-D\",\n    subject: \"Science\",\n    examDate: \"2023-12-12\",\n    examTime: \"9:00 AM - 12:00 PM\",\n    hall: \"Hall 3\"\n  }, {\n    examName: \"1st Term\",\n    grade: 6,\n    class: \"A\",\n    classSection: \"6-A\",\n    subject: \"Physics\",\n    examDate: \"2023-10-20\",\n    examTime: \"10:00 AM - 12:00 PM\",\n    hall: \"Hall 4\"\n  }, {\n    examName: \"2nd Term\",\n    grade: 7,\n    class: \"B\",\n    classSection: \"7-B\",\n    subject: \"Chemistry\",\n    examDate: \"2023-11-15\",\n    examTime: \"2:00 PM - 4:00 PM\",\n    hall: \"Hall 5\"\n  }, {\n    examName: \"3rd Term\",\n    grade: 8,\n    class: \"C\",\n    classSection: \"8-C\",\n    subject: \"Biology\",\n    examDate: \"2023-12-20\",\n    examTime: \"9:00 AM - 11:00 AM\",\n    hall: \"Hall 6\"\n  }, {\n    examName: \"1st Term\",\n    grade: 9,\n    class: \"D\",\n    classSection: \"9-D\",\n    subject: \"Advanced Math\",\n    examDate: \"2023-10-25\",\n    examTime: \"11:00 AM - 1:00 PM\",\n    hall: \"Hall 7\"\n  }, {\n    examName: \"2nd Term\",\n    grade: 10,\n    class: \"E\",\n    classSection: \"10-E\",\n    subject: \"Computer Science\",\n    examDate: \"2023-11-20\",\n    examTime: \"3:00 PM - 5:00 PM\",\n    hall: \"Hall 8\"\n  }, {\n    examName: \"3rd Term\",\n    grade: 11,\n    class: \"A\",\n    classSection: \"11-A\",\n    subject: \"Advanced Physics\",\n    examDate: \"2023-12-25\",\n    examTime: \"9:00 AM - 12:00 PM\",\n    hall: \"Hall 9\"\n  }];\n\n  // const fallbackHallArrangements = [\n  //   { hall: \"Hall 1\", grade: 1, sections: [\"A\", \"B\"], capacity: 40 },\n  //   { hall: \"Hall 2\", grade: 2, sections: [\"A\", \"B\", \"C\"], capacity: 60 },\n  //   { hall: \"Hall 3\", grade: 3, sections: [\"A\", \"C\"], capacity: 40 },\n  //   { hall: \"Hall 4\", grade: 4, sections: [\"B\", \"D\"], capacity: 40 },\n  //   { hall: \"Hall 5\", grade: 5, sections: [\"A\", \"B\", \"C\", \"D\"], capacity: 80 },\n  //   { hall: \"Hall 6\", grade: 6, sections: [\"A\", \"B\"], capacity: 40 },\n  //   { hall: \"Hall 7\", grade: 7, sections: [\"B\", \"C\"], capacity: 40 },\n  //   { hall: \"Hall 8\", grade: 8, sections: [\"C\", \"D\"], capacity: 40 },\n  //   { hall: \"Hall 9\", grade: 9, sections: [\"D\", \"E\"], capacity: 40 },\n  //   { hall: \"Hall 10\", grade: 10, sections: [\"A\", \"B\", \"C\", \"D\", \"E\"], capacity: 100 },\n  //   { hall: \"Hall 11\", grade: 11, sections: [\"A\", \"B\"], capacity: 40 }\n  // ];\n\n  // State management\n  const [selectedGrade, setSelectedGrade] = useState('');\n  const [selectedClass, setSelectedClass] = useState('');\n  const [filteredTimetable, setFilteredTimetable] = useState([]);\n  const [filteredHallArrangements, setFilteredHallArrangements] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [useFallbackData, setUseFallbackData] = useState(false);\n\n  // Normalize data to handle both old and new field names\n  const normalizeTimetableData = data => {\n    return data.map(item => ({\n      ...item,\n      grade: item.grade || item.classLevel,\n      class: item.class || item.section,\n      classSection: item.classSection || `${item.grade || item.classLevel}-${item.class || item.section}`\n    }));\n  };\n\n  // Extract grade number from \"Grade X\" format\n  const getGradeNumber = gradeString => {\n    if (!gradeString) return '';\n    const match = gradeString.match(/Grade (\\d+)/);\n    return match ? match[1] : gradeString;\n  };\n\n  // Helper function to derive hall arrangements from timetable data\n  const deriveHallArrangements = (timetables, filterClass = null) => {\n    const hallMap = new Map();\n    timetables.forEach(timetable => {\n      // If a specific class is requested, only include timetables for that class\n      if (filterClass && timetable.class !== filterClass) {\n        return;\n      }\n      const hallKey = timetable.hall;\n      if (!hallMap.has(hallKey)) {\n        hallMap.set(hallKey, {\n          hall: hallKey,\n          grade: timetable.grade || timetable.classLevel,\n          sections: new Set(),\n          capacity: 40 // Default capacity\n        });\n      }\n\n      // Add the class section to this hall\n      const section = timetable.class || timetable.section;\n      if (section && ['A', 'B', 'C', 'D', 'E'].includes(section)) {\n        hallMap.get(hallKey).sections.add(section);\n      }\n    });\n\n    // Convert Set to Array and return\n    return Array.from(hallMap.values()).map(hall => ({\n      ...hall,\n      sections: Array.from(hall.sections).sort()\n    }));\n  };\n\n  // Load data from backend\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Convert \"Grade X\" to just the number for API calls\n      const gradeNumber = getGradeNumber(selectedGrade);\n\n      // Get filtered timetables\n      const timetables = await TimeTableAPI.getFilteredTimeTables(gradeNumber, selectedClass);\n\n      // Normalize the data to handle both old and new field names\n      const normalizedTimetables = normalizeTimetableData(timetables);\n\n      // Derive hall arrangements from timetable data for the selected grade and class\n      let hallArrangements = [];\n      if (selectedGrade && selectedClass) {\n        // Get all timetables for the selected grade (not filtered by class)\n        const gradeTimetables = await TimeTableAPI.getFilteredTimeTables(gradeNumber, '');\n        const normalizedGradeTimetables = normalizeTimetableData(gradeTimetables);\n        // Filter hall arrangements to show only the selected class\n        hallArrangements = deriveHallArrangements(normalizedGradeTimetables, selectedClass);\n      }\n      setFilteredTimetable(normalizedTimetables);\n      setFilteredHallArrangements(hallArrangements);\n      setUseFallbackData(false);\n    } catch (err) {\n      console.error('Backend not available, using fallback data:', err);\n      setError('Backend not available. Showing sample data.');\n\n      // Use fallback data with new filtering logic\n      const gradeNumber = getGradeNumber(selectedGrade);\n      const filteredTimetableData = fallbackTimetableData.filter(item => {\n        if (gradeNumber && item.grade !== parseInt(gradeNumber)) return false;\n        if (selectedClass && item.class !== selectedClass) return false;\n        return true;\n      });\n\n      // Derive hall arrangements from fallback timetable data for the selected grade and class\n      let filteredHallData = [];\n      if (selectedGrade && selectedClass) {\n        // Get all fallback timetables for the selected grade (not filtered by class)\n        const gradeTimetableData = fallbackTimetableData.filter(item => {\n          if (gradeNumber && item.grade !== parseInt(gradeNumber)) return false;\n          return true;\n        });\n        // Filter hall arrangements to show only the selected class\n        filteredHallData = deriveHallArrangements(gradeTimetableData, selectedClass);\n      }\n      setFilteredTimetable(filteredTimetableData);\n      setFilteredHallArrangements(filteredHallData);\n      setUseFallbackData(true);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedGrade, selectedClass]);\n\n  // Filter functions\n  const applyFilters = async () => {\n    await loadData();\n  };\n\n  // Download functions\n  const handleDownloadTimetable = async () => {\n    if (!selectedGrade) {\n      alert('Please select a grade to download timetable');\n      return;\n    }\n    if (useFallbackData) {\n      alert('Backend not available. Cannot download PDF in demo mode.');\n      return;\n    }\n    try {\n      setLoading(true);\n      const gradeNumber = getGradeNumber(selectedGrade);\n      // Download timetable for the entire grade (all classes)\n      await TimeTableAPI.downloadTimeTableByGrade(gradeNumber);\n    } catch (err) {\n      alert('Failed to download timetable. Please try again.');\n      console.error('Download error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDownloadHall = async () => {\n    if (!selectedGrade || !selectedClass) {\n      alert('Please select both grade and class to download hall arrangements');\n      return;\n    }\n    if (useFallbackData) {\n      alert('Backend not available. Cannot download PDF in demo mode.');\n      return;\n    }\n    try {\n      setLoading(true);\n      const gradeNumber = getGradeNumber(selectedGrade);\n      await TimeTableAPI.downloadHallArrangementByGradeAndClass(gradeNumber, selectedClass);\n    } catch (err) {\n      alert('Failed to download hall arrangements. Please try again.');\n      console.error('Download error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Apply filters when state changes\n  useEffect(() => {\n    loadData();\n  }, [selectedGrade, selectedClass, loadData]);\n\n  // Load initial data\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(e) {\n      if (examDropdownRef.current && !examDropdownRef.current.contains(e.target)) {\n        setExamDropdownOpen(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timetable-hall-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"All Classes TimeTable & Hall Arrangements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"View and download timetables and hall arrangements for classes 1-11 (Primary: 1-5, Secondary: 6-11)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              display: 'flex',\n              gap: '12px',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative'\n              },\n              ref: examDropdownRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => setExamDropdownOpen(s => !s),\n                style: {\n                  padding: '10px 16px'\n                },\n                children: [\"Examination \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-caret-down\",\n                  style: {\n                    marginLeft: 8\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 15\n              }, this), examDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '46px',\n                  right: 0,\n                  background: '#fff',\n                  border: '1px solid #ddd',\n                  borderRadius: 6,\n                  boxShadow: '0 10px 30px rgba(0,0,0,0.12)',\n                  zIndex: 9999,\n                  minWidth: 220\n                },\n                role: \"menu\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"dropdown-item\",\n                  onClick: () => {\n                    setExamDropdownOpen(false);\n                    navigate('/exams');\n                  },\n                  style: {\n                    display: 'block',\n                    padding: '10px 14px',\n                    width: '100%',\n                    textAlign: 'left',\n                    background: 'none',\n                    border: 'none'\n                  },\n                  children: \"Exams\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"dropdown-item\",\n                  onClick: () => {\n                    setExamDropdownOpen(false);\n                    navigate('/timetable');\n                  },\n                  style: {\n                    display: 'block',\n                    padding: '10px 14px',\n                    width: '100%',\n                    textAlign: 'left',\n                    background: 'none',\n                    border: 'none'\n                  },\n                  children: \"Time Tables & Hall Arrangement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => navigate('/timetable-data-entry'),\n              style: {\n                padding: '12px 24px',\n                fontSize: '16px',\n                borderRadius: '8px',\n                border: 'none',\n                background: 'linear-gradient(to right, #00897b 0%, #00bfa5 100%)',\n                color: 'white',\n                cursor: 'pointer',\n                transition: 'all 0.3s',\n                boxShadow: '0 2px 8px rgba(0, 137, 123, 0.3)'\n              },\n              onMouseOver: e => {\n                e.target.style.transform = 'translateY(-2px)';\n                e.target.style.boxShadow = '0 4px 12px rgba(0, 137, 123, 0.4)';\n              },\n              onMouseOut: e => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = '0 2px 8px rgba(0, 137, 123, 0.3)';\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus\",\n                style: {\n                  marginRight: '8px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 15\n              }, this), \"Enter Timetable Data\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"grade-select\",\n                children: \"Select Grade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"grade-select\",\n                value: selectedGrade,\n                onChange: e => setSelectedGrade(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Grades\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 1\",\n                  children: \"Grade 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 2\",\n                  children: \"Grade 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 3\",\n                  children: \"Grade 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 4\",\n                  children: \"Grade 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 5\",\n                  children: \"Grade 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 6\",\n                  children: \"Grade 6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 7\",\n                  children: \"Grade 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 8\",\n                  children: \"Grade 8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 9\",\n                  children: \"Grade 9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 10\",\n                  children: \"Grade 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Grade 11\",\n                  children: \"Grade 11\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"class-select\",\n                children: \"Class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"class-select\",\n                value: selectedClass,\n                onChange: e => setSelectedClass(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Classes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"A\",\n                  children: \"A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"B\",\n                  children: \"B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"C\",\n                  children: \"C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: applyFilters,\n                disabled: loading,\n                children: loading ? 'Loading...' : 'Apply Filters'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '15px',\n            color: '#00897b'\n          },\n          children: \"TimeTable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 9\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: useFallbackData ? '#fff3e0' : '#ffebee',\n            color: useFallbackData ? '#e65100' : '#c62828',\n            padding: '15px',\n            borderRadius: '5px',\n            marginBottom: '20px',\n            border: useFallbackData ? '1px solid #ffcc02' : '1px solid #ffcdd2'\n          },\n          children: [error, useFallbackData && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px',\n              fontSize: '14px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"To connect to backend:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              style: {\n                marginTop: '5px',\n                paddingLeft: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Make sure backend server is running on port 5000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Check if MongoDB connection is working\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Verify CORS is enabled in backend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            id: \"timetable\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Exam Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Subject\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Hall\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  style: {\n                    textAlign: 'center',\n                    padding: '40px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      gap: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        width: '20px',\n                        height: '20px',\n                        border: '2px solid #00897b',\n                        borderTop: '2px solid transparent',\n                        borderRadius: '50%',\n                        animation: 'spin 1s linear infinite'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 23\n                    }, this), \"Loading...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this) : filteredTimetable.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: \"No data available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this) : filteredTimetable.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.examName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.grade || item.classLevel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.subject\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(item.examDate).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.examTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.hall\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginBottom: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleDownloadTimetable,\n            disabled: loading,\n            children: loading ? 'Downloading...' : 'Download TimeTable (PDF)'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: '15px',\n            color: '#00897b'\n          },\n          children: \"Hall Arrangements\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-container\",\n          id: \"hall-arrangements\",\n          children: !selectedGrade || !selectedClass ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '100%',\n              padding: '40px',\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffeaa7',\n              borderRadius: '8px',\n              color: '#856404'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                margin: 0\n              },\n              children: \"Please select both Grade and Class to view hall arrangements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this) : loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '100%',\n              padding: '40px',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '20px',\n                height: '20px',\n                border: '2px solid #00897b',\n                borderTop: '2px solid transparent',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), \"Loading hall arrangements...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this) : filteredHallArrangements.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: 'center',\n              width: '100%'\n            },\n            children: \"No hall arrangements found for the selected filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this) : filteredHallArrangements.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-title\",\n                children: item.hall\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Grade:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 22\n                }, this), \" \", item.grade || item.classLevel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Class:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 22\n                }, this), \" \", item.sections.filter(section => section && ['A', 'B', 'C', 'D', 'E'].includes(section)).map(section => `${item.grade || item.classLevel}-${section}`).join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Capacity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 22\n                }, this), \" \", item.capacity, \" students\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginBottom: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleDownloadHall,\n            disabled: loading,\n            children: loading ? 'Downloading...' : 'Download Grade Hall Arrangements (PDF)'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(TimeTableHallArrangement, \"pvrXadkQlWwemWVLFjmGzTK6j0U=\", false, function () {\n  return [useNavigate];\n});\n_c = TimeTableHallArrangement;\nexport default TimeTableHallArrangement;\nvar _c;\n$RefreshReg$(_c, \"TimeTableHallArrangement\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Navigation","Footer","TimeTableAPI","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","TimeTableHallArrangement","_s","navigate","examDropdownOpen","setExamDropdownOpen","examDropdownRef","fallbackTimetableData","examName","grade","class","classSection","subject","examDate","examTime","hall","selectedGrade","setSelectedGrade","selectedClass","setSelectedClass","filteredTimetable","setFilteredTimetable","filteredHallArrangements","setFilteredHallArrangements","loading","setLoading","error","setError","useFallbackData","setUseFallbackData","normalizeTimetableData","data","map","item","classLevel","section","getGradeNumber","gradeString","match","deriveHallArrangements","timetables","filterClass","hallMap","Map","forEach","timetable","hallKey","has","set","sections","Set","capacity","includes","get","add","Array","from","values","sort","loadData","gradeNumber","getFilteredTimeTables","normalizedTimetables","hallArrangements","gradeTimetables","normalizedGradeTimetables","err","console","filteredTimetableData","filter","parseInt","filteredHallData","gradeTimetableData","applyFilters","handleDownloadTimetable","alert","downloadTimeTableByGrade","handleDownloadHall","downloadHallArrangementByGradeAndClass","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","marginTop","display","gap","alignItems","position","ref","onClick","s","padding","marginLeft","top","right","background","border","borderRadius","boxShadow","zIndex","minWidth","role","width","textAlign","fontSize","color","cursor","transition","onMouseOver","transform","onMouseOut","marginRight","htmlFor","id","value","onChange","disabled","marginBottom","paddingLeft","colSpan","justifyContent","height","borderTop","animation","length","index","Date","toLocaleDateString","backgroundColor","margin","join","_c","$RefreshReg$"],"sources":["/Users/kavinth/Documents/GitHub/Smart-Alert/Smart-Alert-new/frontend/src/Components/TimeTableHallArrangement/TimeTableHallArrangement.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Navigation from '../Navigation/Navigation';\nimport Footer from '../Footer/Footer';\nimport './TimeTableHallArrangement.css';\nimport TimeTableAPI from '../../services/TimeTableAPI';\nimport { useNavigate } from 'react-router-dom';\n\nconst TimeTableHallArrangement = () => {\n  const navigate = useNavigate();\n  const [examDropdownOpen, setExamDropdownOpen] = useState(false);\n  const examDropdownRef = useRef(null);\n  \n  // Fallback data for when backend is not available\n  const fallbackTimetableData = [\n    { examName: \"1st Term\", grade: 1, class: \"A\", classSection: \"1-A\", subject: \"Mathematics\", examDate: \"2023-10-15\", examTime: \"9:00 AM - 11:00 AM\", hall: \"Hall 1\" },\n    { examName: \"2nd Term\", grade: 1, class: \"B\", classSection: \"1-B\", subject: \"Science\", examDate: \"2023-10-16\", examTime: \"9:00 AM - 11:00 AM\", hall: \"Hall 2\" },\n    { examName: \"3rd Term\", grade: 2, class: \"A\", classSection: \"2-A\", subject: \"English\", examDate: \"2023-10-17\", examTime: \"9:00 AM - 11:00 AM\", hall: \"Hall 3\" },\n    { examName: \"1st Term\", grade: 3, class: \"C\", classSection: \"3-C\", subject: \"Social Studies\", examDate: \"2023-12-10\", examTime: \"9:00 AM - 12:00 PM\", hall: \"Hall 1\" },\n    { examName: \"2nd Term\", grade: 4, class: \"B\", classSection: \"4-B\", subject: \"Mathematics\", examDate: \"2023-12-11\", examTime: \"9:00 AM - 12:00 PM\", hall: \"Hall 2\" },\n    { examName: \"3rd Term\", grade: 5, class: \"D\", classSection: \"5-D\", subject: \"Science\", examDate: \"2023-12-12\", examTime: \"9:00 AM - 12:00 PM\", hall: \"Hall 3\" },\n    { examName: \"1st Term\", grade: 6, class: \"A\", classSection: \"6-A\", subject: \"Physics\", examDate: \"2023-10-20\", examTime: \"10:00 AM - 12:00 PM\", hall: \"Hall 4\" },\n    { examName: \"2nd Term\", grade: 7, class: \"B\", classSection: \"7-B\", subject: \"Chemistry\", examDate: \"2023-11-15\", examTime: \"2:00 PM - 4:00 PM\", hall: \"Hall 5\" },\n    { examName: \"3rd Term\", grade: 8, class: \"C\", classSection: \"8-C\", subject: \"Biology\", examDate: \"2023-12-20\", examTime: \"9:00 AM - 11:00 AM\", hall: \"Hall 6\" },\n    { examName: \"1st Term\", grade: 9, class: \"D\", classSection: \"9-D\", subject: \"Advanced Math\", examDate: \"2023-10-25\", examTime: \"11:00 AM - 1:00 PM\", hall: \"Hall 7\" },\n    { examName: \"2nd Term\", grade: 10, class: \"E\", classSection: \"10-E\", subject: \"Computer Science\", examDate: \"2023-11-20\", examTime: \"3:00 PM - 5:00 PM\", hall: \"Hall 8\" },\n    { examName: \"3rd Term\", grade: 11, class: \"A\", classSection: \"11-A\", subject: \"Advanced Physics\", examDate: \"2023-12-25\", examTime: \"9:00 AM - 12:00 PM\", hall: \"Hall 9\" }\n  ];\n\n  // const fallbackHallArrangements = [\n  //   { hall: \"Hall 1\", grade: 1, sections: [\"A\", \"B\"], capacity: 40 },\n  //   { hall: \"Hall 2\", grade: 2, sections: [\"A\", \"B\", \"C\"], capacity: 60 },\n  //   { hall: \"Hall 3\", grade: 3, sections: [\"A\", \"C\"], capacity: 40 },\n  //   { hall: \"Hall 4\", grade: 4, sections: [\"B\", \"D\"], capacity: 40 },\n  //   { hall: \"Hall 5\", grade: 5, sections: [\"A\", \"B\", \"C\", \"D\"], capacity: 80 },\n  //   { hall: \"Hall 6\", grade: 6, sections: [\"A\", \"B\"], capacity: 40 },\n  //   { hall: \"Hall 7\", grade: 7, sections: [\"B\", \"C\"], capacity: 40 },\n  //   { hall: \"Hall 8\", grade: 8, sections: [\"C\", \"D\"], capacity: 40 },\n  //   { hall: \"Hall 9\", grade: 9, sections: [\"D\", \"E\"], capacity: 40 },\n  //   { hall: \"Hall 10\", grade: 10, sections: [\"A\", \"B\", \"C\", \"D\", \"E\"], capacity: 100 },\n  //   { hall: \"Hall 11\", grade: 11, sections: [\"A\", \"B\"], capacity: 40 }\n  // ];\n\n  // State management\n  const [selectedGrade, setSelectedGrade] = useState('');\n  const [selectedClass, setSelectedClass] = useState('');\n  const [filteredTimetable, setFilteredTimetable] = useState([]);\n  const [filteredHallArrangements, setFilteredHallArrangements] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [useFallbackData, setUseFallbackData] = useState(false);\n\n  // Normalize data to handle both old and new field names\n  const normalizeTimetableData = (data) => {\n    return data.map(item => ({\n      ...item,\n      grade: item.grade || item.classLevel,\n      class: item.class || item.section,\n      classSection: item.classSection || `${item.grade || item.classLevel}-${item.class || item.section}`\n    }));\n  };\n\n  // Extract grade number from \"Grade X\" format\n  const getGradeNumber = (gradeString) => {\n    if (!gradeString) return '';\n    const match = gradeString.match(/Grade (\\d+)/);\n    return match ? match[1] : gradeString;\n  };\n\n  // Helper function to derive hall arrangements from timetable data\n  const deriveHallArrangements = (timetables, filterClass = null) => {\n    const hallMap = new Map();\n    \n    timetables.forEach(timetable => {\n      // If a specific class is requested, only include timetables for that class\n      if (filterClass && timetable.class !== filterClass) {\n        return;\n      }\n      \n      const hallKey = timetable.hall;\n      if (!hallMap.has(hallKey)) {\n        hallMap.set(hallKey, {\n          hall: hallKey,\n          grade: timetable.grade || timetable.classLevel,\n          sections: new Set(),\n          capacity: 40 // Default capacity\n        });\n      }\n      \n      // Add the class section to this hall\n      const section = timetable.class || timetable.section;\n      if (section && ['A', 'B', 'C', 'D', 'E'].includes(section)) {\n        hallMap.get(hallKey).sections.add(section);\n      }\n    });\n    \n    // Convert Set to Array and return\n    return Array.from(hallMap.values()).map(hall => ({\n      ...hall,\n      sections: Array.from(hall.sections).sort()\n    }));\n  };\n\n  // Load data from backend\n  const loadData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Convert \"Grade X\" to just the number for API calls\n      const gradeNumber = getGradeNumber(selectedGrade);\n      \n      // Get filtered timetables\n      const timetables = await TimeTableAPI.getFilteredTimeTables(gradeNumber, selectedClass);\n      \n      // Normalize the data to handle both old and new field names\n      const normalizedTimetables = normalizeTimetableData(timetables);\n      \n      // Derive hall arrangements from timetable data for the selected grade and class\n      let hallArrangements = [];\n      if (selectedGrade && selectedClass) {\n        // Get all timetables for the selected grade (not filtered by class)\n        const gradeTimetables = await TimeTableAPI.getFilteredTimeTables(gradeNumber, '');\n        const normalizedGradeTimetables = normalizeTimetableData(gradeTimetables);\n        // Filter hall arrangements to show only the selected class\n        hallArrangements = deriveHallArrangements(normalizedGradeTimetables, selectedClass);\n      }\n      \n      setFilteredTimetable(normalizedTimetables);\n      setFilteredHallArrangements(hallArrangements);\n      setUseFallbackData(false);\n    } catch (err) {\n      console.error('Backend not available, using fallback data:', err);\n      setError('Backend not available. Showing sample data.');\n      \n      // Use fallback data with new filtering logic\n      const gradeNumber = getGradeNumber(selectedGrade);\n      const filteredTimetableData = fallbackTimetableData.filter(item => {\n        if (gradeNumber && item.grade !== parseInt(gradeNumber)) return false;\n        if (selectedClass && item.class !== selectedClass) return false;\n        return true;\n      });\n\n      // Derive hall arrangements from fallback timetable data for the selected grade and class\n      let filteredHallData = [];\n      if (selectedGrade && selectedClass) {\n        // Get all fallback timetables for the selected grade (not filtered by class)\n        const gradeTimetableData = fallbackTimetableData.filter(item => {\n          if (gradeNumber && item.grade !== parseInt(gradeNumber)) return false;\n          return true;\n        });\n        // Filter hall arrangements to show only the selected class\n        filteredHallData = deriveHallArrangements(gradeTimetableData, selectedClass);\n      }\n\n      setFilteredTimetable(filteredTimetableData);\n      setFilteredHallArrangements(filteredHallData);\n      setUseFallbackData(true);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedGrade, selectedClass]);\n\n  // Filter functions\n  const applyFilters = async () => {\n    await loadData();\n  };\n\n  // Download functions\n  const handleDownloadTimetable = async () => {\n    if (!selectedGrade) {\n      alert('Please select a grade to download timetable');\n      return;\n    }\n    \n    if (useFallbackData) {\n      alert('Backend not available. Cannot download PDF in demo mode.');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      const gradeNumber = getGradeNumber(selectedGrade);\n      // Download timetable for the entire grade (all classes)\n      await TimeTableAPI.downloadTimeTableByGrade(gradeNumber);\n    } catch (err) {\n      alert('Failed to download timetable. Please try again.');\n      console.error('Download error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDownloadHall = async () => {\n    if (!selectedGrade || !selectedClass) {\n      alert('Please select both grade and class to download hall arrangements');\n      return;\n    }\n    \n    if (useFallbackData) {\n      alert('Backend not available. Cannot download PDF in demo mode.');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      const gradeNumber = getGradeNumber(selectedGrade);\n      await TimeTableAPI.downloadHallArrangementByGradeAndClass(gradeNumber, selectedClass);\n    } catch (err) {\n      alert('Failed to download hall arrangements. Please try again.');\n      console.error('Download error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Apply filters when state changes\n  useEffect(() => {\n    loadData();\n  }, [selectedGrade, selectedClass, loadData]);\n\n  // Load initial data\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(e) {\n      if (examDropdownRef.current && !examDropdownRef.current.contains(e.target)) {\n        setExamDropdownOpen(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  return (\n    <>\n      <Navigation />\n      <div className=\"timetable-hall-container\">\n        <div className=\"container\">\n          <div className=\"page-header\">\n          <h2>All Classes TimeTable & Hall Arrangements</h2>\n          <p>View and download timetables and hall arrangements for classes 1-11 (Primary: 1-5, Secondary: 6-11)</p>\n          <div style={{ marginTop: '20px', display: 'flex', gap: '12px', alignItems: 'center' }}>\n            <div style={{ position: 'relative' }} ref={examDropdownRef}>\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => setExamDropdownOpen(s => !s)}\n                style={{ padding: '10px 16px' }}\n              >\n                Examination <i className=\"fas fa-caret-down\" style={{ marginLeft: 8 }} />\n              </button>\n              {examDropdownOpen && (\n                <div style={{ position: 'absolute', top: '46px', right: 0, background: '#fff', border: '1px solid #ddd', borderRadius: 6, boxShadow: '0 10px 30px rgba(0,0,0,0.12)', zIndex: 9999, minWidth: 220 }} role=\"menu\">\n                  <button className=\"dropdown-item\" onClick={() => { setExamDropdownOpen(false); navigate('/exams'); }} style={{ display: 'block', padding: '10px 14px', width: '100%', textAlign: 'left', background: 'none', border: 'none' }}>Exams</button>\n                  <button className=\"dropdown-item\" onClick={() => { setExamDropdownOpen(false); navigate('/timetable'); }} style={{ display: 'block', padding: '10px 14px', width: '100%', textAlign: 'left', background: 'none', border: 'none' }}>Time Tables & Hall Arrangement</button>\n                </div>\n              )}\n            </div>\n            \n            <button \n              className=\"btn btn-primary\" \n              onClick={() => navigate('/timetable-data-entry')}\n              style={{ \n                padding: '12px 24px', \n                fontSize: '16px',\n                borderRadius: '8px',\n                border: 'none',\n                background: 'linear-gradient(to right, #00897b 0%, #00bfa5 100%)',\n                color: 'white',\n                cursor: 'pointer',\n                transition: 'all 0.3s',\n                boxShadow: '0 2px 8px rgba(0, 137, 123, 0.3)'\n              }}\n              onMouseOver={(e) => {\n                e.target.style.transform = 'translateY(-2px)';\n                e.target.style.boxShadow = '0 4px 12px rgba(0, 137, 123, 0.4)';\n              }}\n              onMouseOut={(e) => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = '0 2px 8px rgba(0, 137, 123, 0.3)';\n              }}\n            >\n              <i className=\"fas fa-plus\" style={{ marginRight: '8px' }}></i>\n              Enter Timetable Data\n            </button>\n          </div>\n        </div>\n\n        {/* Filter Section */}\n        <div className=\"filter-section\">\n          <div className=\"filter-form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"grade-select\">Select Grade</label>\n              <select \n                id=\"grade-select\" \n                value={selectedGrade}\n                onChange={(e) => setSelectedGrade(e.target.value)}\n              >\n                <option value=\"\">All Grades</option>\n                <option value=\"Grade 1\">Grade 1</option>\n                <option value=\"Grade 2\">Grade 2</option>\n                <option value=\"Grade 3\">Grade 3</option>\n                <option value=\"Grade 4\">Grade 4</option>\n                <option value=\"Grade 5\">Grade 5</option>\n                <option value=\"Grade 6\">Grade 6</option>\n                <option value=\"Grade 7\">Grade 7</option>\n                <option value=\"Grade 8\">Grade 8</option>\n                <option value=\"Grade 9\">Grade 9</option>\n                <option value=\"Grade 10\">Grade 10</option>\n                <option value=\"Grade 11\">Grade 11</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"class-select\">Class</label>\n              <select \n                id=\"class-select\" \n                value={selectedClass}\n                onChange={(e) => setSelectedClass(e.target.value)}\n              >\n                <option value=\"\">All Classes</option>\n                <option value=\"A\">A</option>\n                <option value=\"B\">B</option>\n                <option value=\"C\">C</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <button \n                className=\"btn btn-primary\" \n                onClick={applyFilters}\n                disabled={loading}\n              >\n                {loading ? 'Loading...' : 'Apply Filters'}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* TimeTable Section */}\n        <h3 style={{marginBottom: '15px', color: '#00897b'}}>TimeTable</h3>\n        {error && (\n          <div style={{\n            background: useFallbackData ? '#fff3e0' : '#ffebee',\n            color: useFallbackData ? '#e65100' : '#c62828',\n            padding: '15px',\n            borderRadius: '5px',\n            marginBottom: '20px',\n            border: useFallbackData ? '1px solid #ffcc02' : '1px solid #ffcdd2'\n          }}>\n            {error}\n            {useFallbackData && (\n              <div style={{marginTop: '10px', fontSize: '14px'}}>\n                <strong>To connect to backend:</strong>\n                <ol style={{marginTop: '5px', paddingLeft: '20px'}}>\n                  <li>Make sure backend server is running on port 5000</li>\n                  <li>Check if MongoDB connection is working</li>\n                  <li>Verify CORS is enabled in backend</li>\n                </ol>\n              </div>\n            )}\n          </div>\n        )}\n        <div className=\"table-container\">\n          <table id=\"timetable\">\n            <thead>\n              <tr>\n                <th>Exam Name</th>\n                <th>Grade</th>\n                <th>Subject</th>\n                <th>Date</th>\n                <th>Time</th>\n                <th>Hall</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loading ? (\n                <tr>\n                  <td colSpan=\"6\" style={{textAlign: 'center', padding: '40px'}}>\n                    <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px'}}>\n                      <div style={{\n                        width: '20px',\n                        height: '20px',\n                        border: '2px solid #00897b',\n                        borderTop: '2px solid transparent',\n                        borderRadius: '50%',\n                        animation: 'spin 1s linear infinite'\n                      }}></div>\n                      Loading...\n                    </div>\n                  </td>\n                </tr>\n              ) : filteredTimetable.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" style={{textAlign: 'center'}}>No data available</td>\n                </tr>\n              ) : (\n                filteredTimetable.map((item, index) => (\n                  <tr key={index}>\n                    <td>{item.examName}</td>\n                    <td>{item.grade || item.classLevel}</td>\n                    <td>{item.subject}</td>\n                    <td>{new Date(item.examDate).toLocaleDateString()}</td>\n                    <td>{item.examTime}</td>\n                    <td>{item.hall}</td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div style={{textAlign: 'center', marginBottom: '30px'}}>\n          <button \n            className=\"btn btn-primary\" \n            onClick={handleDownloadTimetable}\n            disabled={loading}\n          >\n            {loading ? 'Downloading...' : 'Download TimeTable (PDF)'}\n          </button>\n        </div>\n\n        {/* Hall Arrangements Section */}\n        <h3 style={{marginBottom: '15px', color: '#00897b'}}>Hall Arrangements</h3>\n        <div className=\"card-container\" id=\"hall-arrangements\">\n          {!selectedGrade || !selectedClass ? (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '100%',\n              padding: '40px',\n              backgroundColor: '#fff3cd',\n              border: '1px solid #ffeaa7',\n              borderRadius: '8px',\n              color: '#856404'\n            }}>\n              <p style={{textAlign: 'center', margin: 0}}>\n                Please select both Grade and Class to view hall arrangements\n              </p>\n            </div>\n          ) : loading ? (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '100%',\n              padding: '40px',\n              gap: '10px'\n            }}>\n              <div style={{\n                width: '20px',\n                height: '20px',\n                border: '2px solid #00897b',\n                borderTop: '2px solid transparent',\n                borderRadius: '50%',\n                animation: 'spin 1s linear infinite'\n              }}></div>\n              Loading hall arrangements...\n            </div>\n          ) : filteredHallArrangements.length === 0 ? (\n            <p style={{textAlign: 'center', width: '100%'}}>No hall arrangements found for the selected filters</p>\n          ) : (\n            filteredHallArrangements.map((item, index) => (\n              <div key={index} className=\"card\">\n                <div className=\"card-header\">\n                  <div className=\"card-title\">{item.hall}</div>\n                </div>\n                <div className=\"card-content\">\n                  <p><strong>Grade:</strong> {item.grade || item.classLevel}</p>\n                  <p><strong>Class:</strong> {item.sections\n                    .filter(section => section && ['A', 'B', 'C', 'D', 'E'].includes(section))\n                    .map(section => `${item.grade || item.classLevel}-${section}`)\n                    .join(', ')}</p>\n                  <p><strong>Capacity:</strong> {item.capacity} students</p>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        <div style={{textAlign: 'center', marginBottom: '30px'}}>\n          <button \n            className=\"btn btn-primary\" \n            onClick={handleDownloadHall}\n            disabled={loading}\n          >\n            {loading ? 'Downloading...' : 'Download Grade Hall Arrangements (PDF)'}\n          </button>\n        </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default TimeTableHallArrangement;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACvE,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAO,gCAAgC;AACvC,OAAOC,YAAY,MAAM,6BAA6B;AACtD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAMiB,eAAe,GAAGd,MAAM,CAAC,IAAI,CAAC;;EAEpC;EACA,MAAMe,qBAAqB,GAAG,CAC5B;IAAEC,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,aAAa;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EACnK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,SAAS;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC/J;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,SAAS;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC/J;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,gBAAgB;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EACtK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,aAAa;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EACnK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,SAAS;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC/J;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,SAAS;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,qBAAqB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAChK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,WAAW;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,mBAAmB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAChK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,SAAS;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC/J;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,KAAK;IAAEC,OAAO,EAAE,eAAe;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,EACrK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,MAAM;IAAEC,OAAO,EAAE,kBAAkB;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,mBAAmB;IAAEC,IAAI,EAAE;EAAS,CAAC,EACzK;IAAEP,QAAQ,EAAE,UAAU;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE,GAAG;IAAEC,YAAY,EAAE,MAAM;IAAEC,OAAO,EAAE,kBAAkB;IAAEC,QAAQ,EAAE,YAAY;IAAEC,QAAQ,EAAE,oBAAoB;IAAEC,IAAI,EAAE;EAAS,CAAC,CAC3K;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC6B,aAAa,EAAEC,gBAAgB,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC+B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACiC,wBAAwB,EAAEC,2BAA2B,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAC5E,MAAM,CAACmC,OAAO,EAAEC,UAAU,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACqC,KAAK,EAAEC,QAAQ,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACuC,eAAe,EAAEC,kBAAkB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAMyC,sBAAsB,GAAIC,IAAI,IAAK;IACvC,OAAOA,IAAI,CAACC,GAAG,CAACC,IAAI,KAAK;MACvB,GAAGA,IAAI;MACPxB,KAAK,EAAEwB,IAAI,CAACxB,KAAK,IAAIwB,IAAI,CAACC,UAAU;MACpCxB,KAAK,EAAEuB,IAAI,CAACvB,KAAK,IAAIuB,IAAI,CAACE,OAAO;MACjCxB,YAAY,EAAEsB,IAAI,CAACtB,YAAY,IAAI,GAAGsB,IAAI,CAACxB,KAAK,IAAIwB,IAAI,CAACC,UAAU,IAAID,IAAI,CAACvB,KAAK,IAAIuB,IAAI,CAACE,OAAO;IACnG,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIC,WAAW,IAAK;IACtC,IAAI,CAACA,WAAW,EAAE,OAAO,EAAE;IAC3B,MAAMC,KAAK,GAAGD,WAAW,CAACC,KAAK,CAAC,aAAa,CAAC;IAC9C,OAAOA,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGD,WAAW;EACvC,CAAC;;EAED;EACA,MAAME,sBAAsB,GAAGA,CAACC,UAAU,EAAEC,WAAW,GAAG,IAAI,KAAK;IACjE,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC;IAEzBH,UAAU,CAACI,OAAO,CAACC,SAAS,IAAI;MAC9B;MACA,IAAIJ,WAAW,IAAII,SAAS,CAACnC,KAAK,KAAK+B,WAAW,EAAE;QAClD;MACF;MAEA,MAAMK,OAAO,GAAGD,SAAS,CAAC9B,IAAI;MAC9B,IAAI,CAAC2B,OAAO,CAACK,GAAG,CAACD,OAAO,CAAC,EAAE;QACzBJ,OAAO,CAACM,GAAG,CAACF,OAAO,EAAE;UACnB/B,IAAI,EAAE+B,OAAO;UACbrC,KAAK,EAAEoC,SAAS,CAACpC,KAAK,IAAIoC,SAAS,CAACX,UAAU;UAC9Ce,QAAQ,EAAE,IAAIC,GAAG,CAAC,CAAC;UACnBC,QAAQ,EAAE,EAAE,CAAC;QACf,CAAC,CAAC;MACJ;;MAEA;MACA,MAAMhB,OAAO,GAAGU,SAAS,CAACnC,KAAK,IAAImC,SAAS,CAACV,OAAO;MACpD,IAAIA,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACiB,QAAQ,CAACjB,OAAO,CAAC,EAAE;QAC1DO,OAAO,CAACW,GAAG,CAACP,OAAO,CAAC,CAACG,QAAQ,CAACK,GAAG,CAACnB,OAAO,CAAC;MAC5C;IACF,CAAC,CAAC;;IAEF;IACA,OAAOoB,KAAK,CAACC,IAAI,CAACd,OAAO,CAACe,MAAM,CAAC,CAAC,CAAC,CAACzB,GAAG,CAACjB,IAAI,KAAK;MAC/C,GAAGA,IAAI;MACPkC,QAAQ,EAAEM,KAAK,CAACC,IAAI,CAACzC,IAAI,CAACkC,QAAQ,CAAC,CAACS,IAAI,CAAC;IAC3C,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAMC,QAAQ,GAAGpE,WAAW,CAAC,YAAY;IACvC,IAAI;MACFkC,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;;MAEd;MACA,MAAMiC,WAAW,GAAGxB,cAAc,CAACpB,aAAa,CAAC;;MAEjD;MACA,MAAMwB,UAAU,GAAG,MAAM7C,YAAY,CAACkE,qBAAqB,CAACD,WAAW,EAAE1C,aAAa,CAAC;;MAEvF;MACA,MAAM4C,oBAAoB,GAAGhC,sBAAsB,CAACU,UAAU,CAAC;;MAE/D;MACA,IAAIuB,gBAAgB,GAAG,EAAE;MACzB,IAAI/C,aAAa,IAAIE,aAAa,EAAE;QAClC;QACA,MAAM8C,eAAe,GAAG,MAAMrE,YAAY,CAACkE,qBAAqB,CAACD,WAAW,EAAE,EAAE,CAAC;QACjF,MAAMK,yBAAyB,GAAGnC,sBAAsB,CAACkC,eAAe,CAAC;QACzE;QACAD,gBAAgB,GAAGxB,sBAAsB,CAAC0B,yBAAyB,EAAE/C,aAAa,CAAC;MACrF;MAEAG,oBAAoB,CAACyC,oBAAoB,CAAC;MAC1CvC,2BAA2B,CAACwC,gBAAgB,CAAC;MAC7ClC,kBAAkB,CAAC,KAAK,CAAC;IAC3B,CAAC,CAAC,OAAOqC,GAAG,EAAE;MACZC,OAAO,CAACzC,KAAK,CAAC,6CAA6C,EAAEwC,GAAG,CAAC;MACjEvC,QAAQ,CAAC,6CAA6C,CAAC;;MAEvD;MACA,MAAMiC,WAAW,GAAGxB,cAAc,CAACpB,aAAa,CAAC;MACjD,MAAMoD,qBAAqB,GAAG7D,qBAAqB,CAAC8D,MAAM,CAACpC,IAAI,IAAI;QACjE,IAAI2B,WAAW,IAAI3B,IAAI,CAACxB,KAAK,KAAK6D,QAAQ,CAACV,WAAW,CAAC,EAAE,OAAO,KAAK;QACrE,IAAI1C,aAAa,IAAIe,IAAI,CAACvB,KAAK,KAAKQ,aAAa,EAAE,OAAO,KAAK;QAC/D,OAAO,IAAI;MACb,CAAC,CAAC;;MAEF;MACA,IAAIqD,gBAAgB,GAAG,EAAE;MACzB,IAAIvD,aAAa,IAAIE,aAAa,EAAE;QAClC;QACA,MAAMsD,kBAAkB,GAAGjE,qBAAqB,CAAC8D,MAAM,CAACpC,IAAI,IAAI;UAC9D,IAAI2B,WAAW,IAAI3B,IAAI,CAACxB,KAAK,KAAK6D,QAAQ,CAACV,WAAW,CAAC,EAAE,OAAO,KAAK;UACrE,OAAO,IAAI;QACb,CAAC,CAAC;QACF;QACAW,gBAAgB,GAAGhC,sBAAsB,CAACiC,kBAAkB,EAAEtD,aAAa,CAAC;MAC9E;MAEAG,oBAAoB,CAAC+C,qBAAqB,CAAC;MAC3C7C,2BAA2B,CAACgD,gBAAgB,CAAC;MAC7C1C,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,SAAS;MACRJ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACT,aAAa,EAAEE,aAAa,CAAC,CAAC;;EAElC;EACA,MAAMuD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMd,QAAQ,CAAC,CAAC;EAClB,CAAC;;EAED;EACA,MAAMe,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IAC1C,IAAI,CAAC1D,aAAa,EAAE;MAClB2D,KAAK,CAAC,6CAA6C,CAAC;MACpD;IACF;IAEA,IAAI/C,eAAe,EAAE;MACnB+C,KAAK,CAAC,0DAA0D,CAAC;MACjE;IACF;IAEA,IAAI;MACFlD,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMmC,WAAW,GAAGxB,cAAc,CAACpB,aAAa,CAAC;MACjD;MACA,MAAMrB,YAAY,CAACiF,wBAAwB,CAAChB,WAAW,CAAC;IAC1D,CAAC,CAAC,OAAOM,GAAG,EAAE;MACZS,KAAK,CAAC,iDAAiD,CAAC;MACxDR,OAAO,CAACzC,KAAK,CAAC,iBAAiB,EAAEwC,GAAG,CAAC;IACvC,CAAC,SAAS;MACRzC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMoD,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI,CAAC7D,aAAa,IAAI,CAACE,aAAa,EAAE;MACpCyD,KAAK,CAAC,kEAAkE,CAAC;MACzE;IACF;IAEA,IAAI/C,eAAe,EAAE;MACnB+C,KAAK,CAAC,0DAA0D,CAAC;MACjE;IACF;IAEA,IAAI;MACFlD,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMmC,WAAW,GAAGxB,cAAc,CAACpB,aAAa,CAAC;MACjD,MAAMrB,YAAY,CAACmF,sCAAsC,CAAClB,WAAW,EAAE1C,aAAa,CAAC;IACvF,CAAC,CAAC,OAAOgD,GAAG,EAAE;MACZS,KAAK,CAAC,yDAAyD,CAAC;MAChER,OAAO,CAACzC,KAAK,CAAC,iBAAiB,EAAEwC,GAAG,CAAC;IACvC,CAAC,SAAS;MACRzC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACAnC,SAAS,CAAC,MAAM;IACdqE,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,CAAC3C,aAAa,EAAEE,aAAa,EAAEyC,QAAQ,CAAC,CAAC;;EAE5C;EACArE,SAAS,CAAC,MAAM;IACdqE,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;;EAEd;EACArE,SAAS,CAAC,MAAM;IACd,SAASyF,kBAAkBA,CAACC,CAAC,EAAE;MAC7B,IAAI1E,eAAe,CAAC2E,OAAO,IAAI,CAAC3E,eAAe,CAAC2E,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,EAAE;QAC1E9E,mBAAmB,CAAC,KAAK,CAAC;MAC5B;IACF;IACA+E,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;IAC1D,OAAO,MAAMK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEP,kBAAkB,CAAC;EAC5E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjF,OAAA,CAAAE,SAAA;IAAAuF,QAAA,gBACEzF,OAAA,CAACL,UAAU;MAAA+F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACd7F,OAAA;MAAK8F,SAAS,EAAC,0BAA0B;MAAAL,QAAA,eACvCzF,OAAA;QAAK8F,SAAS,EAAC,WAAW;QAAAL,QAAA,gBACxBzF,OAAA;UAAK8F,SAAS,EAAC,aAAa;UAAAL,QAAA,gBAC5BzF,OAAA;YAAAyF,QAAA,EAAI;UAAyC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClD7F,OAAA;YAAAyF,QAAA,EAAG;UAAmG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC1G7F,OAAA;YAAK+F,KAAK,EAAE;cAAEC,SAAS,EAAE,MAAM;cAAEC,OAAO,EAAE,MAAM;cAAEC,GAAG,EAAE,MAAM;cAAEC,UAAU,EAAE;YAAS,CAAE;YAAAV,QAAA,gBACpFzF,OAAA;cAAK+F,KAAK,EAAE;gBAAEK,QAAQ,EAAE;cAAW,CAAE;cAACC,GAAG,EAAE7F,eAAgB;cAAAiF,QAAA,gBACzDzF,OAAA;gBACE8F,SAAS,EAAC,mBAAmB;gBAC7BQ,OAAO,EAAEA,CAAA,KAAM/F,mBAAmB,CAACgG,CAAC,IAAI,CAACA,CAAC,CAAE;gBAC5CR,KAAK,EAAE;kBAAES,OAAO,EAAE;gBAAY,CAAE;gBAAAf,QAAA,GACjC,cACa,eAAAzF,OAAA;kBAAG8F,SAAS,EAAC,mBAAmB;kBAACC,KAAK,EAAE;oBAAEU,UAAU,EAAE;kBAAE;gBAAE;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnE,CAAC,EACRvF,gBAAgB,iBACfN,OAAA;gBAAK+F,KAAK,EAAE;kBAAEK,QAAQ,EAAE,UAAU;kBAAEM,GAAG,EAAE,MAAM;kBAAEC,KAAK,EAAE,CAAC;kBAAEC,UAAU,EAAE,MAAM;kBAAEC,MAAM,EAAE,gBAAgB;kBAAEC,YAAY,EAAE,CAAC;kBAAEC,SAAS,EAAE,8BAA8B;kBAAEC,MAAM,EAAE,IAAI;kBAAEC,QAAQ,EAAE;gBAAI,CAAE;gBAACC,IAAI,EAAC,MAAM;gBAAAzB,QAAA,gBAC7MzF,OAAA;kBAAQ8F,SAAS,EAAC,eAAe;kBAACQ,OAAO,EAAEA,CAAA,KAAM;oBAAE/F,mBAAmB,CAAC,KAAK,CAAC;oBAAEF,QAAQ,CAAC,QAAQ,CAAC;kBAAE,CAAE;kBAAC0F,KAAK,EAAE;oBAAEE,OAAO,EAAE,OAAO;oBAAEO,OAAO,EAAE,WAAW;oBAAEW,KAAK,EAAE,MAAM;oBAAEC,SAAS,EAAE,MAAM;oBAAER,UAAU,EAAE,MAAM;oBAAEC,MAAM,EAAE;kBAAO,CAAE;kBAAApB,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC7O7F,OAAA;kBAAQ8F,SAAS,EAAC,eAAe;kBAACQ,OAAO,EAAEA,CAAA,KAAM;oBAAE/F,mBAAmB,CAAC,KAAK,CAAC;oBAAEF,QAAQ,CAAC,YAAY,CAAC;kBAAE,CAAE;kBAAC0F,KAAK,EAAE;oBAAEE,OAAO,EAAE,OAAO;oBAAEO,OAAO,EAAE,WAAW;oBAAEW,KAAK,EAAE,MAAM;oBAAEC,SAAS,EAAE,MAAM;oBAAER,UAAU,EAAE,MAAM;oBAAEC,MAAM,EAAE;kBAAO,CAAE;kBAAApB,QAAA,EAAC;gBAA8B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvQ,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAEN7F,OAAA;cACE8F,SAAS,EAAC,iBAAiB;cAC3BQ,OAAO,EAAEA,CAAA,KAAMjG,QAAQ,CAAC,uBAAuB,CAAE;cACjD0F,KAAK,EAAE;gBACLS,OAAO,EAAE,WAAW;gBACpBa,QAAQ,EAAE,MAAM;gBAChBP,YAAY,EAAE,KAAK;gBACnBD,MAAM,EAAE,MAAM;gBACdD,UAAU,EAAE,qDAAqD;gBACjEU,KAAK,EAAE,OAAO;gBACdC,MAAM,EAAE,SAAS;gBACjBC,UAAU,EAAE,UAAU;gBACtBT,SAAS,EAAE;cACb,CAAE;cACFU,WAAW,EAAGvC,CAAC,IAAK;gBAClBA,CAAC,CAACG,MAAM,CAACU,KAAK,CAAC2B,SAAS,GAAG,kBAAkB;gBAC7CxC,CAAC,CAACG,MAAM,CAACU,KAAK,CAACgB,SAAS,GAAG,mCAAmC;cAChE,CAAE;cACFY,UAAU,EAAGzC,CAAC,IAAK;gBACjBA,CAAC,CAACG,MAAM,CAACU,KAAK,CAAC2B,SAAS,GAAG,eAAe;gBAC1CxC,CAAC,CAACG,MAAM,CAACU,KAAK,CAACgB,SAAS,GAAG,kCAAkC;cAC/D,CAAE;cAAAtB,QAAA,gBAEFzF,OAAA;gBAAG8F,SAAS,EAAC,aAAa;gBAACC,KAAK,EAAE;kBAAE6B,WAAW,EAAE;gBAAM;cAAE;gBAAAlC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,wBAEhE;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN7F,OAAA;UAAK8F,SAAS,EAAC,gBAAgB;UAAAL,QAAA,eAC7BzF,OAAA;YAAK8F,SAAS,EAAC,aAAa;YAAAL,QAAA,gBAC1BzF,OAAA;cAAK8F,SAAS,EAAC,YAAY;cAAAL,QAAA,gBACzBzF,OAAA;gBAAO6H,OAAO,EAAC,cAAc;gBAAApC,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClD7F,OAAA;gBACE8H,EAAE,EAAC,cAAc;gBACjBC,KAAK,EAAE7G,aAAc;gBACrB8G,QAAQ,EAAG9C,CAAC,IAAK/D,gBAAgB,CAAC+D,CAAC,CAACG,MAAM,CAAC0C,KAAK,CAAE;gBAAAtC,QAAA,gBAElDzF,OAAA;kBAAQ+H,KAAK,EAAC,EAAE;kBAAAtC,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,SAAS;kBAAAtC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC7F,OAAA;kBAAQ+H,KAAK,EAAC,UAAU;kBAAAtC,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1C7F,OAAA;kBAAQ+H,KAAK,EAAC,UAAU;kBAAAtC,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAK8F,SAAS,EAAC,YAAY;cAAAL,QAAA,gBACzBzF,OAAA;gBAAO6H,OAAO,EAAC,cAAc;gBAAApC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3C7F,OAAA;gBACE8H,EAAE,EAAC,cAAc;gBACjBC,KAAK,EAAE3G,aAAc;gBACrB4G,QAAQ,EAAG9C,CAAC,IAAK7D,gBAAgB,CAAC6D,CAAC,CAACG,MAAM,CAAC0C,KAAK,CAAE;gBAAAtC,QAAA,gBAElDzF,OAAA;kBAAQ+H,KAAK,EAAC,EAAE;kBAAAtC,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACrC7F,OAAA;kBAAQ+H,KAAK,EAAC,GAAG;kBAAAtC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC5B7F,OAAA;kBAAQ+H,KAAK,EAAC,GAAG;kBAAAtC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC5B7F,OAAA;kBAAQ+H,KAAK,EAAC,GAAG;kBAAAtC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN7F,OAAA;cAAK8F,SAAS,EAAC,YAAY;cAAAL,QAAA,eACzBzF,OAAA;gBACE8F,SAAS,EAAC,iBAAiB;gBAC3BQ,OAAO,EAAE3B,YAAa;gBACtBsD,QAAQ,EAAEvG,OAAQ;gBAAA+D,QAAA,EAEjB/D,OAAO,GAAG,YAAY,GAAG;cAAe;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN7F,OAAA;UAAI+F,KAAK,EAAE;YAACmC,YAAY,EAAE,MAAM;YAAEZ,KAAK,EAAE;UAAS,CAAE;UAAA7B,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAClEjE,KAAK,iBACJ5B,OAAA;UAAK+F,KAAK,EAAE;YACVa,UAAU,EAAE9E,eAAe,GAAG,SAAS,GAAG,SAAS;YACnDwF,KAAK,EAAExF,eAAe,GAAG,SAAS,GAAG,SAAS;YAC9C0E,OAAO,EAAE,MAAM;YACfM,YAAY,EAAE,KAAK;YACnBoB,YAAY,EAAE,MAAM;YACpBrB,MAAM,EAAE/E,eAAe,GAAG,mBAAmB,GAAG;UAClD,CAAE;UAAA2D,QAAA,GACC7D,KAAK,EACLE,eAAe,iBACd9B,OAAA;YAAK+F,KAAK,EAAE;cAACC,SAAS,EAAE,MAAM;cAAEqB,QAAQ,EAAE;YAAM,CAAE;YAAA5B,QAAA,gBAChDzF,OAAA;cAAAyF,QAAA,EAAQ;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACvC7F,OAAA;cAAI+F,KAAK,EAAE;gBAACC,SAAS,EAAE,KAAK;gBAAEmC,WAAW,EAAE;cAAM,CAAE;cAAA1C,QAAA,gBACjDzF,OAAA;gBAAAyF,QAAA,EAAI;cAAgD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACzD7F,OAAA;gBAAAyF,QAAA,EAAI;cAAsC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/C7F,OAAA;gBAAAyF,QAAA,EAAI;cAAiC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN,eACD7F,OAAA;UAAK8F,SAAS,EAAC,iBAAiB;UAAAL,QAAA,eAC9BzF,OAAA;YAAO8H,EAAE,EAAC,WAAW;YAAArC,QAAA,gBACnBzF,OAAA;cAAAyF,QAAA,eACEzF,OAAA;gBAAAyF,QAAA,gBACEzF,OAAA;kBAAAyF,QAAA,EAAI;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClB7F,OAAA;kBAAAyF,QAAA,EAAI;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACd7F,OAAA;kBAAAyF,QAAA,EAAI;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChB7F,OAAA;kBAAAyF,QAAA,EAAI;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACb7F,OAAA;kBAAAyF,QAAA,EAAI;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACb7F,OAAA;kBAAAyF,QAAA,EAAI;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eACR7F,OAAA;cAAAyF,QAAA,EACG/D,OAAO,gBACN1B,OAAA;gBAAAyF,QAAA,eACEzF,OAAA;kBAAIoI,OAAO,EAAC,GAAG;kBAACrC,KAAK,EAAE;oBAACqB,SAAS,EAAE,QAAQ;oBAAEZ,OAAO,EAAE;kBAAM,CAAE;kBAAAf,QAAA,eAC5DzF,OAAA;oBAAK+F,KAAK,EAAE;sBAACE,OAAO,EAAE,MAAM;sBAAEE,UAAU,EAAE,QAAQ;sBAAEkC,cAAc,EAAE,QAAQ;sBAAEnC,GAAG,EAAE;oBAAM,CAAE;oBAAAT,QAAA,gBACzFzF,OAAA;sBAAK+F,KAAK,EAAE;wBACVoB,KAAK,EAAE,MAAM;wBACbmB,MAAM,EAAE,MAAM;wBACdzB,MAAM,EAAE,mBAAmB;wBAC3B0B,SAAS,EAAE,uBAAuB;wBAClCzB,YAAY,EAAE,KAAK;wBACnB0B,SAAS,EAAE;sBACb;oBAAE;sBAAA9C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,cAEX;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,GACHvE,iBAAiB,CAACmH,MAAM,KAAK,CAAC,gBAChCzI,OAAA;gBAAAyF,QAAA,eACEzF,OAAA;kBAAIoI,OAAO,EAAC,GAAG;kBAACrC,KAAK,EAAE;oBAACqB,SAAS,EAAE;kBAAQ,CAAE;kBAAA3B,QAAA,EAAC;gBAAiB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClE,CAAC,GAELvE,iBAAiB,CAACY,GAAG,CAAC,CAACC,IAAI,EAAEuG,KAAK,kBAChC1I,OAAA;gBAAAyF,QAAA,gBACEzF,OAAA;kBAAAyF,QAAA,EAAKtD,IAAI,CAACzB;gBAAQ;kBAAAgF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACxB7F,OAAA;kBAAAyF,QAAA,EAAKtD,IAAI,CAACxB,KAAK,IAAIwB,IAAI,CAACC;gBAAU;kBAAAsD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACxC7F,OAAA;kBAAAyF,QAAA,EAAKtD,IAAI,CAACrB;gBAAO;kBAAA4E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvB7F,OAAA;kBAAAyF,QAAA,EAAK,IAAIkD,IAAI,CAACxG,IAAI,CAACpB,QAAQ,CAAC,CAAC6H,kBAAkB,CAAC;gBAAC;kBAAAlD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvD7F,OAAA;kBAAAyF,QAAA,EAAKtD,IAAI,CAACnB;gBAAQ;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACxB7F,OAAA;kBAAAyF,QAAA,EAAKtD,IAAI,CAAClB;gBAAI;kBAAAyE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA,GANb6C,KAAK;gBAAAhD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAOV,CACL;YACF;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACN7F,OAAA;UAAK+F,KAAK,EAAE;YAACqB,SAAS,EAAE,QAAQ;YAAEc,YAAY,EAAE;UAAM,CAAE;UAAAzC,QAAA,eACtDzF,OAAA;YACE8F,SAAS,EAAC,iBAAiB;YAC3BQ,OAAO,EAAE1B,uBAAwB;YACjCqD,QAAQ,EAAEvG,OAAQ;YAAA+D,QAAA,EAEjB/D,OAAO,GAAG,gBAAgB,GAAG;UAA0B;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGN7F,OAAA;UAAI+F,KAAK,EAAE;YAACmC,YAAY,EAAE,MAAM;YAAEZ,KAAK,EAAE;UAAS,CAAE;UAAA7B,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3E7F,OAAA;UAAK8F,SAAS,EAAC,gBAAgB;UAACgC,EAAE,EAAC,mBAAmB;UAAArC,QAAA,EACnD,CAACvE,aAAa,IAAI,CAACE,aAAa,gBAC/BpB,OAAA;YAAK+F,KAAK,EAAE;cACVE,OAAO,EAAE,MAAM;cACfE,UAAU,EAAE,QAAQ;cACpBkC,cAAc,EAAE,QAAQ;cACxBlB,KAAK,EAAE,MAAM;cACbX,OAAO,EAAE,MAAM;cACfqC,eAAe,EAAE,SAAS;cAC1BhC,MAAM,EAAE,mBAAmB;cAC3BC,YAAY,EAAE,KAAK;cACnBQ,KAAK,EAAE;YACT,CAAE;YAAA7B,QAAA,eACAzF,OAAA;cAAG+F,KAAK,EAAE;gBAACqB,SAAS,EAAE,QAAQ;gBAAE0B,MAAM,EAAE;cAAC,CAAE;cAAArD,QAAA,EAAC;YAE5C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,GACJnE,OAAO,gBACT1B,OAAA;YAAK+F,KAAK,EAAE;cACVE,OAAO,EAAE,MAAM;cACfE,UAAU,EAAE,QAAQ;cACpBkC,cAAc,EAAE,QAAQ;cACxBlB,KAAK,EAAE,MAAM;cACbX,OAAO,EAAE,MAAM;cACfN,GAAG,EAAE;YACP,CAAE;YAAAT,QAAA,gBACAzF,OAAA;cAAK+F,KAAK,EAAE;gBACVoB,KAAK,EAAE,MAAM;gBACbmB,MAAM,EAAE,MAAM;gBACdzB,MAAM,EAAE,mBAAmB;gBAC3B0B,SAAS,EAAE,uBAAuB;gBAClCzB,YAAY,EAAE,KAAK;gBACnB0B,SAAS,EAAE;cACb;YAAE;cAAA9C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,gCAEX;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,GACJrE,wBAAwB,CAACiH,MAAM,KAAK,CAAC,gBACvCzI,OAAA;YAAG+F,KAAK,EAAE;cAACqB,SAAS,EAAE,QAAQ;cAAED,KAAK,EAAE;YAAM,CAAE;YAAA1B,QAAA,EAAC;UAAmD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,GAEvGrE,wBAAwB,CAACU,GAAG,CAAC,CAACC,IAAI,EAAEuG,KAAK,kBACvC1I,OAAA;YAAiB8F,SAAS,EAAC,MAAM;YAAAL,QAAA,gBAC/BzF,OAAA;cAAK8F,SAAS,EAAC,aAAa;cAAAL,QAAA,eAC1BzF,OAAA;gBAAK8F,SAAS,EAAC,YAAY;gBAAAL,QAAA,EAAEtD,IAAI,CAAClB;cAAI;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,eACN7F,OAAA;cAAK8F,SAAS,EAAC,cAAc;cAAAL,QAAA,gBAC3BzF,OAAA;gBAAAyF,QAAA,gBAAGzF,OAAA;kBAAAyF,QAAA,EAAQ;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC1D,IAAI,CAACxB,KAAK,IAAIwB,IAAI,CAACC,UAAU;cAAA;gBAAAsD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9D7F,OAAA;gBAAAyF,QAAA,gBAAGzF,OAAA;kBAAAyF,QAAA,EAAQ;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC1D,IAAI,CAACgB,QAAQ,CACtCoB,MAAM,CAAClC,OAAO,IAAIA,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACiB,QAAQ,CAACjB,OAAO,CAAC,CAAC,CACzEH,GAAG,CAACG,OAAO,IAAI,GAAGF,IAAI,CAACxB,KAAK,IAAIwB,IAAI,CAACC,UAAU,IAAIC,OAAO,EAAE,CAAC,CAC7D0G,IAAI,CAAC,IAAI,CAAC;cAAA;gBAAArD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAClB7F,OAAA;gBAAAyF,QAAA,gBAAGzF,OAAA;kBAAAyF,QAAA,EAAQ;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC1D,IAAI,CAACkB,QAAQ,EAAC,WAAS;cAAA;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD,CAAC;UAAA,GAXE6C,KAAK;YAAAhD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAYV,CACN;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACN7F,OAAA;UAAK+F,KAAK,EAAE;YAACqB,SAAS,EAAE,QAAQ;YAAEc,YAAY,EAAE;UAAM,CAAE;UAAAzC,QAAA,eACtDzF,OAAA;YACE8F,SAAS,EAAC,iBAAiB;YAC3BQ,OAAO,EAAEvB,kBAAmB;YAC5BkD,QAAQ,EAAEvG,OAAQ;YAAA+D,QAAA,EAEjB/D,OAAO,GAAG,gBAAgB,GAAG;UAAwC;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACN7F,OAAA,CAACJ,MAAM;MAAA8F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACV,CAAC;AAEP,CAAC;AAACzF,EAAA,CAteID,wBAAwB;EAAA,QACXL,WAAW;AAAA;AAAAkJ,EAAA,GADxB7I,wBAAwB;AAwe9B,eAAeA,wBAAwB;AAAC,IAAA6I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}